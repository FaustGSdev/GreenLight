!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof module&&module.exports?module.exports=a(require("jquery")):a(jQuery)}(function(a){a.extend(a.fn,{validate:function(b){if(!this.length)return void(b&&b.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing."));var c=a.data(this[0],"validator");return c?c:(this.attr("novalidate","novalidate"),c=new a.validator(b,this[0]),a.data(this[0],"validator",c),c.settings.onsubmit&&(this.on("click.validate",":submit",function(b){c.settings.submitHandler&&(c.submitButton=b.target),a(this).hasClass("cancel")&&(c.cancelSubmit=!0),void 0!==a(this).attr("formnovalidate")&&(c.cancelSubmit=!0)}),this.on("submit.validate",function(b){function d(){var d,e;return c.settings.submitHandler?(c.submitButton&&(d=a("<input type='hidden'/>").attr("name",c.submitButton.name).val(a(c.submitButton).val()).appendTo(c.currentForm)),e=c.settings.submitHandler.call(c,c.currentForm,b),c.submitButton&&d.remove(),void 0!==e?e:!1):!0}return c.settings.debug&&b.preventDefault(),c.cancelSubmit?(c.cancelSubmit=!1,d()):c.form()?c.pendingRequest?(c.formSubmitted=!0,!1):d():(c.focusInvalid(),!1)})),c)},valid:function(){var b,c,d;return a(this[0]).is("form")?b=this.validate().form():(d=[],b=!0,c=a(this[0].form).validate(),this.each(function(){b=c.element(this)&&b,b||(d=d.concat(c.errorList))}),c.errorList=d),b},rules:function(b,c){if(this.length){var d,e,f,g,h,i,j=this[0];if(b)switch(d=a.data(j.form,"validator").settings,e=d.rules,f=a.validator.staticRules(j),b){case"add":a.extend(f,a.validator.normalizeRule(c)),delete f.messages,e[j.name]=f,c.messages&&(d.messages[j.name]=a.extend(d.messages[j.name],c.messages));break;case"remove":return c?(i={},a.each(c.split(/\s/),function(b,c){i[c]=f[c],delete f[c],"required"===c&&a(j).removeAttr("aria-required")}),i):(delete e[j.name],f)}return g=a.validator.normalizeRules(a.extend({},a.validator.classRules(j),a.validator.attributeRules(j),a.validator.dataRules(j),a.validator.staticRules(j)),j),g.required&&(h=g.required,delete g.required,g=a.extend({required:h},g),a(j).attr("aria-required","true")),g.remote&&(h=g.remote,delete g.remote,g=a.extend(g,{remote:h})),g}}}),a.extend(a.expr[":"],{blank:function(b){return!a.trim(""+a(b).val())},filled:function(b){var c=a(b).val();return null!==c&&!!a.trim(""+c)},unchecked:function(b){return!a(b).prop("checked")}}),a.validator=function(b,c){this.settings=a.extend(!0,{},a.validator.defaults,b),this.currentForm=c,this.init()},a.validator.format=function(b,c){return 1===arguments.length?function(){var c=a.makeArray(arguments);return c.unshift(b),a.validator.format.apply(this,c)}:void 0===c?b:(arguments.length>2&&c.constructor!==Array&&(c=a.makeArray(arguments).slice(1)),c.constructor!==Array&&(c=[c]),a.each(c,function(a,c){b=b.replace(new RegExp("\\{"+a+"\\}","g"),function(){return c})}),b)},a.extend(a.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",pendingClass:"pending",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:a([]),errorLabelContainer:a([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(a){this.lastActive=a,this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,a,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(a)))},onfocusout:function(a){this.checkable(a)||!(a.name in this.submitted)&&this.optional(a)||this.element(a)},onkeyup:function(b,c){var d=[16,17,18,20,35,36,37,38,39,40,45,144,225];9===c.which&&""===this.elementValue(b)||-1!==a.inArray(c.keyCode,d)||(b.name in this.submitted||b.name in this.invalid)&&this.element(b)},onclick:function(a){a.name in this.submitted?this.element(a):a.parentNode.name in this.submitted&&this.element(a.parentNode)},highlight:function(b,c,d){"radio"===b.type?this.findByName(b.name).addClass(c).removeClass(d):a(b).addClass(c).removeClass(d)},unhighlight:function(b,c,d){"radio"===b.type?this.findByName(b.name).removeClass(c).addClass(d):a(b).removeClass(c).addClass(d)}},setDefaults:function(b){a.extend(a.validator.defaults,b)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date ( ISO ).",number:"Please enter a valid number.",digits:"Please enter only digits.",equalTo:"Please enter the same value again.",maxlength:a.validator.format("Please enter no more than {0} characters."),minlength:a.validator.format("Please enter at least {0} characters."),rangelength:a.validator.format("Please enter a value between {0} and {1} characters long."),range:a.validator.format("Please enter a value between {0} and {1}."),max:a.validator.format("Please enter a value less than or equal to {0}."),min:a.validator.format("Please enter a value greater than or equal to {0}."),step:a.validator.format("Please enter a multiple of {0}.")},autoCreateRanges:!1,prototype:{init:function(){function b(b){var c=a.data(this.form,"validator"),d="on"+b.type.replace(/^validate/,""),e=c.settings;e[d]&&!a(this).is(e.ignore)&&e[d].call(c,this,b)}this.labelContainer=a(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||a(this.currentForm),this.containers=a(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var c,d=this.groups={};a.each(this.settings.groups,function(b,c){"string"==typeof c&&(c=c.split(/\s/)),a.each(c,function(a,c){d[c]=b})}),c=this.settings.rules,a.each(c,function(b,d){c[b]=a.validator.normalizeRule(d)}),a(this.currentForm).on("focusin.validate focusout.validate keyup.validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox'], [contenteditable]",b).on("click.validate","select, option, [type='radio'], [type='checkbox']",b),this.settings.invalidHandler&&a(this.currentForm).on("invalid-form.validate",this.settings.invalidHandler),a(this.currentForm).find("[required], [data-rule-required], .required").attr("aria-required","true")},form:function(){return this.checkForm(),a.extend(this.submitted,this.errorMap),this.invalid=a.extend({},this.errorMap),this.valid()||a(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var a=0,b=this.currentElements=this.elements();b[a];a++)this.check(b[a]);return this.valid()},element:function(b){var c,d,e=this.clean(b),f=this.validationTargetFor(e),g=this,h=!0;return void 0===f?delete this.invalid[e.name]:(this.prepareElement(f),this.currentElements=a(f),d=this.groups[f.name],d&&a.each(this.groups,function(a,b){b===d&&a!==f.name&&(e=g.validationTargetFor(g.clean(g.findByName(a))),e&&e.name in g.invalid&&(g.currentElements.push(e),h=h&&g.check(e)))}),c=this.check(f)!==!1,h=h&&c,c?this.invalid[f.name]=!1:this.invalid[f.name]=!0,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),a(b).attr("aria-invalid",!c)),h},showErrors:function(b){if(b){var c=this;a.extend(this.errorMap,b),this.errorList=a.map(this.errorMap,function(a,b){return{message:a,element:c.findByName(b)[0]}}),this.successList=a.grep(this.successList,function(a){return!(a.name in b)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){a.fn.resetForm&&a(this.currentForm).resetForm(),this.invalid={},this.submitted={},this.prepareForm(),this.hideErrors();var b=this.elements().removeData("previousValue").removeAttr("aria-invalid");this.resetElements(b)},resetElements:function(a){var b;if(this.settings.unhighlight)for(b=0;a[b];b++)this.settings.unhighlight.call(this,a[b],this.settings.errorClass,""),this.findByName(a[b].name).removeClass(this.settings.validClass);else a.removeClass(this.settings.errorClass).removeClass(this.settings.validClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(a){var b,c=0;for(b in a)a[b]&&c++;return c},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(a){a.not(this.containers).text(""),this.addWrapper(a).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{a(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(b){}},findLastActive:function(){var b=this.lastActive;return b&&1===a.grep(this.errorList,function(a){return a.element.name===b.name}).length&&b},elements:function(){var b=this,c={};return a(this.currentForm).find("input, select, textarea, [contenteditable]").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter(function(){var d=this.name||a(this).attr("name");return!d&&b.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.hasAttribute("contenteditable")&&(this.form=a(this).closest("form")[0]),d in c||!b.objectLength(a(this).rules())?!1:(c[d]=!0,!0)})},clean:function(b){return a(b)[0]},errors:function(){var b=this.settings.errorClass.split(" ").join(".");return a(this.settings.errorElement+"."+b,this.errorContext)},resetInternals:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=a([]),this.toHide=a([])},reset:function(){this.resetInternals(),this.currentElements=a([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(a){this.reset(),this.toHide=this.errorsFor(a)},elementValue:function(b){var c,d,e=a(b),f=b.type;return"radio"===f||"checkbox"===f?this.findByName(b.name).filter(":checked").val():"number"===f&&"undefined"!=typeof b.validity?b.validity.badInput?"NaN":e.val():(c=b.hasAttribute("contenteditable")?e.text():e.val(),"file"===f?"C:\\fakepath\\"===c.substr(0,12)?c.substr(12):(d=c.lastIndexOf("/"),d>=0?c.substr(d+1):(d=c.lastIndexOf("\\"),d>=0?c.substr(d+1):c)):"string"==typeof c?c.replace(/\r/g,""):c)},check:function(b){b=this.validationTargetFor(this.clean(b));var c,d,e,f=a(b).rules(),g=a.map(f,function(a,b){return b}).length,h=!1,i=this.elementValue(b);if("function"==typeof f.normalizer){if(i=f.normalizer.call(b,i),"string"!=typeof i)throw new TypeError("The normalizer should return a string value.");delete f.normalizer}for(d in f){e={method:d,parameters:f[d]};try{if(c=a.validator.methods[d].call(this,i,b,e.parameters),"dependency-mismatch"===c&&1===g){h=!0;continue}if(h=!1,"pending"===c)return void(this.toHide=this.toHide.not(this.errorsFor(b)));if(!c)return this.formatAndAdd(b,e),!1}catch(j){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+b.id+", check the '"+e.method+"' method.",j),j instanceof TypeError&&(j.message+=".  Exception occurred when checking element "+b.id+", check the '"+e.method+"' method."),j}}if(!h)return this.objectLength(f)&&this.successList.push(b),!0},customDataMessage:function(b,c){return a(b).data("msg"+c.charAt(0).toUpperCase()+c.substring(1).toLowerCase())||a(b).data("msg")},customMessage:function(a,b){var c=this.settings.messages[a];return c&&(c.constructor===String?c:c[b])},findDefined:function(){for(var a=0;a<arguments.length;a++)if(void 0!==arguments[a])return arguments[a]},defaultMessage:function(b,c){var d=this.findDefined(this.customMessage(b.name,c.method),this.customDataMessage(b,c.method),!this.settings.ignoreTitle&&b.title||void 0,a.validator.messages[c.method],"<strong>Warning: No message defined for "+b.name+"</strong>"),e=/\$?\{(\d+)\}/g;return"function"==typeof d?d=d.call(this,c.parameters,b):e.test(d)&&(d=a.validator.format(d.replace(e,"{$1}"),c.parameters)),d},formatAndAdd:function(a,b){var c=this.defaultMessage(a,b);this.errorList.push({message:c,element:a,method:b.method}),this.errorMap[a.name]=c,this.submitted[a.name]=c},addWrapper:function(a){return this.settings.wrapper&&(a=a.add(a.parent(this.settings.wrapper))),a},defaultShowErrors:function(){var a,b,c;for(a=0;this.errorList[a];a++)c=this.errorList[a],this.settings.highlight&&this.settings.highlight.call(this,c.element,this.settings.errorClass,this.settings.validClass),this.showLabel(c.element,c.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(a=0;this.successList[a];a++)this.showLabel(this.successList[a]);if(this.settings.unhighlight)for(a=0,b=this.validElements();b[a];a++)this.settings.unhighlight.call(this,b[a],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return a(this.errorList).map(function(){return this.element})},showLabel:function(b,c){var d,e,f,g,h=this.errorsFor(b),i=this.idOrName(b),j=a(b).attr("aria-describedby");h.length?(h.removeClass(this.settings.validClass).addClass(this.settings.errorClass),h.html(c)):(h=a("<"+this.settings.errorElement+">").attr("id",i+"-error").addClass(this.settings.errorClass).html(c||""),d=h,this.settings.wrapper&&(d=h.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(d):this.settings.errorPlacement?this.settings.errorPlacement(d,a(b)):d.insertAfter(b),h.is("label")?h.attr("for",i):0===h.parents("label[for='"+this.escapeCssMeta(i)+"']").length&&(f=h.attr("id"),j?j.match(new RegExp("\\b"+this.escapeCssMeta(f)+"\\b"))||(j+=" "+f):j=f,a(b).attr("aria-describedby",j),e=this.groups[b.name],e&&(g=this,a.each(g.groups,function(b,c){c===e&&a("[name='"+g.escapeCssMeta(b)+"']",g.currentForm).attr("aria-describedby",h.attr("id"))})))),!c&&this.settings.success&&(h.text(""),"string"==typeof this.settings.success?h.addClass(this.settings.success):this.settings.success(h,b)),this.toShow=this.toShow.add(h)},errorsFor:function(b){var c=this.escapeCssMeta(this.idOrName(b)),d=a(b).attr("aria-describedby"),e="label[for='"+c+"'], label[for='"+c+"'] *";return d&&(e=e+", #"+this.escapeCssMeta(d).replace(/\s+/g,", #")),this.errors().filter(e)},escapeCssMeta:function(a){return a.replace(/([\\!"#$%&'()*+,./:;<=>?@\[\]^`{|}~])/g,"\\$1")},idOrName:function(a){return this.groups[a.name]||(this.checkable(a)?a.name:a.id||a.name)},validationTargetFor:function(b){return this.checkable(b)&&(b=this.findByName(b.name)),a(b).not(this.settings.ignore)[0]},checkable:function(a){return/radio|checkbox/i.test(a.type)},findByName:function(b){return a(this.currentForm).find("[name='"+this.escapeCssMeta(b)+"']")},getLength:function(b,c){switch(c.nodeName.toLowerCase()){case"select":return a("option:selected",c).length;case"input":if(this.checkable(c))return this.findByName(c.name).filter(":checked").length}return b.length},depend:function(a,b){return this.dependTypes[typeof a]?this.dependTypes[typeof a](a,b):!0},dependTypes:{"boolean":function(a){return a},string:function(b,c){return!!a(b,c.form).length},"function":function(a,b){return a(b)}},optional:function(b){var c=this.elementValue(b);return!a.validator.methods.required.call(this,c,b)&&"dependency-mismatch"},startRequest:function(b){this.pending[b.name]||(this.pendingRequest++,a(b).addClass(this.settings.pendingClass),this.pending[b.name]=!0)},stopRequest:function(b,c){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[b.name],a(b).removeClass(this.settings.pendingClass),c&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(a(this.currentForm).submit(),this.formSubmitted=!1):!c&&0===this.pendingRequest&&this.formSubmitted&&(a(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(b,c){return a.data(b,"previousValue")||a.data(b,"previousValue",{old:null,valid:!0,message:this.defaultMessage(b,{method:c})})},destroy:function(){this.resetForm(),a(this.currentForm).off(".validate").removeData("validator").find(".validate-equalTo-blur").off(".validate-equalTo").removeClass("validate-equalTo-blur")}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(b,c){b.constructor===String?this.classRuleSettings[b]=c:a.extend(this.classRuleSettings,b)},classRules:function(b){var c={},d=a(b).attr("class");return d&&a.each(d.split(" "),function(){this in a.validator.classRuleSettings&&a.extend(c,a.validator.classRuleSettings[this])}),c},normalizeAttributeRule:function(a,b,c,d){/min|max|step/.test(c)&&(null===b||/number|range|text/.test(b))&&(d=Number(d),isNaN(d)&&(d=void 0)),d||0===d?a[c]=d:b===c&&"range"!==b&&(a[c]=!0)},attributeRules:function(b){var c,d,e={},f=a(b),g=b.getAttribute("type");for(c in a.validator.methods)"required"===c?(d=b.getAttribute(c),""===d&&(d=!0),d=!!d):d=f.attr(c),this.normalizeAttributeRule(e,g,c,d);return e.maxlength&&/-1|2147483647|524288/.test(e.maxlength)&&delete e.maxlength,e},dataRules:function(b){var c,d,e={},f=a(b),g=b.getAttribute("type");for(c in a.validator.methods)d=f.data("rule"+c.charAt(0).toUpperCase()+c.substring(1).toLowerCase()),this.normalizeAttributeRule(e,g,c,d);return e},staticRules:function(b){var c={},d=a.data(b.form,"validator");return d.settings.rules&&(c=a.validator.normalizeRule(d.settings.rules[b.name])||{}),c},normalizeRules:function(b,c){return a.each(b,function(d,e){if(e===!1)return void delete b[d];if(e.param||e.depends){var f=!0;switch(typeof e.depends){case"string":f=!!a(e.depends,c.form).length;break;case"function":f=e.depends.call(c,c)}f?b[d]=void 0!==e.param?e.param:!0:(a.data(c.form,"validator").resetElements(a(c)),delete b[d])}}),a.each(b,function(d,e){b[d]=a.isFunction(e)&&"normalizer"!==d?e(c):e}),a.each(["minlength","maxlength"],function(){b[this]&&(b[this]=Number(b[this]))}),a.each(["rangelength","range"],function(){var c;b[this]&&(a.isArray(b[this])?b[this]=[Number(b[this][0]),Number(b[this][1])]:"string"==typeof b[this]&&(c=b[this].replace(/[\[\]]/g,"").split(/[\s,]+/),b[this]=[Number(c[0]),Number(c[1])]))}),a.validator.autoCreateRanges&&(null!=b.min&&null!=b.max&&(b.range=[b.min,b.max],delete b.min,delete b.max),null!=b.minlength&&null!=b.maxlength&&(b.rangelength=[b.minlength,b.maxlength],delete b.minlength,delete b.maxlength)),b},normalizeRule:function(b){if("string"==typeof b){var c={};a.each(b.split(/\s/),function(){c[this]=!0}),b=c}return b},addMethod:function(b,c,d){a.validator.methods[b]=c,a.validator.messages[b]=void 0!==d?d:a.validator.messages[b],c.length<3&&a.validator.addClassRules(b,a.validator.normalizeRule(b))},methods:{required:function(b,c,d){if(!this.depend(d,c))return"dependency-mismatch";if("select"===c.nodeName.toLowerCase()){var e=a(c).val();return e&&e.length>0}return this.checkable(c)?this.getLength(b,c)>0:b.length>0},email:function(a,b){return this.optional(b)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(a)},url:function(a,b){return this.optional(b)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(a)},date:function(a,b){return this.optional(b)||!/Invalid|NaN/.test(new Date(a).toString())},dateISO:function(a,b){return this.optional(b)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(a)},number:function(a,b){return this.optional(b)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(a)},digits:function(a,b){return this.optional(b)||/^\d+$/.test(a)},minlength:function(b,c,d){var e=a.isArray(b)?b.length:this.getLength(b,c);return this.optional(c)||e>=d},maxlength:function(b,c,d){var e=a.isArray(b)?b.length:this.getLength(b,c);return this.optional(c)||d>=e},rangelength:function(b,c,d){var e=a.isArray(b)?b.length:this.getLength(b,c);return this.optional(c)||e>=d[0]&&e<=d[1]},min:function(a,b,c){return this.optional(b)||a>=c},max:function(a,b,c){return this.optional(b)||c>=a},range:function(a,b,c){return this.optional(b)||a>=c[0]&&a<=c[1]},step:function(b,c,d){var e=a(c).attr("type"),f="Step attribute on input type "+e+" is not supported.",g=["text","number","range"],h=new RegExp("\\b"+e+"\\b"),i=e&&!h.test(g.join());if(i)throw new Error(f);return this.optional(c)||b%d===0},equalTo:function(b,c,d){var e=a(d);return this.settings.onfocusout&&e.not(".validate-equalTo-blur").length&&e.addClass("validate-equalTo-blur").on("blur.validate-equalTo",function(){a(c).valid()}),b===e.val()},remote:function(b,c,d,e){if(this.optional(c))return"dependency-mismatch";e="string"==typeof e&&e||"remote";var f,g,h,i=this.previousValue(c,e);return this.settings.messages[c.name]||(this.settings.messages[c.name]={}),i.originalMessage=i.originalMessage||this.settings.messages[c.name][e],this.settings.messages[c.name][e]=i.message,d="string"==typeof d&&{url:d}||d,h=a.param(a.extend({data:b},d.data)),i.old===h?i.valid:(i.old=h,f=this,this.startRequest(c),g={},g[c.name]=b,a.ajax(a.extend(!0,{mode:"abort",port:"validate"+c.name,dataType:"json",data:g,context:f.currentForm,success:function(a){var d,g,h,j=a===!0||"true"===a;f.settings.messages[c.name][e]=i.originalMessage,j?(h=f.formSubmitted,f.resetInternals(),f.toHide=f.errorsFor(c),f.formSubmitted=h,f.successList.push(c),f.invalid[c.name]=!1,f.showErrors()):(d={},g=a||f.defaultMessage(c,{method:e,parameters:b}),d[c.name]=i.message=g,f.invalid[c.name]=!0,f.showErrors(d)),i.valid=j,f.stopRequest(c,j)}},d)),"pending")}}});var b,c={};a.ajaxPrefilter?a.ajaxPrefilter(function(a,b,d){var e=a.port;"abort"===a.mode&&(c[e]&&c[e].abort(),c[e]=d)}):(b=a.ajax,a.ajax=function(d){var e=("mode"in d?d:a.ajaxSettings).mode,f=("port"in d?d:a.ajaxSettings).port;return"abort"===e?(c[f]&&c[f].abort(),c[f]=b.apply(this,arguments),c[f]):b.apply(this,arguments)})});(function(factory){if(typeof define==='function'&&define.amd){define(['jquery'],factory);}else if(typeof exports==='object'){factory(require('jquery'));}else{factory(jQuery);}}(function(jQuery){var S2=(function(){if(jQuery&&jQuery.fn&&jQuery.fn.select2&&jQuery.fn.select2.amd){var S2=jQuery.fn.select2.amd;}
    var S2;(function(){if(!S2||!S2.requirejs){if(!S2){S2={};}else{require=S2;}
        var requirejs,require,define;(function(undef){var main,req,makeMap,handlers,defined={},waiting={},config={},defining={},hasOwn=Object.prototype.hasOwnProperty,aps=[].slice,jsSuffixRegExp=/\.js$/;function hasProp(obj,prop){return hasOwn.call(obj,prop);}
            function normalize(name,baseName){var nameParts,nameSegment,mapValue,foundMap,lastIndex,foundI,foundStarMap,starI,i,j,part,baseParts=baseName&&baseName.split("/"),map=config.map,starMap=(map&&map['*'])||{};if(name&&name.charAt(0)==="."){if(baseName){name=name.split('/');lastIndex=name.length-1;if(config.nodeIdCompat&&jsSuffixRegExp.test(name[lastIndex])){name[lastIndex]=name[lastIndex].replace(jsSuffixRegExp,'');}
                name=baseParts.slice(0,baseParts.length-1).concat(name);for(i=0;i<name.length;i+=1){part=name[i];if(part==="."){name.splice(i,1);i-=1;}else if(part===".."){if(i===1&&(name[2]==='..'||name[0]==='..')){break;}else if(i>0){name.splice(i-1,2);i-=2;}}}
                name=name.join("/");}else if(name.indexOf('./')===0){name=name.substring(2);}}
                if((baseParts||starMap)&&map){nameParts=name.split('/');for(i=nameParts.length;i>0;i-=1){nameSegment=nameParts.slice(0,i).join("/");if(baseParts){for(j=baseParts.length;j>0;j-=1){mapValue=map[baseParts.slice(0,j).join('/')];if(mapValue){mapValue=mapValue[nameSegment];if(mapValue){foundMap=mapValue;foundI=i;break;}}}}
                    if(foundMap){break;}
                    if(!foundStarMap&&starMap&&starMap[nameSegment]){foundStarMap=starMap[nameSegment];starI=i;}}
                    if(!foundMap&&foundStarMap){foundMap=foundStarMap;foundI=starI;}
                    if(foundMap){nameParts.splice(0,foundI,foundMap);name=nameParts.join('/');}}
                return name;}
            function makeRequire(relName,forceSync){return function(){var args=aps.call(arguments,0);if(typeof args[0]!=='string'&&args.length===1){args.push(null);}
                return req.apply(undef,args.concat([relName,forceSync]));};}
            function makeNormalize(relName){return function(name){return normalize(name,relName);};}
            function makeLoad(depName){return function(value){defined[depName]=value;};}
            function callDep(name){if(hasProp(waiting,name)){var args=waiting[name];delete waiting[name];defining[name]=true;main.apply(undef,args);}
                if(!hasProp(defined,name)&&!hasProp(defining,name)){throw new Error('No '+name);}
                return defined[name];}
            function splitPrefix(name){var prefix,index=name?name.indexOf('!'):-1;if(index>-1){prefix=name.substring(0,index);name=name.substring(index+1,name.length);}
                return[prefix,name];}
            makeMap=function(name,relName){var plugin,parts=splitPrefix(name),prefix=parts[0];name=parts[1];if(prefix){prefix=normalize(prefix,relName);plugin=callDep(prefix);}
                if(prefix){if(plugin&&plugin.normalize){name=plugin.normalize(name,makeNormalize(relName));}else{name=normalize(name,relName);}}else{name=normalize(name,relName);parts=splitPrefix(name);prefix=parts[0];name=parts[1];if(prefix){plugin=callDep(prefix);}}
                return{f:prefix?prefix+'!'+name:name,n:name,pr:prefix,p:plugin};};function makeConfig(name){return function(){return(config&&config.config&&config.config[name])||{};};}
            handlers={require:function(name){return makeRequire(name);},exports:function(name){var e=defined[name];if(typeof e!=='undefined'){return e;}else{return(defined[name]={});}},module:function(name){return{id:name,uri:'',exports:defined[name],config:makeConfig(name)};}};main=function(name,deps,callback,relName){var cjsModule,depName,ret,map,i,args=[],callbackType=typeof callback,usingExports;relName=relName||name;if(callbackType==='undefined'||callbackType==='function'){deps=!deps.length&&callback.length?['require','exports','module']:deps;for(i=0;i<deps.length;i+=1){map=makeMap(deps[i],relName);depName=map.f;if(depName==="require"){args[i]=handlers.require(name);}else if(depName==="exports"){args[i]=handlers.exports(name);usingExports=true;}else if(depName==="module"){cjsModule=args[i]=handlers.module(name);}else if(hasProp(defined,depName)||hasProp(waiting,depName)||hasProp(defining,depName)){args[i]=callDep(depName);}else if(map.p){map.p.load(map.n,makeRequire(relName,true),makeLoad(depName),{});args[i]=defined[depName];}else{throw new Error(name+' missing '+depName);}}
                ret=callback?callback.apply(defined[name],args):undefined;if(name){if(cjsModule&&cjsModule.exports!==undef&&cjsModule.exports!==defined[name]){defined[name]=cjsModule.exports;}else if(ret!==undef||!usingExports){defined[name]=ret;}}}else if(name){defined[name]=callback;}};requirejs=require=req=function(deps,callback,relName,forceSync,alt){if(typeof deps==="string"){if(handlers[deps]){return handlers[deps](callback);}
                return callDep(makeMap(deps,callback).f);}else if(!deps.splice){config=deps;if(config.deps){req(config.deps,config.callback);}
                if(!callback){return;}
                if(callback.splice){deps=callback;callback=relName;relName=null;}else{deps=undef;}}
                callback=callback||function(){};if(typeof relName==='function'){relName=forceSync;forceSync=alt;}
                if(forceSync){main(undef,deps,callback,relName);}else{setTimeout(function(){main(undef,deps,callback,relName);},4);}
                return req;};req.config=function(cfg){return req(cfg);};requirejs._defined=defined;define=function(name,deps,callback){if(typeof name!=='string'){throw new Error('See almond README: incorrect module build, no module name');}
                if(!deps.splice){callback=deps;deps=[];}
                if(!hasProp(defined,name)&&!hasProp(waiting,name)){waiting[name]=[name,deps,callback];}};define.amd={jQuery:true};}());S2.requirejs=requirejs;S2.require=require;S2.define=define;}}());S2.define("almond",function(){});S2.define('jquery',[],function(){var _$=jQuery||$;if(_$==null&&console&&console.error){console.error('Select2: An instance of jQuery or a jQuery-compatible library was not '+'found. Make sure that you are including jQuery before Select2 on your '+'web page.');}
        return _$;});S2.define('select2/utils',['jquery'],function($){var Utils={};Utils.Extend=function(ChildClass,SuperClass){var __hasProp={}.hasOwnProperty;function BaseConstructor(){this.constructor=ChildClass;}
        for(var key in SuperClass){if(__hasProp.call(SuperClass,key)){ChildClass[key]=SuperClass[key];}}
        BaseConstructor.prototype=SuperClass.prototype;ChildClass.prototype=new BaseConstructor();ChildClass.__super__=SuperClass.prototype;return ChildClass;};function getMethods(theClass){var proto=theClass.prototype;var methods=[];for(var methodName in proto){var m=proto[methodName];if(typeof m!=='function'){continue;}
        if(methodName==='constructor'){continue;}
        methods.push(methodName);}
        return methods;}
        Utils.Decorate=function(SuperClass,DecoratorClass){var decoratedMethods=getMethods(DecoratorClass);var superMethods=getMethods(SuperClass);function DecoratedClass(){var unshift=Array.prototype.unshift;var argCount=DecoratorClass.prototype.constructor.length;var calledConstructor=SuperClass.prototype.constructor;if(argCount>0){unshift.call(arguments,SuperClass.prototype.constructor);calledConstructor=DecoratorClass.prototype.constructor;}
            calledConstructor.apply(this,arguments);}
            DecoratorClass.displayName=SuperClass.displayName;function ctr(){this.constructor=DecoratedClass;}
            DecoratedClass.prototype=new ctr();for(var m=0;m<superMethods.length;m++){var superMethod=superMethods[m];DecoratedClass.prototype[superMethod]=SuperClass.prototype[superMethod];}
            var calledMethod=function(methodName){var originalMethod=function(){};if(methodName in DecoratedClass.prototype){originalMethod=DecoratedClass.prototype[methodName];}
                var decoratedMethod=DecoratorClass.prototype[methodName];return function(){var unshift=Array.prototype.unshift;unshift.call(arguments,originalMethod);return decoratedMethod.apply(this,arguments);};};for(var d=0;d<decoratedMethods.length;d++){var decoratedMethod=decoratedMethods[d];DecoratedClass.prototype[decoratedMethod]=calledMethod(decoratedMethod);}
            return DecoratedClass;};var Observable=function(){this.listeners={};};Observable.prototype.on=function(event,callback){this.listeners=this.listeners||{};if(event in this.listeners){this.listeners[event].push(callback);}else{this.listeners[event]=[callback];}};Observable.prototype.trigger=function(event){var slice=Array.prototype.slice;var params=slice.call(arguments,1);this.listeners=this.listeners||{};if(params==null){params=[];}
            if(params.length===0){params.push({});}
            params[0]._type=event;if(event in this.listeners){this.invoke(this.listeners[event],slice.call(arguments,1));}
            if('*'in this.listeners){this.invoke(this.listeners['*'],arguments);}};Observable.prototype.invoke=function(listeners,params){for(var i=0,len=listeners.length;i<len;i++){listeners[i].apply(this,params);}};Utils.Observable=Observable;Utils.generateChars=function(length){var chars='';for(var i=0;i<length;i++){var randomChar=Math.floor(Math.random()*36);chars+=randomChar.toString(36);}
            return chars;};Utils.bind=function(func,context){return function(){func.apply(context,arguments);};};Utils._convertData=function(data){for(var originalKey in data){var keys=originalKey.split('-');var dataLevel=data;if(keys.length===1){continue;}
            for(var k=0;k<keys.length;k++){var key=keys[k];key=key.substring(0,1).toLowerCase()+key.substring(1);if(!(key in dataLevel)){dataLevel[key]={};}
                if(k==keys.length-1){dataLevel[key]=data[originalKey];}
                dataLevel=dataLevel[key];}
            delete data[originalKey];}
            return data;};Utils.hasScroll=function(index,el){var $el=$(el);var overflowX=el.style.overflowX;var overflowY=el.style.overflowY;if(overflowX===overflowY&&(overflowY==='hidden'||overflowY==='visible')){return false;}
            if(overflowX==='scroll'||overflowY==='scroll'){return true;}
            return($el.innerHeight()<el.scrollHeight||$el.innerWidth()<el.scrollWidth);};Utils.escapeMarkup=function(markup){var replaceMap={'\\':'&#92;','&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;','\'':'&#39;','/':'&#47;'};if(typeof markup!=='string'){return markup;}
            return String(markup).replace(/[&<>"'\/\\]/g,function(match){return replaceMap[match];});};Utils.appendMany=function($element,$nodes){if($.fn.jquery.substr(0,3)==='1.7'){var $jqNodes=$();$.map($nodes,function(node){$jqNodes=$jqNodes.add(node);});$nodes=$jqNodes;}
            $element.append($nodes);};return Utils;});S2.define('select2/results',['jquery','./utils'],function($,Utils){function Results($element,options,dataAdapter){this.$element=$element;this.data=dataAdapter;this.options=options;Results.__super__.constructor.call(this);}
        Utils.Extend(Results,Utils.Observable);Results.prototype.render=function(){var $results=$('<ul class="select2-results__options" role="tree"></ul>');if(this.options.get('multiple')){$results.attr('aria-multiselectable','true');}
            this.$results=$results;return $results;};Results.prototype.clear=function(){this.$results.empty();};Results.prototype.displayMessage=function(params){var escapeMarkup=this.options.get('escapeMarkup');this.clear();this.hideLoading();var $message=$('<li role="treeitem" aria-live="assertive"'+' class="select2-results__option"></li>');var message=this.options.get('translations').get(params.message);$message.append(escapeMarkup(message(params.args)));$message[0].className+=' select2-results__message';this.$results.append($message);};Results.prototype.hideMessages=function(){this.$results.find('.select2-results__message').remove();};Results.prototype.append=function(data){this.hideLoading();var $options=[];if(data.results==null||data.results.length===0){if(this.$results.children().length===0){this.trigger('results:message',{message:'noResults'});}
            return;}
            data.results=this.sort(data.results);for(var d=0;d<data.results.length;d++){var item=data.results[d];var $option=this.option(item);$options.push($option);}
            this.$results.append($options);};Results.prototype.position=function($results,$dropdown){var $resultsContainer=$dropdown.find('.select2-results');$resultsContainer.append($results);};Results.prototype.sort=function(data){var sorter=this.options.get('sorter');return sorter(data);};Results.prototype.highlightFirstItem=function(){var $options=this.$results.find('.select2-results__option[aria-selected]');var $selected=$options.filter('[aria-selected=true]');if($selected.length>0){$selected.first().trigger('mouseenter');}else{$options.first().trigger('mouseenter');}
            this.ensureHighlightVisible();};Results.prototype.setClasses=function(){var self=this;this.data.current(function(selected){var selectedIds=$.map(selected,function(s){return s.id.toString();});var $options=self.$results.find('.select2-results__option[aria-selected]');$options.each(function(){var $option=$(this);var item=$.data(this,'data');var id=''+item.id;if((item.element!=null&&item.element.selected)||(item.element==null&&$.inArray(id,selectedIds)>-1)){$option.attr('aria-selected','true');}else{$option.attr('aria-selected','false');}});});};Results.prototype.showLoading=function(params){this.hideLoading();var loadingMore=this.options.get('translations').get('searching');var loading={disabled:true,loading:true,text:loadingMore(params)};var $loading=this.option(loading);$loading.className+=' loading-results';this.$results.prepend($loading);};Results.prototype.hideLoading=function(){this.$results.find('.loading-results').remove();};Results.prototype.option=function(data){var option=document.createElement('li');option.className='select2-results__option';var attrs={'role':'treeitem','aria-selected':'false'};if(data.disabled){delete attrs['aria-selected'];attrs['aria-disabled']='true';}
            if(data.id==null){delete attrs['aria-selected'];}
            if(data._resultId!=null){option.id=data._resultId;}
            if(data.title){option.title=data.title;}
            if(data.children){attrs.role='group';attrs['aria-label']=data.text;delete attrs['aria-selected'];}
            for(var attr in attrs){var val=attrs[attr];option.setAttribute(attr,val);}
            if(data.children){var $option=$(option);var label=document.createElement('strong');label.className='select2-results__group';var $label=$(label);this.template(data,label);var $children=[];for(var c=0;c<data.children.length;c++){var child=data.children[c];var $child=this.option(child);$children.push($child);}
                var $childrenContainer=$('<ul></ul>',{'class':'select2-results__options select2-results__options--nested'});$childrenContainer.append($children);$option.append(label);$option.append($childrenContainer);}else{this.template(data,option);}
            $.data(option,'data',data);return option;};Results.prototype.bind=function(container,$container){var self=this;var id=container.id+'-results';this.$results.attr('id',id);container.on('results:all',function(params){self.clear();self.append(params.data);if(container.isOpen()){self.setClasses();self.highlightFirstItem();}});container.on('results:append',function(params){self.append(params.data);if(container.isOpen()){self.setClasses();}});container.on('query',function(params){self.hideMessages();self.showLoading(params);});container.on('select',function(){if(!container.isOpen()){return;}
            self.setClasses();self.highlightFirstItem();});container.on('unselect',function(){if(!container.isOpen()){return;}
            self.setClasses();self.highlightFirstItem();});container.on('open',function(){self.$results.attr('aria-expanded','true');self.$results.attr('aria-hidden','false');self.setClasses();self.ensureHighlightVisible();});container.on('close',function(){self.$results.attr('aria-expanded','false');self.$results.attr('aria-hidden','true');self.$results.removeAttr('aria-activedescendant');});container.on('results:toggle',function(){var $highlighted=self.getHighlightedResults();if($highlighted.length===0){return;}
            $highlighted.trigger('mouseup');});container.on('results:select',function(){var $highlighted=self.getHighlightedResults();if($highlighted.length===0){return;}
            var data=$highlighted.data('data');if($highlighted.attr('aria-selected')=='true'){self.trigger('close',{});}else{self.trigger('select',{data:data});}});container.on('results:previous',function(){var $highlighted=self.getHighlightedResults();var $options=self.$results.find('[aria-selected]');var currentIndex=$options.index($highlighted);if(currentIndex===0){return;}
            var nextIndex=currentIndex-1;if($highlighted.length===0){nextIndex=0;}
            var $next=$options.eq(nextIndex);$next.trigger('mouseenter');var currentOffset=self.$results.offset().top;var nextTop=$next.offset().top;var nextOffset=self.$results.scrollTop()+(nextTop-currentOffset);if(nextIndex===0){self.$results.scrollTop(0);}else if(nextTop-currentOffset<0){self.$results.scrollTop(nextOffset);}});container.on('results:next',function(){var $highlighted=self.getHighlightedResults();var $options=self.$results.find('[aria-selected]');var currentIndex=$options.index($highlighted);var nextIndex=currentIndex+1;if(nextIndex>=$options.length){return;}
            var $next=$options.eq(nextIndex);$next.trigger('mouseenter');var currentOffset=self.$results.offset().top+
                self.$results.outerHeight(false);var nextBottom=$next.offset().top+$next.outerHeight(false);var nextOffset=self.$results.scrollTop()+nextBottom-currentOffset;if(nextIndex===0){self.$results.scrollTop(0);}else if(nextBottom>currentOffset){self.$results.scrollTop(nextOffset);}});container.on('results:focus',function(params){params.element.addClass('select2-results__option--highlighted');});container.on('results:message',function(params){self.displayMessage(params);});if($.fn.mousewheel){this.$results.on('mousewheel',function(e){var top=self.$results.scrollTop();var bottom=self.$results.get(0).scrollHeight-top+e.deltaY;var isAtTop=e.deltaY>0&&top-e.deltaY<=0;var isAtBottom=e.deltaY<0&&bottom<=self.$results.height();if(isAtTop){self.$results.scrollTop(0);e.preventDefault();e.stopPropagation();}else if(isAtBottom){self.$results.scrollTop(self.$results.get(0).scrollHeight-self.$results.height());e.preventDefault();e.stopPropagation();}});}
            this.$results.on('mouseup','.select2-results__option[aria-selected]',function(evt){var $this=$(this);var data=$this.data('data');if($this.attr('aria-selected')==='true'){if(self.options.get('multiple')){self.trigger('unselect',{originalEvent:evt,data:data});}else{self.trigger('close',{});}
                return;}
                self.trigger('select',{originalEvent:evt,data:data});});this.$results.on('mouseenter','.select2-results__option[aria-selected]',function(evt){var data=$(this).data('data');self.getHighlightedResults().removeClass('select2-results__option--highlighted');self.trigger('results:focus',{data:data,element:$(this)});});};Results.prototype.getHighlightedResults=function(){var $highlighted=this.$results.find('.select2-results__option--highlighted');return $highlighted;};Results.prototype.destroy=function(){this.$results.remove();};Results.prototype.ensureHighlightVisible=function(){var $highlighted=this.getHighlightedResults();if($highlighted.length===0){return;}
            var $options=this.$results.find('[aria-selected]');var currentIndex=$options.index($highlighted);var currentOffset=this.$results.offset().top;var nextTop=$highlighted.offset().top;var nextOffset=this.$results.scrollTop()+(nextTop-currentOffset);var offsetDelta=nextTop-currentOffset;nextOffset-=$highlighted.outerHeight(false)*2;if(currentIndex<=2){this.$results.scrollTop(0);}else if(offsetDelta>this.$results.outerHeight()||offsetDelta<0){this.$results.scrollTop(nextOffset);}};Results.prototype.template=function(result,container){var template=this.options.get('templateResult');var escapeMarkup=this.options.get('escapeMarkup');var content=template(result,container);if(content==null){container.style.display='none';}else if(typeof content==='string'){container.innerHTML=escapeMarkup(content);}else{$(container).append(content);}};return Results;});S2.define('select2/keys',[],function(){var KEYS={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46};return KEYS;});S2.define('select2/selection/base',['jquery','../utils','../keys'],function($,Utils,KEYS){function BaseSelection($element,options){this.$element=$element;this.options=options;BaseSelection.__super__.constructor.call(this);}
        Utils.Extend(BaseSelection,Utils.Observable);BaseSelection.prototype.render=function(){var $selection=$('<span class="select2-selection" role="combobox" '+' aria-haspopup="true" aria-expanded="false">'+'</span>');this._tabindex=0;if(this.$element.data('old-tabindex')!=null){this._tabindex=this.$element.data('old-tabindex');}else if(this.$element.attr('tabindex')!=null){this._tabindex=this.$element.attr('tabindex');}
            $selection.attr('title',this.$element.attr('title'));$selection.attr('tabindex',this._tabindex);this.$selection=$selection;return $selection;};BaseSelection.prototype.bind=function(container,$container){var self=this;var id=container.id+'-container';var resultsId=container.id+'-results';this.container=container;this.$selection.on('focus',function(evt){self.trigger('focus',evt);});this.$selection.on('blur',function(evt){self._handleBlur(evt);});this.$selection.on('keydown',function(evt){self.trigger('keypress',evt);if(evt.which===KEYS.SPACE){evt.preventDefault();}});container.on('results:focus',function(params){self.$selection.attr('aria-activedescendant',params.data._resultId);});container.on('selection:update',function(params){self.update(params.data);});container.on('open',function(){self.$selection.attr('aria-expanded','true');self.$selection.attr('aria-owns',resultsId);self._attachCloseHandler(container);});container.on('close',function(){self.$selection.attr('aria-expanded','false');self.$selection.removeAttr('aria-activedescendant');self.$selection.removeAttr('aria-owns');self.$selection.focus();self._detachCloseHandler(container);});container.on('enable',function(){self.$selection.attr('tabindex',self._tabindex);});container.on('disable',function(){self.$selection.attr('tabindex','-1');});};BaseSelection.prototype._handleBlur=function(evt){var self=this;window.setTimeout(function(){if((document.activeElement==self.$selection[0])||($.contains(self.$selection[0],document.activeElement))){return;}
            self.trigger('blur',evt);},1);};BaseSelection.prototype._attachCloseHandler=function(container){var self=this;$(document.body).on('mousedown.select2.'+container.id,function(e){var $target=$(e.target);var $select=$target.closest('.select2');var $all=$('.select2.select2-container--open');$all.each(function(){var $this=$(this);if(this==$select[0]){return;}
            var $element=$this.data('element');$element.select2('close');});});};BaseSelection.prototype._detachCloseHandler=function(container){$(document.body).off('mousedown.select2.'+container.id);};BaseSelection.prototype.position=function($selection,$container){var $selectionContainer=$container.find('.selection');$selectionContainer.append($selection);};BaseSelection.prototype.destroy=function(){this._detachCloseHandler(this.container);};BaseSelection.prototype.update=function(data){throw new Error('The `update` method must be defined in child classes.');};return BaseSelection;});S2.define('select2/selection/single',['jquery','./base','../utils','../keys'],function($,BaseSelection,Utils,KEYS){function SingleSelection(){SingleSelection.__super__.constructor.apply(this,arguments);}
        Utils.Extend(SingleSelection,BaseSelection);SingleSelection.prototype.render=function(){var $selection=SingleSelection.__super__.render.call(this);$selection.addClass('select2-selection--single');$selection.html('<span class="select2-selection__rendered"></span>'+'<span class="select2-selection__arrow" role="presentation">'+'<b role="presentation"></b>'+'</span>');return $selection;};SingleSelection.prototype.bind=function(container,$container){var self=this;SingleSelection.__super__.bind.apply(this,arguments);var id=container.id+'-container';this.$selection.find('.select2-selection__rendered').attr('id',id);this.$selection.attr('aria-labelledby',id);this.$selection.on('mousedown',function(evt){if(evt.which!==1){return;}
            self.trigger('toggle',{originalEvent:evt});});this.$selection.on('focus',function(evt){});this.$selection.on('blur',function(evt){});container.on('focus',function(evt){if(!container.isOpen()){self.$selection.focus();}});container.on('selection:update',function(params){self.update(params.data);});};SingleSelection.prototype.clear=function(){this.$selection.find('.select2-selection__rendered').empty();};SingleSelection.prototype.display=function(data,container){var template=this.options.get('templateSelection');var escapeMarkup=this.options.get('escapeMarkup');return escapeMarkup(template(data,container));};SingleSelection.prototype.selectionContainer=function(){return $('<span></span>');};SingleSelection.prototype.update=function(data){if(data.length===0){this.clear();return;}
            var selection=data[0];var $rendered=this.$selection.find('.select2-selection__rendered');var formatted=this.display(selection,$rendered);$rendered.empty().append(formatted);$rendered.prop('title',selection.title||selection.text);};return SingleSelection;});S2.define('select2/selection/multiple',['jquery','./base','../utils'],function($,BaseSelection,Utils){function MultipleSelection($element,options){MultipleSelection.__super__.constructor.apply(this,arguments);}
        Utils.Extend(MultipleSelection,BaseSelection);MultipleSelection.prototype.render=function(){var $selection=MultipleSelection.__super__.render.call(this);$selection.addClass('select2-selection--multiple');$selection.html('<ul class="select2-selection__rendered"></ul>');return $selection;};MultipleSelection.prototype.bind=function(container,$container){var self=this;MultipleSelection.__super__.bind.apply(this,arguments);this.$selection.on('click',function(evt){self.trigger('toggle',{originalEvent:evt});});this.$selection.on('click','.select2-selection__choice__remove',function(evt){if(self.options.get('disabled')){return;}
            var $remove=$(this);var $selection=$remove.parent();var data=$selection.data('data');self.trigger('unselect',{originalEvent:evt,data:data});});};MultipleSelection.prototype.clear=function(){this.$selection.find('.select2-selection__rendered').empty();};MultipleSelection.prototype.display=function(data,container){var template=this.options.get('templateSelection');var escapeMarkup=this.options.get('escapeMarkup');return escapeMarkup(template(data,container));};MultipleSelection.prototype.selectionContainer=function(){var $container=$('<li class="select2-selection__choice">'+'<span class="select2-selection__choice__remove" role="presentation">'+'&times;'+'</span>'+'</li>');return $container;};MultipleSelection.prototype.update=function(data){this.clear();if(data.length===0){return;}
            var $selections=[];for(var d=0;d<data.length;d++){var selection=data[d];var $selection=this.selectionContainer();var formatted=this.display(selection,$selection);$selection.append(formatted);$selection.prop('title',selection.title||selection.text);$selection.data('data',selection);$selections.push($selection);}
            var $rendered=this.$selection.find('.select2-selection__rendered');Utils.appendMany($rendered,$selections);};return MultipleSelection;});S2.define('select2/selection/placeholder',['../utils'],function(Utils){function Placeholder(decorated,$element,options){this.placeholder=this.normalizePlaceholder(options.get('placeholder'));decorated.call(this,$element,options);}
        Placeholder.prototype.normalizePlaceholder=function(_,placeholder){if(typeof placeholder==='string'){placeholder={id:'',text:placeholder};}
            return placeholder;};Placeholder.prototype.createPlaceholder=function(decorated,placeholder){var $placeholder=this.selectionContainer();$placeholder.html(this.display(placeholder));$placeholder.addClass('select2-selection__placeholder').removeClass('select2-selection__choice');return $placeholder;};Placeholder.prototype.update=function(decorated,data){var singlePlaceholder=(data.length==1&&data[0].id!=this.placeholder.id);var multipleSelections=data.length>1;if(multipleSelections||singlePlaceholder){return decorated.call(this,data);}
            this.clear();var $placeholder=this.createPlaceholder(this.placeholder);this.$selection.find('.select2-selection__rendered').append($placeholder);};return Placeholder;});S2.define('select2/selection/allowClear',['jquery','../keys'],function($,KEYS){function AllowClear(){}
        AllowClear.prototype.bind=function(decorated,container,$container){var self=this;decorated.call(this,container,$container);if(this.placeholder==null){if(this.options.get('debug')&&window.console&&console.error){console.error('Select2: The `allowClear` option should be used in combination '+'with the `placeholder` option.');}}
            this.$selection.on('mousedown','.select2-selection__clear',function(evt){self._handleClear(evt);});container.on('keypress',function(evt){self._handleKeyboardClear(evt,container);});};AllowClear.prototype._handleClear=function(_,evt){if(this.options.get('disabled')){return;}
            var $clear=this.$selection.find('.select2-selection__clear');if($clear.length===0){return;}
            evt.stopPropagation();var data=$clear.data('data');for(var d=0;d<data.length;d++){var unselectData={data:data[d]};this.trigger('unselect',unselectData);if(unselectData.prevented){return;}}
            this.$element.val(this.placeholder.id).trigger('change');this.trigger('toggle',{});};AllowClear.prototype._handleKeyboardClear=function(_,evt,container){if(container.isOpen()){return;}
            if(evt.which==KEYS.DELETE||evt.which==KEYS.BACKSPACE){this._handleClear(evt);}};AllowClear.prototype.update=function(decorated,data){decorated.call(this,data);if(this.$selection.find('.select2-selection__placeholder').length>0||data.length===0){return;}
            var $remove=$('<span class="select2-selection__clear">'+'&times;'+'</span>');$remove.data('data',data);this.$selection.find('.select2-selection__rendered').prepend($remove);};return AllowClear;});S2.define('select2/selection/search',['jquery','../utils','../keys'],function($,Utils,KEYS){function Search(decorated,$element,options){decorated.call(this,$element,options);}
        Search.prototype.render=function(decorated){var $search=$('<li class="select2-search select2-search--inline">'+'<input class="select2-search__field" type="search" tabindex="-1"'+' autocomplete="off" autocorrect="off" autocapitalize="off"'+' spellcheck="false" role="textbox" aria-autocomplete="list" />'+'</li>');this.$searchContainer=$search;this.$search=$search.find('input');var $rendered=decorated.call(this);this._transferTabIndex();return $rendered;};Search.prototype.bind=function(decorated,container,$container){var self=this;decorated.call(this,container,$container);container.on('open',function(){self.$search.trigger('focus');});container.on('close',function(){self.$search.val('');self.$search.removeAttr('aria-activedescendant');self.$search.trigger('focus');});container.on('enable',function(){self.$search.prop('disabled',false);self._transferTabIndex();});container.on('disable',function(){self.$search.prop('disabled',true);});container.on('focus',function(evt){self.$search.trigger('focus');});container.on('results:focus',function(params){self.$search.attr('aria-activedescendant',params.id);});this.$selection.on('focusin','.select2-search--inline',function(evt){self.trigger('focus',evt);});this.$selection.on('focusout','.select2-search--inline',function(evt){self._handleBlur(evt);});this.$selection.on('keydown','.select2-search--inline',function(evt){evt.stopPropagation();self.trigger('keypress',evt);self._keyUpPrevented=evt.isDefaultPrevented();var key=evt.which;if(key===KEYS.BACKSPACE&&self.$search.val()===''){var $previousChoice=self.$searchContainer.prev('.select2-selection__choice');if($previousChoice.length>0){var item=$previousChoice.data('data');self.searchRemoveChoice(item);evt.preventDefault();}}});var msie=document.documentMode;var disableInputEvents=msie&&msie<=11;this.$selection.on('input.searchcheck','.select2-search--inline',function(evt){if(disableInputEvents){self.$selection.off('input.search input.searchcheck');return;}
            self.$selection.off('keyup.search');});this.$selection.on('keyup.search input.search','.select2-search--inline',function(evt){if(disableInputEvents&&evt.type==='input'){self.$selection.off('input.search input.searchcheck');return;}
            var key=evt.which;if(key==KEYS.SHIFT||key==KEYS.CTRL||key==KEYS.ALT){return;}
            if(key==KEYS.TAB){return;}
            self.handleSearch(evt);});};Search.prototype._transferTabIndex=function(decorated){this.$search.attr('tabindex',this.$selection.attr('tabindex'));this.$selection.attr('tabindex','-1');};Search.prototype.createPlaceholder=function(decorated,placeholder){this.$search.attr('placeholder',placeholder.text);};Search.prototype.update=function(decorated,data){var searchHadFocus=this.$search[0]==document.activeElement;this.$search.attr('placeholder','');decorated.call(this,data);this.$selection.find('.select2-selection__rendered').append(this.$searchContainer);this.resizeSearch();if(searchHadFocus){this.$search.focus();}};Search.prototype.handleSearch=function(){this.resizeSearch();if(!this._keyUpPrevented){var input=this.$search.val();this.trigger('query',{term:input});}
            this._keyUpPrevented=false;};Search.prototype.searchRemoveChoice=function(decorated,item){this.trigger('unselect',{data:item});this.$search.val(item.text);this.handleSearch();};Search.prototype.resizeSearch=function(){this.$search.css('width','25px');var width='';if(this.$search.attr('placeholder')!==''){width=this.$selection.find('.select2-selection__rendered').innerWidth();}else{var minimumWidth=this.$search.val().length+1;width=(minimumWidth*0.75)+'em';}
            this.$search.css('width',width);};return Search;});S2.define('select2/selection/eventRelay',['jquery'],function($){function EventRelay(){}
        EventRelay.prototype.bind=function(decorated,container,$container){var self=this;var relayEvents=['open','opening','close','closing','select','selecting','unselect','unselecting'];var preventableEvents=['opening','closing','selecting','unselecting'];decorated.call(this,container,$container);container.on('*',function(name,params){if($.inArray(name,relayEvents)===-1){return;}
            params=params||{};var evt=$.Event('select2:'+name,{params:params});self.$element.trigger(evt);if($.inArray(name,preventableEvents)===-1){return;}
            params.prevented=evt.isDefaultPrevented();});};return EventRelay;});S2.define('select2/translation',['jquery','require'],function($,require){function Translation(dict){this.dict=dict||{};}
        Translation.prototype.all=function(){return this.dict;};Translation.prototype.get=function(key){return this.dict[key];};Translation.prototype.extend=function(translation){this.dict=$.extend({},translation.all(),this.dict);};Translation._cache={};Translation.loadPath=function(path){if(!(path in Translation._cache)){var translations=require(path);Translation._cache[path]=translations;}
            return new Translation(Translation._cache[path]);};return Translation;});S2.define('select2/diacritics',[],function(){var diacritics={'\u24B6':'A','\uFF21':'A','\u00C0':'A','\u00C1':'A','\u00C2':'A','\u1EA6':'A','\u1EA4':'A','\u1EAA':'A','\u1EA8':'A','\u00C3':'A','\u0100':'A','\u0102':'A','\u1EB0':'A','\u1EAE':'A','\u1EB4':'A','\u1EB2':'A','\u0226':'A','\u01E0':'A','\u00C4':'A','\u01DE':'A','\u1EA2':'A','\u00C5':'A','\u01FA':'A','\u01CD':'A','\u0200':'A','\u0202':'A','\u1EA0':'A','\u1EAC':'A','\u1EB6':'A','\u1E00':'A','\u0104':'A','\u023A':'A','\u2C6F':'A','\uA732':'AA','\u00C6':'AE','\u01FC':'AE','\u01E2':'AE','\uA734':'AO','\uA736':'AU','\uA738':'AV','\uA73A':'AV','\uA73C':'AY','\u24B7':'B','\uFF22':'B','\u1E02':'B','\u1E04':'B','\u1E06':'B','\u0243':'B','\u0182':'B','\u0181':'B','\u24B8':'C','\uFF23':'C','\u0106':'C','\u0108':'C','\u010A':'C','\u010C':'C','\u00C7':'C','\u1E08':'C','\u0187':'C','\u023B':'C','\uA73E':'C','\u24B9':'D','\uFF24':'D','\u1E0A':'D','\u010E':'D','\u1E0C':'D','\u1E10':'D','\u1E12':'D','\u1E0E':'D','\u0110':'D','\u018B':'D','\u018A':'D','\u0189':'D','\uA779':'D','\u01F1':'DZ','\u01C4':'DZ','\u01F2':'Dz','\u01C5':'Dz','\u24BA':'E','\uFF25':'E','\u00C8':'E','\u00C9':'E','\u00CA':'E','\u1EC0':'E','\u1EBE':'E','\u1EC4':'E','\u1EC2':'E','\u1EBC':'E','\u0112':'E','\u1E14':'E','\u1E16':'E','\u0114':'E','\u0116':'E','\u00CB':'E','\u1EBA':'E','\u011A':'E','\u0204':'E','\u0206':'E','\u1EB8':'E','\u1EC6':'E','\u0228':'E','\u1E1C':'E','\u0118':'E','\u1E18':'E','\u1E1A':'E','\u0190':'E','\u018E':'E','\u24BB':'F','\uFF26':'F','\u1E1E':'F','\u0191':'F','\uA77B':'F','\u24BC':'G','\uFF27':'G','\u01F4':'G','\u011C':'G','\u1E20':'G','\u011E':'G','\u0120':'G','\u01E6':'G','\u0122':'G','\u01E4':'G','\u0193':'G','\uA7A0':'G','\uA77D':'G','\uA77E':'G','\u24BD':'H','\uFF28':'H','\u0124':'H','\u1E22':'H','\u1E26':'H','\u021E':'H','\u1E24':'H','\u1E28':'H','\u1E2A':'H','\u0126':'H','\u2C67':'H','\u2C75':'H','\uA78D':'H','\u24BE':'I','\uFF29':'I','\u00CC':'I','\u00CD':'I','\u00CE':'I','\u0128':'I','\u012A':'I','\u012C':'I','\u0130':'I','\u00CF':'I','\u1E2E':'I','\u1EC8':'I','\u01CF':'I','\u0208':'I','\u020A':'I','\u1ECA':'I','\u012E':'I','\u1E2C':'I','\u0197':'I','\u24BF':'J','\uFF2A':'J','\u0134':'J','\u0248':'J','\u24C0':'K','\uFF2B':'K','\u1E30':'K','\u01E8':'K','\u1E32':'K','\u0136':'K','\u1E34':'K','\u0198':'K','\u2C69':'K','\uA740':'K','\uA742':'K','\uA744':'K','\uA7A2':'K','\u24C1':'L','\uFF2C':'L','\u013F':'L','\u0139':'L','\u013D':'L','\u1E36':'L','\u1E38':'L','\u013B':'L','\u1E3C':'L','\u1E3A':'L','\u0141':'L','\u023D':'L','\u2C62':'L','\u2C60':'L','\uA748':'L','\uA746':'L','\uA780':'L','\u01C7':'LJ','\u01C8':'Lj','\u24C2':'M','\uFF2D':'M','\u1E3E':'M','\u1E40':'M','\u1E42':'M','\u2C6E':'M','\u019C':'M','\u24C3':'N','\uFF2E':'N','\u01F8':'N','\u0143':'N','\u00D1':'N','\u1E44':'N','\u0147':'N','\u1E46':'N','\u0145':'N','\u1E4A':'N','\u1E48':'N','\u0220':'N','\u019D':'N','\uA790':'N','\uA7A4':'N','\u01CA':'NJ','\u01CB':'Nj','\u24C4':'O','\uFF2F':'O','\u00D2':'O','\u00D3':'O','\u00D4':'O','\u1ED2':'O','\u1ED0':'O','\u1ED6':'O','\u1ED4':'O','\u00D5':'O','\u1E4C':'O','\u022C':'O','\u1E4E':'O','\u014C':'O','\u1E50':'O','\u1E52':'O','\u014E':'O','\u022E':'O','\u0230':'O','\u00D6':'O','\u022A':'O','\u1ECE':'O','\u0150':'O','\u01D1':'O','\u020C':'O','\u020E':'O','\u01A0':'O','\u1EDC':'O','\u1EDA':'O','\u1EE0':'O','\u1EDE':'O','\u1EE2':'O','\u1ECC':'O','\u1ED8':'O','\u01EA':'O','\u01EC':'O','\u00D8':'O','\u01FE':'O','\u0186':'O','\u019F':'O','\uA74A':'O','\uA74C':'O','\u01A2':'OI','\uA74E':'OO','\u0222':'OU','\u24C5':'P','\uFF30':'P','\u1E54':'P','\u1E56':'P','\u01A4':'P','\u2C63':'P','\uA750':'P','\uA752':'P','\uA754':'P','\u24C6':'Q','\uFF31':'Q','\uA756':'Q','\uA758':'Q','\u024A':'Q','\u24C7':'R','\uFF32':'R','\u0154':'R','\u1E58':'R','\u0158':'R','\u0210':'R','\u0212':'R','\u1E5A':'R','\u1E5C':'R','\u0156':'R','\u1E5E':'R','\u024C':'R','\u2C64':'R','\uA75A':'R','\uA7A6':'R','\uA782':'R','\u24C8':'S','\uFF33':'S','\u1E9E':'S','\u015A':'S','\u1E64':'S','\u015C':'S','\u1E60':'S','\u0160':'S','\u1E66':'S','\u1E62':'S','\u1E68':'S','\u0218':'S','\u015E':'S','\u2C7E':'S','\uA7A8':'S','\uA784':'S','\u24C9':'T','\uFF34':'T','\u1E6A':'T','\u0164':'T','\u1E6C':'T','\u021A':'T','\u0162':'T','\u1E70':'T','\u1E6E':'T','\u0166':'T','\u01AC':'T','\u01AE':'T','\u023E':'T','\uA786':'T','\uA728':'TZ','\u24CA':'U','\uFF35':'U','\u00D9':'U','\u00DA':'U','\u00DB':'U','\u0168':'U','\u1E78':'U','\u016A':'U','\u1E7A':'U','\u016C':'U','\u00DC':'U','\u01DB':'U','\u01D7':'U','\u01D5':'U','\u01D9':'U','\u1EE6':'U','\u016E':'U','\u0170':'U','\u01D3':'U','\u0214':'U','\u0216':'U','\u01AF':'U','\u1EEA':'U','\u1EE8':'U','\u1EEE':'U','\u1EEC':'U','\u1EF0':'U','\u1EE4':'U','\u1E72':'U','\u0172':'U','\u1E76':'U','\u1E74':'U','\u0244':'U','\u24CB':'V','\uFF36':'V','\u1E7C':'V','\u1E7E':'V','\u01B2':'V','\uA75E':'V','\u0245':'V','\uA760':'VY','\u24CC':'W','\uFF37':'W','\u1E80':'W','\u1E82':'W','\u0174':'W','\u1E86':'W','\u1E84':'W','\u1E88':'W','\u2C72':'W','\u24CD':'X','\uFF38':'X','\u1E8A':'X','\u1E8C':'X','\u24CE':'Y','\uFF39':'Y','\u1EF2':'Y','\u00DD':'Y','\u0176':'Y','\u1EF8':'Y','\u0232':'Y','\u1E8E':'Y','\u0178':'Y','\u1EF6':'Y','\u1EF4':'Y','\u01B3':'Y','\u024E':'Y','\u1EFE':'Y','\u24CF':'Z','\uFF3A':'Z','\u0179':'Z','\u1E90':'Z','\u017B':'Z','\u017D':'Z','\u1E92':'Z','\u1E94':'Z','\u01B5':'Z','\u0224':'Z','\u2C7F':'Z','\u2C6B':'Z','\uA762':'Z','\u24D0':'a','\uFF41':'a','\u1E9A':'a','\u00E0':'a','\u00E1':'a','\u00E2':'a','\u1EA7':'a','\u1EA5':'a','\u1EAB':'a','\u1EA9':'a','\u00E3':'a','\u0101':'a','\u0103':'a','\u1EB1':'a','\u1EAF':'a','\u1EB5':'a','\u1EB3':'a','\u0227':'a','\u01E1':'a','\u00E4':'a','\u01DF':'a','\u1EA3':'a','\u00E5':'a','\u01FB':'a','\u01CE':'a','\u0201':'a','\u0203':'a','\u1EA1':'a','\u1EAD':'a','\u1EB7':'a','\u1E01':'a','\u0105':'a','\u2C65':'a','\u0250':'a','\uA733':'aa','\u00E6':'ae','\u01FD':'ae','\u01E3':'ae','\uA735':'ao','\uA737':'au','\uA739':'av','\uA73B':'av','\uA73D':'ay','\u24D1':'b','\uFF42':'b','\u1E03':'b','\u1E05':'b','\u1E07':'b','\u0180':'b','\u0183':'b','\u0253':'b','\u24D2':'c','\uFF43':'c','\u0107':'c','\u0109':'c','\u010B':'c','\u010D':'c','\u00E7':'c','\u1E09':'c','\u0188':'c','\u023C':'c','\uA73F':'c','\u2184':'c','\u24D3':'d','\uFF44':'d','\u1E0B':'d','\u010F':'d','\u1E0D':'d','\u1E11':'d','\u1E13':'d','\u1E0F':'d','\u0111':'d','\u018C':'d','\u0256':'d','\u0257':'d','\uA77A':'d','\u01F3':'dz','\u01C6':'dz','\u24D4':'e','\uFF45':'e','\u00E8':'e','\u00E9':'e','\u00EA':'e','\u1EC1':'e','\u1EBF':'e','\u1EC5':'e','\u1EC3':'e','\u1EBD':'e','\u0113':'e','\u1E15':'e','\u1E17':'e','\u0115':'e','\u0117':'e','\u00EB':'e','\u1EBB':'e','\u011B':'e','\u0205':'e','\u0207':'e','\u1EB9':'e','\u1EC7':'e','\u0229':'e','\u1E1D':'e','\u0119':'e','\u1E19':'e','\u1E1B':'e','\u0247':'e','\u025B':'e','\u01DD':'e','\u24D5':'f','\uFF46':'f','\u1E1F':'f','\u0192':'f','\uA77C':'f','\u24D6':'g','\uFF47':'g','\u01F5':'g','\u011D':'g','\u1E21':'g','\u011F':'g','\u0121':'g','\u01E7':'g','\u0123':'g','\u01E5':'g','\u0260':'g','\uA7A1':'g','\u1D79':'g','\uA77F':'g','\u24D7':'h','\uFF48':'h','\u0125':'h','\u1E23':'h','\u1E27':'h','\u021F':'h','\u1E25':'h','\u1E29':'h','\u1E2B':'h','\u1E96':'h','\u0127':'h','\u2C68':'h','\u2C76':'h','\u0265':'h','\u0195':'hv','\u24D8':'i','\uFF49':'i','\u00EC':'i','\u00ED':'i','\u00EE':'i','\u0129':'i','\u012B':'i','\u012D':'i','\u00EF':'i','\u1E2F':'i','\u1EC9':'i','\u01D0':'i','\u0209':'i','\u020B':'i','\u1ECB':'i','\u012F':'i','\u1E2D':'i','\u0268':'i','\u0131':'i','\u24D9':'j','\uFF4A':'j','\u0135':'j','\u01F0':'j','\u0249':'j','\u24DA':'k','\uFF4B':'k','\u1E31':'k','\u01E9':'k','\u1E33':'k','\u0137':'k','\u1E35':'k','\u0199':'k','\u2C6A':'k','\uA741':'k','\uA743':'k','\uA745':'k','\uA7A3':'k','\u24DB':'l','\uFF4C':'l','\u0140':'l','\u013A':'l','\u013E':'l','\u1E37':'l','\u1E39':'l','\u013C':'l','\u1E3D':'l','\u1E3B':'l','\u017F':'l','\u0142':'l','\u019A':'l','\u026B':'l','\u2C61':'l','\uA749':'l','\uA781':'l','\uA747':'l','\u01C9':'lj','\u24DC':'m','\uFF4D':'m','\u1E3F':'m','\u1E41':'m','\u1E43':'m','\u0271':'m','\u026F':'m','\u24DD':'n','\uFF4E':'n','\u01F9':'n','\u0144':'n','\u00F1':'n','\u1E45':'n','\u0148':'n','\u1E47':'n','\u0146':'n','\u1E4B':'n','\u1E49':'n','\u019E':'n','\u0272':'n','\u0149':'n','\uA791':'n','\uA7A5':'n','\u01CC':'nj','\u24DE':'o','\uFF4F':'o','\u00F2':'o','\u00F3':'o','\u00F4':'o','\u1ED3':'o','\u1ED1':'o','\u1ED7':'o','\u1ED5':'o','\u00F5':'o','\u1E4D':'o','\u022D':'o','\u1E4F':'o','\u014D':'o','\u1E51':'o','\u1E53':'o','\u014F':'o','\u022F':'o','\u0231':'o','\u00F6':'o','\u022B':'o','\u1ECF':'o','\u0151':'o','\u01D2':'o','\u020D':'o','\u020F':'o','\u01A1':'o','\u1EDD':'o','\u1EDB':'o','\u1EE1':'o','\u1EDF':'o','\u1EE3':'o','\u1ECD':'o','\u1ED9':'o','\u01EB':'o','\u01ED':'o','\u00F8':'o','\u01FF':'o','\u0254':'o','\uA74B':'o','\uA74D':'o','\u0275':'o','\u01A3':'oi','\u0223':'ou','\uA74F':'oo','\u24DF':'p','\uFF50':'p','\u1E55':'p','\u1E57':'p','\u01A5':'p','\u1D7D':'p','\uA751':'p','\uA753':'p','\uA755':'p','\u24E0':'q','\uFF51':'q','\u024B':'q','\uA757':'q','\uA759':'q','\u24E1':'r','\uFF52':'r','\u0155':'r','\u1E59':'r','\u0159':'r','\u0211':'r','\u0213':'r','\u1E5B':'r','\u1E5D':'r','\u0157':'r','\u1E5F':'r','\u024D':'r','\u027D':'r','\uA75B':'r','\uA7A7':'r','\uA783':'r','\u24E2':'s','\uFF53':'s','\u00DF':'s','\u015B':'s','\u1E65':'s','\u015D':'s','\u1E61':'s','\u0161':'s','\u1E67':'s','\u1E63':'s','\u1E69':'s','\u0219':'s','\u015F':'s','\u023F':'s','\uA7A9':'s','\uA785':'s','\u1E9B':'s','\u24E3':'t','\uFF54':'t','\u1E6B':'t','\u1E97':'t','\u0165':'t','\u1E6D':'t','\u021B':'t','\u0163':'t','\u1E71':'t','\u1E6F':'t','\u0167':'t','\u01AD':'t','\u0288':'t','\u2C66':'t','\uA787':'t','\uA729':'tz','\u24E4':'u','\uFF55':'u','\u00F9':'u','\u00FA':'u','\u00FB':'u','\u0169':'u','\u1E79':'u','\u016B':'u','\u1E7B':'u','\u016D':'u','\u00FC':'u','\u01DC':'u','\u01D8':'u','\u01D6':'u','\u01DA':'u','\u1EE7':'u','\u016F':'u','\u0171':'u','\u01D4':'u','\u0215':'u','\u0217':'u','\u01B0':'u','\u1EEB':'u','\u1EE9':'u','\u1EEF':'u','\u1EED':'u','\u1EF1':'u','\u1EE5':'u','\u1E73':'u','\u0173':'u','\u1E77':'u','\u1E75':'u','\u0289':'u','\u24E5':'v','\uFF56':'v','\u1E7D':'v','\u1E7F':'v','\u028B':'v','\uA75F':'v','\u028C':'v','\uA761':'vy','\u24E6':'w','\uFF57':'w','\u1E81':'w','\u1E83':'w','\u0175':'w','\u1E87':'w','\u1E85':'w','\u1E98':'w','\u1E89':'w','\u2C73':'w','\u24E7':'x','\uFF58':'x','\u1E8B':'x','\u1E8D':'x','\u24E8':'y','\uFF59':'y','\u1EF3':'y','\u00FD':'y','\u0177':'y','\u1EF9':'y','\u0233':'y','\u1E8F':'y','\u00FF':'y','\u1EF7':'y','\u1E99':'y','\u1EF5':'y','\u01B4':'y','\u024F':'y','\u1EFF':'y','\u24E9':'z','\uFF5A':'z','\u017A':'z','\u1E91':'z','\u017C':'z','\u017E':'z','\u1E93':'z','\u1E95':'z','\u01B6':'z','\u0225':'z','\u0240':'z','\u2C6C':'z','\uA763':'z','\u0386':'\u0391','\u0388':'\u0395','\u0389':'\u0397','\u038A':'\u0399','\u03AA':'\u0399','\u038C':'\u039F','\u038E':'\u03A5','\u03AB':'\u03A5','\u038F':'\u03A9','\u03AC':'\u03B1','\u03AD':'\u03B5','\u03AE':'\u03B7','\u03AF':'\u03B9','\u03CA':'\u03B9','\u0390':'\u03B9','\u03CC':'\u03BF','\u03CD':'\u03C5','\u03CB':'\u03C5','\u03B0':'\u03C5','\u03C9':'\u03C9','\u03C2':'\u03C3'};return diacritics;});S2.define('select2/data/base',['../utils'],function(Utils){function BaseAdapter($element,options){BaseAdapter.__super__.constructor.call(this);}
        Utils.Extend(BaseAdapter,Utils.Observable);BaseAdapter.prototype.current=function(callback){throw new Error('The `current` method must be defined in child classes.');};BaseAdapter.prototype.query=function(params,callback){throw new Error('The `query` method must be defined in child classes.');};BaseAdapter.prototype.bind=function(container,$container){};BaseAdapter.prototype.destroy=function(){};BaseAdapter.prototype.generateResultId=function(container,data){var id=container.id+'-result-';id+=Utils.generateChars(4);if(data.id!=null){id+='-'+data.id.toString();}else{id+='-'+Utils.generateChars(4);}
            return id;};return BaseAdapter;});S2.define('select2/data/select',['./base','../utils','jquery'],function(BaseAdapter,Utils,$){function SelectAdapter($element,options){this.$element=$element;this.options=options;SelectAdapter.__super__.constructor.call(this);}
        Utils.Extend(SelectAdapter,BaseAdapter);SelectAdapter.prototype.current=function(callback){var data=[];var self=this;this.$element.find(':selected').each(function(){var $option=$(this);var option=self.item($option);data.push(option);});callback(data);};SelectAdapter.prototype.select=function(data){var self=this;data.selected=true;if($(data.element).is('option')){data.element.selected=true;this.$element.trigger('change');return;}
            if(this.$element.prop('multiple')){this.current(function(currentData){var val=[];data=[data];data.push.apply(data,currentData);for(var d=0;d<data.length;d++){var id=data[d].id;if($.inArray(id,val)===-1){val.push(id);}}
                self.$element.val(val);self.$element.trigger('change');});}else{var val=data.id;this.$element.val(val);this.$element.trigger('change');}};SelectAdapter.prototype.unselect=function(data){var self=this;if(!this.$element.prop('multiple')){return;}
            data.selected=false;if($(data.element).is('option')){data.element.selected=false;this.$element.trigger('change');return;}
            this.current(function(currentData){var val=[];for(var d=0;d<currentData.length;d++){var id=currentData[d].id;if(id!==data.id&&$.inArray(id,val)===-1){val.push(id);}}
                self.$element.val(val);self.$element.trigger('change');});};SelectAdapter.prototype.bind=function(container,$container){var self=this;this.container=container;container.on('select',function(params){self.select(params.data);});container.on('unselect',function(params){self.unselect(params.data);});};SelectAdapter.prototype.destroy=function(){this.$element.find('*').each(function(){$.removeData(this,'data');});};SelectAdapter.prototype.query=function(params,callback){var data=[];var self=this;var $options=this.$element.children();$options.each(function(){var $option=$(this);if(!$option.is('option')&&!$option.is('optgroup')){return;}
            var option=self.item($option);var matches=self.matches(params,option);if(matches!==null){data.push(matches);}});callback({results:data});};SelectAdapter.prototype.addOptions=function($options){Utils.appendMany(this.$element,$options);};SelectAdapter.prototype.option=function(data){var option;if(data.children){option=document.createElement('optgroup');option.label=data.text;}else{option=document.createElement('option');if(option.textContent!==undefined){option.textContent=data.text;}else{option.innerText=data.text;}}
            if(data.id){option.value=data.id;}
            if(data.disabled){option.disabled=true;}
            if(data.selected){option.selected=true;}
            if(data.title){option.title=data.title;}
            var $option=$(option);var normalizedData=this._normalizeItem(data);normalizedData.element=option;$.data(option,'data',normalizedData);return $option;};SelectAdapter.prototype.item=function($option){var data={};data=$.data($option[0],'data');if(data!=null){return data;}
            if($option.is('option')){data={id:$option.val(),text:$option.text(),disabled:$option.prop('disabled'),selected:$option.prop('selected'),title:$option.prop('title')};}else if($option.is('optgroup')){data={text:$option.prop('label'),children:[],title:$option.prop('title')};var $children=$option.children('option');var children=[];for(var c=0;c<$children.length;c++){var $child=$($children[c]);var child=this.item($child);children.push(child);}
                data.children=children;}
            data=this._normalizeItem(data);data.element=$option[0];$.data($option[0],'data',data);return data;};SelectAdapter.prototype._normalizeItem=function(item){if(!$.isPlainObject(item)){item={id:item,text:item};}
            item=$.extend({},{text:''},item);var defaults={selected:false,disabled:false};if(item.id!=null){item.id=item.id.toString();}
            if(item.text!=null){item.text=item.text.toString();}
            if(item._resultId==null&&item.id&&this.container!=null){item._resultId=this.generateResultId(this.container,item);}
            return $.extend({},defaults,item);};SelectAdapter.prototype.matches=function(params,data){var matcher=this.options.get('matcher');return matcher(params,data);};return SelectAdapter;});S2.define('select2/data/array',['./select','../utils','jquery'],function(SelectAdapter,Utils,$){function ArrayAdapter($element,options){var data=options.get('data')||[];ArrayAdapter.__super__.constructor.call(this,$element,options);this.addOptions(this.convertToOptions(data));}
        Utils.Extend(ArrayAdapter,SelectAdapter);ArrayAdapter.prototype.select=function(data){var $option=this.$element.find('option').filter(function(i,elm){return elm.value==data.id.toString();});if($option.length===0){$option=this.option(data);this.addOptions($option);}
            ArrayAdapter.__super__.select.call(this,data);};ArrayAdapter.prototype.convertToOptions=function(data){var self=this;var $existing=this.$element.find('option');var existingIds=$existing.map(function(){return self.item($(this)).id;}).get();var $options=[];function onlyItem(item){return function(){return $(this).val()==item.id;};}
            for(var d=0;d<data.length;d++){var item=this._normalizeItem(data[d]);if($.inArray(item.id,existingIds)>=0){var $existingOption=$existing.filter(onlyItem(item));var existingData=this.item($existingOption);var newData=$.extend(true,{},item,existingData);var $newOption=this.option(newData);$existingOption.replaceWith($newOption);continue;}
                var $option=this.option(item);if(item.children){var $children=this.convertToOptions(item.children);Utils.appendMany($option,$children);}
                $options.push($option);}
            return $options;};return ArrayAdapter;});S2.define('select2/data/ajax',['./array','../utils','jquery'],function(ArrayAdapter,Utils,$){function AjaxAdapter($element,options){this.ajaxOptions=this._applyDefaults(options.get('ajax'));if(this.ajaxOptions.processResults!=null){this.processResults=this.ajaxOptions.processResults;}
        AjaxAdapter.__super__.constructor.call(this,$element,options);}
        Utils.Extend(AjaxAdapter,ArrayAdapter);AjaxAdapter.prototype._applyDefaults=function(options){var defaults={data:function(params){return $.extend({},params,{q:params.term});},transport:function(params,success,failure){var $request=$.ajax(params);$request.then(success);$request.fail(failure);return $request;}};return $.extend({},defaults,options,true);};AjaxAdapter.prototype.processResults=function(results){return results;};AjaxAdapter.prototype.query=function(params,callback){var matches=[];var self=this;if(this._request!=null){if($.isFunction(this._request.abort)){this._request.abort();}
            this._request=null;}
            var options=$.extend({type:'GET'},this.ajaxOptions);if(typeof options.url==='function'){options.url=options.url.call(this.$element,params);}
            if(typeof options.data==='function'){options.data=options.data.call(this.$element,params);}
            function request(){var $request=options.transport(options,function(data){var results=self.processResults(data,params);if(self.options.get('debug')&&window.console&&console.error){if(!results||!results.results||!$.isArray(results.results)){console.error('Select2: The AJAX results did not return an array in the '+'`results` key of the response.');}}
                callback(results);},function(){if($request.status&&$request.status==='0'){return;}
                self.trigger('results:message',{message:'errorLoading'});});self._request=$request;}
            if(this.ajaxOptions.delay&&params.term!=null){if(this._queryTimeout){window.clearTimeout(this._queryTimeout);}
                this._queryTimeout=window.setTimeout(request,this.ajaxOptions.delay);}else{request();}};return AjaxAdapter;});S2.define('select2/data/tags',['jquery'],function($){function Tags(decorated,$element,options){var tags=options.get('tags');var createTag=options.get('createTag');if(createTag!==undefined){this.createTag=createTag;}
        var insertTag=options.get('insertTag');if(insertTag!==undefined){this.insertTag=insertTag;}
        decorated.call(this,$element,options);if($.isArray(tags)){for(var t=0;t<tags.length;t++){var tag=tags[t];var item=this._normalizeItem(tag);var $option=this.option(item);this.$element.append($option);}}}
        Tags.prototype.query=function(decorated,params,callback){var self=this;this._removeOldTags();if(params.term==null||params.page!=null){decorated.call(this,params,callback);return;}
            function wrapper(obj,child){var data=obj.results;for(var i=0;i<data.length;i++){var option=data[i];var checkChildren=(option.children!=null&&!wrapper({results:option.children},true));var checkText=option.text===params.term;if(checkText||checkChildren){if(child){return false;}
                obj.data=data;callback(obj);return;}}
                if(child){return true;}
                var tag=self.createTag(params);if(tag!=null){var $option=self.option(tag);$option.attr('data-select2-tag',true);self.addOptions([$option]);self.insertTag(data,tag);}
                obj.results=data;callback(obj);}
            decorated.call(this,params,wrapper);};Tags.prototype.createTag=function(decorated,params){var term=$.trim(params.term);if(term===''){return null;}
            return{id:term,text:term};};Tags.prototype.insertTag=function(_,data,tag){data.unshift(tag);};Tags.prototype._removeOldTags=function(_){var tag=this._lastTag;var $options=this.$element.find('option[data-select2-tag]');$options.each(function(){if(this.selected){return;}
            $(this).remove();});};return Tags;});S2.define('select2/data/tokenizer',['jquery'],function($){function Tokenizer(decorated,$element,options){var tokenizer=options.get('tokenizer');if(tokenizer!==undefined){this.tokenizer=tokenizer;}
        decorated.call(this,$element,options);}
        Tokenizer.prototype.bind=function(decorated,container,$container){decorated.call(this,container,$container);this.$search=container.dropdown.$search||container.selection.$search||$container.find('.select2-search__field');};Tokenizer.prototype.query=function(decorated,params,callback){var self=this;function createAndSelect(data){var item=self._normalizeItem(data);var $existingOptions=self.$element.find('option').filter(function(){return $(this).val()===item.id;});if(!$existingOptions.length){var $option=self.option(item);$option.attr('data-select2-tag',true);self._removeOldTags();self.addOptions([$option]);}
            select(item);}
            function select(data){self.trigger('select',{data:data});}
            params.term=params.term||'';var tokenData=this.tokenizer(params,this.options,createAndSelect);if(tokenData.term!==params.term){if(this.$search.length){this.$search.val(tokenData.term);this.$search.focus();}
                params.term=tokenData.term;}
            decorated.call(this,params,callback);};Tokenizer.prototype.tokenizer=function(_,params,options,callback){var separators=options.get('tokenSeparators')||[];var term=params.term;var i=0;var createTag=this.createTag||function(params){return{id:params.term,text:params.term};};while(i<term.length){var termChar=term[i];if($.inArray(termChar,separators)===-1){i++;continue;}
            var part=term.substr(0,i);var partParams=$.extend({},params,{term:part});var data=createTag(partParams);if(data==null){i++;continue;}
            callback(data);term=term.substr(i+1)||'';i=0;}
            return{term:term};};return Tokenizer;});S2.define('select2/data/minimumInputLength',[],function(){function MinimumInputLength(decorated,$e,options){this.minimumInputLength=options.get('minimumInputLength');decorated.call(this,$e,options);}
        MinimumInputLength.prototype.query=function(decorated,params,callback){params.term=params.term||'';if(params.term.length<this.minimumInputLength){this.trigger('results:message',{message:'inputTooShort',args:{minimum:this.minimumInputLength,input:params.term,params:params}});return;}
            decorated.call(this,params,callback);};return MinimumInputLength;});S2.define('select2/data/maximumInputLength',[],function(){function MaximumInputLength(decorated,$e,options){this.maximumInputLength=options.get('maximumInputLength');decorated.call(this,$e,options);}
        MaximumInputLength.prototype.query=function(decorated,params,callback){params.term=params.term||'';if(this.maximumInputLength>0&&params.term.length>this.maximumInputLength){this.trigger('results:message',{message:'inputTooLong',args:{maximum:this.maximumInputLength,input:params.term,params:params}});return;}
            decorated.call(this,params,callback);};return MaximumInputLength;});S2.define('select2/data/maximumSelectionLength',[],function(){function MaximumSelectionLength(decorated,$e,options){this.maximumSelectionLength=options.get('maximumSelectionLength');decorated.call(this,$e,options);}
        MaximumSelectionLength.prototype.query=function(decorated,params,callback){var self=this;this.current(function(currentData){var count=currentData!=null?currentData.length:0;if(self.maximumSelectionLength>0&&count>=self.maximumSelectionLength){self.trigger('results:message',{message:'maximumSelected',args:{maximum:self.maximumSelectionLength}});return;}
            decorated.call(self,params,callback);});};return MaximumSelectionLength;});S2.define('select2/dropdown',['jquery','./utils'],function($,Utils){function Dropdown($element,options){this.$element=$element;this.options=options;Dropdown.__super__.constructor.call(this);}
        Utils.Extend(Dropdown,Utils.Observable);Dropdown.prototype.render=function(){var $dropdown=$('<span class="select2-dropdown">'+'<span class="select2-results"></span>'+'</span>');$dropdown.attr('dir',this.options.get('dir'));this.$dropdown=$dropdown;return $dropdown;};Dropdown.prototype.bind=function(){};Dropdown.prototype.position=function($dropdown,$container){};Dropdown.prototype.destroy=function(){this.$dropdown.remove();};return Dropdown;});S2.define('select2/dropdown/search',['jquery','../utils'],function($,Utils){function Search(){}
        Search.prototype.render=function(decorated){var $rendered=decorated.call(this);var $search=$('<span class="select2-search select2-search--dropdown">'+'<input class="select2-search__field" type="search" tabindex="-1"'+' autocomplete="off" autocorrect="off" autocapitalize="off"'+' spellcheck="false" role="textbox" />'+'</span>');this.$searchContainer=$search;this.$search=$search.find('input');$rendered.prepend($search);return $rendered;};Search.prototype.bind=function(decorated,container,$container){var self=this;decorated.call(this,container,$container);this.$search.on('keydown',function(evt){self.trigger('keypress',evt);self._keyUpPrevented=evt.isDefaultPrevented();});this.$search.on('input',function(evt){$(this).off('keyup');});this.$search.on('keyup input',function(evt){self.handleSearch(evt);});container.on('open',function(){self.$search.attr('tabindex',0);self.$search.focus();window.setTimeout(function(){self.$search.focus();},0);});container.on('close',function(){self.$search.attr('tabindex',-1);self.$search.val('');});container.on('focus',function(){if(container.isOpen()){self.$search.focus();}});container.on('results:all',function(params){if(params.query.term==null||params.query.term===''){var showSearch=self.showSearch(params);if(showSearch){self.$searchContainer.removeClass('select2-search--hide');}else{self.$searchContainer.addClass('select2-search--hide');}}});};Search.prototype.handleSearch=function(evt){if(!this._keyUpPrevented){var input=this.$search.val();this.trigger('query',{term:input});}
            this._keyUpPrevented=false;};Search.prototype.showSearch=function(_,params){return true;};return Search;});S2.define('select2/dropdown/hidePlaceholder',[],function(){function HidePlaceholder(decorated,$element,options,dataAdapter){this.placeholder=this.normalizePlaceholder(options.get('placeholder'));decorated.call(this,$element,options,dataAdapter);}
        HidePlaceholder.prototype.append=function(decorated,data){data.results=this.removePlaceholder(data.results);decorated.call(this,data);};HidePlaceholder.prototype.normalizePlaceholder=function(_,placeholder){if(typeof placeholder==='string'){placeholder={id:'',text:placeholder};}
            return placeholder;};HidePlaceholder.prototype.removePlaceholder=function(_,data){var modifiedData=data.slice(0);for(var d=data.length-1;d>=0;d--){var item=data[d];if(this.placeholder.id===item.id){modifiedData.splice(d,1);}}
            return modifiedData;};return HidePlaceholder;});S2.define('select2/dropdown/infiniteScroll',['jquery'],function($){function InfiniteScroll(decorated,$element,options,dataAdapter){this.lastParams={};decorated.call(this,$element,options,dataAdapter);this.$loadingMore=this.createLoadingMore();this.loading=false;}
        InfiniteScroll.prototype.append=function(decorated,data){this.$loadingMore.remove();this.loading=false;decorated.call(this,data);if(this.showLoadingMore(data)){this.$results.append(this.$loadingMore);}};InfiniteScroll.prototype.bind=function(decorated,container,$container){var self=this;decorated.call(this,container,$container);container.on('query',function(params){self.lastParams=params;self.loading=true;});container.on('query:append',function(params){self.lastParams=params;self.loading=true;});this.$results.on('scroll',function(){var isLoadMoreVisible=$.contains(document.documentElement,self.$loadingMore[0]);if(self.loading||!isLoadMoreVisible){return;}
            var currentOffset=self.$results.offset().top+
                self.$results.outerHeight(false);var loadingMoreOffset=self.$loadingMore.offset().top+
                self.$loadingMore.outerHeight(false);if(currentOffset+50>=loadingMoreOffset){self.loadMore();}});};InfiniteScroll.prototype.loadMore=function(){this.loading=true;var params=$.extend({},{page:1},this.lastParams);params.page++;this.trigger('query:append',params);};InfiniteScroll.prototype.showLoadingMore=function(_,data){return data.pagination&&data.pagination.more;};InfiniteScroll.prototype.createLoadingMore=function(){var $option=$('<li '+'class="select2-results__option select2-results__option--load-more"'+'role="treeitem" aria-disabled="true"></li>');var message=this.options.get('translations').get('loadingMore');$option.html(message(this.lastParams));return $option;};return InfiniteScroll;});S2.define('select2/dropdown/attachBody',['jquery','../utils'],function($,Utils){function AttachBody(decorated,$element,options){this.$dropdownParent=options.get('dropdownParent')||$(document.body);decorated.call(this,$element,options);}
        AttachBody.prototype.bind=function(decorated,container,$container){var self=this;var setupResultsEvents=false;decorated.call(this,container,$container);container.on('open',function(){self._showDropdown();self._attachPositioningHandler(container);if(!setupResultsEvents){setupResultsEvents=true;container.on('results:all',function(){self._positionDropdown();self._resizeDropdown();});container.on('results:append',function(){self._positionDropdown();self._resizeDropdown();});}});container.on('close',function(){self._hideDropdown();self._detachPositioningHandler(container);});this.$dropdownContainer.on('mousedown',function(evt){evt.stopPropagation();});};AttachBody.prototype.destroy=function(decorated){decorated.call(this);this.$dropdownContainer.remove();};AttachBody.prototype.position=function(decorated,$dropdown,$container){$dropdown.attr('class',$container.attr('class'));$dropdown.removeClass('select2');$dropdown.addClass('select2-container--open');$dropdown.css({position:'absolute',top:-999999});this.$container=$container;};AttachBody.prototype.render=function(decorated){var $container=$('<span></span>');var $dropdown=decorated.call(this);$container.append($dropdown);this.$dropdownContainer=$container;return $container;};AttachBody.prototype._hideDropdown=function(decorated){this.$dropdownContainer.detach();};AttachBody.prototype._attachPositioningHandler=function(decorated,container){var self=this;var scrollEvent='scroll.select2.'+container.id;var resizeEvent='resize.select2.'+container.id;var orientationEvent='orientationchange.select2.'+container.id;var $watchers=this.$container.parents().filter(Utils.hasScroll);$watchers.each(function(){$(this).data('select2-scroll-position',{x:$(this).scrollLeft(),y:$(this).scrollTop()});});$watchers.on(scrollEvent,function(ev){var position=$(this).data('select2-scroll-position');$(this).scrollTop(position.y);});$(window).on(scrollEvent+' '+resizeEvent+' '+orientationEvent,function(e){self._positionDropdown();self._resizeDropdown();});};AttachBody.prototype._detachPositioningHandler=function(decorated,container){var scrollEvent='scroll.select2.'+container.id;var resizeEvent='resize.select2.'+container.id;var orientationEvent='orientationchange.select2.'+container.id;var $watchers=this.$container.parents().filter(Utils.hasScroll);$watchers.off(scrollEvent);$(window).off(scrollEvent+' '+resizeEvent+' '+orientationEvent);};AttachBody.prototype._positionDropdown=function(){var $window=$(window);var isCurrentlyAbove=this.$dropdown.hasClass('select2-dropdown--above');var isCurrentlyBelow=this.$dropdown.hasClass('select2-dropdown--below');var newDirection=null;var offset=this.$container.offset();offset.bottom=offset.top+this.$container.outerHeight(false);var container={height:this.$container.outerHeight(false)};container.top=offset.top;container.bottom=offset.top+container.height;var dropdown={height:this.$dropdown.outerHeight(false)};var viewport={top:$window.scrollTop(),bottom:$window.scrollTop()+$window.height()};var enoughRoomAbove=viewport.top<(offset.top-dropdown.height);var enoughRoomBelow=viewport.bottom>(offset.bottom+dropdown.height);var css={left:offset.left,top:container.bottom};var $offsetParent=this.$dropdownParent;if($offsetParent.css('position')==='static'){$offsetParent=$offsetParent.offsetParent();}
            var parentOffset=$offsetParent.offset();css.top-=parentOffset.top;css.left-=parentOffset.left;if(!isCurrentlyAbove&&!isCurrentlyBelow){newDirection='below';}
            if(!enoughRoomBelow&&enoughRoomAbove&&!isCurrentlyAbove){newDirection='above';}else if(!enoughRoomAbove&&enoughRoomBelow&&isCurrentlyAbove){newDirection='below';}
            if(newDirection=='above'||(isCurrentlyAbove&&newDirection!=='below')){css.top=container.top-parentOffset.top-dropdown.height;}
            if(newDirection!=null){this.$dropdown.removeClass('select2-dropdown--below select2-dropdown--above').addClass('select2-dropdown--'+newDirection);this.$container.removeClass('select2-container--below select2-container--above').addClass('select2-container--'+newDirection);}
            this.$dropdownContainer.css(css);};AttachBody.prototype._resizeDropdown=function(){var css={width:this.$container.outerWidth(false)+'px'};if(this.options.get('dropdownAutoWidth')){css.minWidth=css.width;css.position='relative';css.width='auto';}
            this.$dropdown.css(css);};AttachBody.prototype._showDropdown=function(decorated){this.$dropdownContainer.appendTo(this.$dropdownParent);this._positionDropdown();this._resizeDropdown();};return AttachBody;});S2.define('select2/dropdown/minimumResultsForSearch',[],function(){function countResults(data){var count=0;for(var d=0;d<data.length;d++){var item=data[d];if(item.children){count+=countResults(item.children);}else{count++;}}
        return count;}
        function MinimumResultsForSearch(decorated,$element,options,dataAdapter){this.minimumResultsForSearch=options.get('minimumResultsForSearch');if(this.minimumResultsForSearch<0){this.minimumResultsForSearch=Infinity;}
            decorated.call(this,$element,options,dataAdapter);}
        MinimumResultsForSearch.prototype.showSearch=function(decorated,params){if(countResults(params.data.results)<this.minimumResultsForSearch){return false;}
            return decorated.call(this,params);};return MinimumResultsForSearch;});S2.define('select2/dropdown/selectOnClose',[],function(){function SelectOnClose(){}
        SelectOnClose.prototype.bind=function(decorated,container,$container){var self=this;decorated.call(this,container,$container);container.on('close',function(params){self._handleSelectOnClose(params);});};SelectOnClose.prototype._handleSelectOnClose=function(_,params){if(params&&params.originalSelect2Event!=null){var event=params.originalSelect2Event;if(event._type==='select'||event._type==='unselect'){return;}}
            var $highlightedResults=this.getHighlightedResults();if($highlightedResults.length<1){return;}
            var data=$highlightedResults.data('data');if((data.element!=null&&data.element.selected)||(data.element==null&&data.selected)){return;}
            this.trigger('select',{data:data});};return SelectOnClose;});S2.define('select2/dropdown/closeOnSelect',[],function(){function CloseOnSelect(){}
        CloseOnSelect.prototype.bind=function(decorated,container,$container){var self=this;decorated.call(this,container,$container);container.on('select',function(evt){self._selectTriggered(evt);});container.on('unselect',function(evt){self._selectTriggered(evt);});};CloseOnSelect.prototype._selectTriggered=function(_,evt){var originalEvent=evt.originalEvent;if(originalEvent&&originalEvent.ctrlKey){return;}
            this.trigger('close',{originalEvent:originalEvent,originalSelect2Event:evt});};return CloseOnSelect;});S2.define('select2/i18n/en',[],function(){return{errorLoading:function(){return'The results could not be loaded.';},inputTooLong:function(args){var overChars=args.input.length-args.maximum;var message='Please delete '+overChars+' character';if(overChars!=1){message+='s';}
            return message;},inputTooShort:function(args){var remainingChars=args.minimum-args.input.length;var message='Please enter '+remainingChars+' or more characters';return message;},loadingMore:function(){return'Loading more results';},maximumSelected:function(args){var message='You can only select '+args.maximum+' item';if(args.maximum!=1){message+='s';}
            return message;},noResults:function(){return'No results found';},searching:function(){return'Searching';}};});S2.define('select2/defaults',['jquery','require','./results','./selection/single','./selection/multiple','./selection/placeholder','./selection/allowClear','./selection/search','./selection/eventRelay','./utils','./translation','./diacritics','./data/select','./data/array','./data/ajax','./data/tags','./data/tokenizer','./data/minimumInputLength','./data/maximumInputLength','./data/maximumSelectionLength','./dropdown','./dropdown/search','./dropdown/hidePlaceholder','./dropdown/infiniteScroll','./dropdown/attachBody','./dropdown/minimumResultsForSearch','./dropdown/selectOnClose','./dropdown/closeOnSelect','./i18n/en'],function($,require,ResultsList,SingleSelection,MultipleSelection,Placeholder,AllowClear,SelectionSearch,EventRelay,Utils,Translation,DIACRITICS,SelectData,ArrayData,AjaxData,Tags,Tokenizer,MinimumInputLength,MaximumInputLength,MaximumSelectionLength,Dropdown,DropdownSearch,HidePlaceholder,InfiniteScroll,AttachBody,MinimumResultsForSearch,SelectOnClose,CloseOnSelect,EnglishTranslation){function Defaults(){this.reset();}
        Defaults.prototype.apply=function(options){options=$.extend(true,{},this.defaults,options);if(options.dataAdapter==null){if(options.ajax!=null){options.dataAdapter=AjaxData;}else if(options.data!=null){options.dataAdapter=ArrayData;}else{options.dataAdapter=SelectData;}
            if(options.minimumInputLength>0){options.dataAdapter=Utils.Decorate(options.dataAdapter,MinimumInputLength);}
            if(options.maximumInputLength>0){options.dataAdapter=Utils.Decorate(options.dataAdapter,MaximumInputLength);}
            if(options.maximumSelectionLength>0){options.dataAdapter=Utils.Decorate(options.dataAdapter,MaximumSelectionLength);}
            if(options.tags){options.dataAdapter=Utils.Decorate(options.dataAdapter,Tags);}
            if(options.tokenSeparators!=null||options.tokenizer!=null){options.dataAdapter=Utils.Decorate(options.dataAdapter,Tokenizer);}
            if(options.query!=null){var Query=require(options.amdBase+'compat/query');options.dataAdapter=Utils.Decorate(options.dataAdapter,Query);}
            if(options.initSelection!=null){var InitSelection=require(options.amdBase+'compat/initSelection');options.dataAdapter=Utils.Decorate(options.dataAdapter,InitSelection);}}
            if(options.resultsAdapter==null){options.resultsAdapter=ResultsList;if(options.ajax!=null){options.resultsAdapter=Utils.Decorate(options.resultsAdapter,InfiniteScroll);}
                if(options.placeholder!=null){options.resultsAdapter=Utils.Decorate(options.resultsAdapter,HidePlaceholder);}
                if(options.selectOnClose){options.resultsAdapter=Utils.Decorate(options.resultsAdapter,SelectOnClose);}}
            if(options.dropdownAdapter==null){if(options.multiple){options.dropdownAdapter=Dropdown;}else{var SearchableDropdown=Utils.Decorate(Dropdown,DropdownSearch);options.dropdownAdapter=SearchableDropdown;}
                if(options.minimumResultsForSearch!==0){options.dropdownAdapter=Utils.Decorate(options.dropdownAdapter,MinimumResultsForSearch);}
                if(options.closeOnSelect){options.dropdownAdapter=Utils.Decorate(options.dropdownAdapter,CloseOnSelect);}
                if(options.dropdownCssClass!=null||options.dropdownCss!=null||options.adaptDropdownCssClass!=null){var DropdownCSS=require(options.amdBase+'compat/dropdownCss');options.dropdownAdapter=Utils.Decorate(options.dropdownAdapter,DropdownCSS);}
                options.dropdownAdapter=Utils.Decorate(options.dropdownAdapter,AttachBody);}
            if(options.selectionAdapter==null){if(options.multiple){options.selectionAdapter=MultipleSelection;}else{options.selectionAdapter=SingleSelection;}
                if(options.placeholder!=null){options.selectionAdapter=Utils.Decorate(options.selectionAdapter,Placeholder);}
                if(options.allowClear){options.selectionAdapter=Utils.Decorate(options.selectionAdapter,AllowClear);}
                if(options.multiple){options.selectionAdapter=Utils.Decorate(options.selectionAdapter,SelectionSearch);}
                if(options.containerCssClass!=null||options.containerCss!=null||options.adaptContainerCssClass!=null){var ContainerCSS=require(options.amdBase+'compat/containerCss');options.selectionAdapter=Utils.Decorate(options.selectionAdapter,ContainerCSS);}
                options.selectionAdapter=Utils.Decorate(options.selectionAdapter,EventRelay);}
            if(typeof options.language==='string'){if(options.language.indexOf('-')>0){var languageParts=options.language.split('-');var baseLanguage=languageParts[0];options.language=[options.language,baseLanguage];}else{options.language=[options.language];}}
            if($.isArray(options.language)){var languages=new Translation();options.language.push('en');var languageNames=options.language;for(var l=0;l<languageNames.length;l++){var name=languageNames[l];var language={};try{language=Translation.loadPath(name);}catch(e){try{name=this.defaults.amdLanguageBase+name;language=Translation.loadPath(name);}catch(ex){if(options.debug&&window.console&&console.warn){console.warn('Select2: The language file for "'+name+'" could not be '+'automatically loaded. A fallback will be used instead.');}
                continue;}}
                languages.extend(language);}
                options.translations=languages;}else{var baseTranslation=Translation.loadPath(this.defaults.amdLanguageBase+'en');var customTranslation=new Translation(options.language);customTranslation.extend(baseTranslation);options.translations=customTranslation;}
            return options;};Defaults.prototype.reset=function(){function stripDiacritics(text){function match(a){return DIACRITICS[a]||a;}
            return text.replace(/[^\u0000-\u007E]/g,match);}
            function matcher(params,data){if($.trim(params.term)===''){return data;}
                if(data.children&&data.children.length>0){var match=$.extend(true,{},data);for(var c=data.children.length-1;c>=0;c--){var child=data.children[c];var matches=matcher(params,child);if(matches==null){match.children.splice(c,1);}}
                    if(match.children.length>0){return match;}
                    return matcher(params,match);}
                var original=stripDiacritics(data.text).toUpperCase();var term=stripDiacritics(params.term).toUpperCase();if(original.indexOf(term)>-1){return data;}
                return null;}
            this.defaults={amdBase:'./',amdLanguageBase:'./i18n/',closeOnSelect:true,debug:false,dropdownAutoWidth:false,escapeMarkup:Utils.escapeMarkup,language:EnglishTranslation,matcher:matcher,minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:false,sorter:function(data){return data;},templateResult:function(result){return result.text;},templateSelection:function(selection){return selection.text;},theme:'default',width:'resolve'};};Defaults.prototype.set=function(key,value){var camelKey=$.camelCase(key);var data={};data[camelKey]=value;var convertedData=Utils._convertData(data);$.extend(this.defaults,convertedData);};var defaults=new Defaults();return defaults;});S2.define('select2/options',['require','jquery','./defaults','./utils'],function(require,$,Defaults,Utils){function Options(options,$element){this.options=options;if($element!=null){this.fromElement($element);}
        this.options=Defaults.apply(this.options);if($element&&$element.is('input')){var InputCompat=require(this.get('amdBase')+'compat/inputData');this.options.dataAdapter=Utils.Decorate(this.options.dataAdapter,InputCompat);}}
        Options.prototype.fromElement=function($e){var excludedData=['select2'];if(this.options.multiple==null){this.options.multiple=$e.prop('multiple');}
            if(this.options.disabled==null){this.options.disabled=$e.prop('disabled');}
            if(this.options.language==null){if($e.prop('lang')){this.options.language=$e.prop('lang').toLowerCase();}else if($e.closest('[lang]').prop('lang')){this.options.language=$e.closest('[lang]').prop('lang');}}
            if(this.options.dir==null){if($e.prop('dir')){this.options.dir=$e.prop('dir');}else if($e.closest('[dir]').prop('dir')){this.options.dir=$e.closest('[dir]').prop('dir');}else{this.options.dir='ltr';}}
            $e.prop('disabled',this.options.disabled);$e.prop('multiple',this.options.multiple);if($e.data('select2Tags')){if(this.options.debug&&window.console&&console.warn){console.warn('Select2: The `data-select2-tags` attribute has been changed to '+'use the `data-data` and `data-tags="true"` attributes and will be '+'removed in future versions of Select2.');}
                $e.data('data',$e.data('select2Tags'));$e.data('tags',true);}
            if($e.data('ajaxUrl')){if(this.options.debug&&window.console&&console.warn){console.warn('Select2: The `data-ajax-url` attribute has been changed to '+'`data-ajax--url` and support for the old attribute will be removed'+' in future versions of Select2.');}
                $e.attr('ajax--url',$e.data('ajaxUrl'));$e.data('ajax--url',$e.data('ajaxUrl'));}
            var dataset={};if($.fn.jquery&&$.fn.jquery.substr(0,2)=='1.'&&$e[0].dataset){dataset=$.extend(true,{},$e[0].dataset,$e.data());}else{dataset=$e.data();}
            var data=$.extend(true,{},dataset);data=Utils._convertData(data);for(var key in data){if($.inArray(key,excludedData)>-1){continue;}
                if($.isPlainObject(this.options[key])){$.extend(this.options[key],data[key]);}else{this.options[key]=data[key];}}
            return this;};Options.prototype.get=function(key){return this.options[key];};Options.prototype.set=function(key,val){this.options[key]=val;};return Options;});S2.define('select2/core',['jquery','./options','./utils','./keys'],function($,Options,Utils,KEYS){var Select2=function($element,options){if($element.data('select2')!=null){$element.data('select2').destroy();}
        this.$element=$element;this.id=this._generateId($element);options=options||{};this.options=new Options(options,$element);Select2.__super__.constructor.call(this);var tabindex=$element.attr('tabindex')||0;$element.data('old-tabindex',tabindex);$element.attr('tabindex','-1');var DataAdapter=this.options.get('dataAdapter');this.dataAdapter=new DataAdapter($element,this.options);var $container=this.render();this._placeContainer($container);var SelectionAdapter=this.options.get('selectionAdapter');this.selection=new SelectionAdapter($element,this.options);this.$selection=this.selection.render();this.selection.position(this.$selection,$container);var DropdownAdapter=this.options.get('dropdownAdapter');this.dropdown=new DropdownAdapter($element,this.options);this.$dropdown=this.dropdown.render();this.dropdown.position(this.$dropdown,$container);var ResultsAdapter=this.options.get('resultsAdapter');this.results=new ResultsAdapter($element,this.options,this.dataAdapter);this.$results=this.results.render();this.results.position(this.$results,this.$dropdown);var self=this;this._bindAdapters();this._registerDomEvents();this._registerDataEvents();this._registerSelectionEvents();this._registerDropdownEvents();this._registerResultsEvents();this._registerEvents();this.dataAdapter.current(function(initialData){self.trigger('selection:update',{data:initialData});});$element.addClass('select2-hidden-accessible');$element.attr('aria-hidden','true');this._syncAttributes();$element.data('select2',this);};Utils.Extend(Select2,Utils.Observable);Select2.prototype._generateId=function($element){var id='';if($element.attr('id')!=null){id=$element.attr('id');}else if($element.attr('name')!=null){id=$element.attr('name')+'-'+Utils.generateChars(2);}else{id=Utils.generateChars(4);}
        id=id.replace(/(:|\.|\[|\]|,)/g,'');id='select2-'+id;return id;};Select2.prototype._placeContainer=function($container){$container.insertAfter(this.$element);var width=this._resolveWidth(this.$element,this.options.get('width'));if(width!=null){$container.css('width',width);}};Select2.prototype._resolveWidth=function($element,method){var WIDTH=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if(method=='resolve'){var styleWidth=this._resolveWidth($element,'style');if(styleWidth!=null){return styleWidth;}
        return this._resolveWidth($element,'element');}
        if(method=='element'){var elementWidth=$element.outerWidth(false);if(elementWidth<=0){return'auto';}
            return elementWidth+'px';}
        if(method=='style'){var style=$element.attr('style');if(typeof(style)!=='string'){return null;}
            var attrs=style.split(';');for(var i=0,l=attrs.length;i<l;i=i+1){var attr=attrs[i].replace(/\s/g,'');var matches=attr.match(WIDTH);if(matches!==null&&matches.length>=1){return matches[1];}}
            return null;}
        return method;};Select2.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container);this.selection.bind(this,this.$container);this.dropdown.bind(this,this.$container);this.results.bind(this,this.$container);};Select2.prototype._registerDomEvents=function(){var self=this;this.$element.on('change.select2',function(){self.dataAdapter.current(function(data){self.trigger('selection:update',{data:data});});});this.$element.on('focus.select2',function(evt){self.trigger('focus',evt);});this._syncA=Utils.bind(this._syncAttributes,this);this._syncS=Utils.bind(this._syncSubtree,this);if(this.$element[0].attachEvent){this.$element[0].attachEvent('onpropertychange',this._syncA);}
        var observer=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;if(observer!=null){this._observer=new observer(function(mutations){$.each(mutations,self._syncA);$.each(mutations,self._syncS);});this._observer.observe(this.$element[0],{attributes:true,childList:true,subtree:false});}else if(this.$element[0].addEventListener){this.$element[0].addEventListener('DOMAttrModified',self._syncA,false);this.$element[0].addEventListener('DOMNodeInserted',self._syncS,false);this.$element[0].addEventListener('DOMNodeRemoved',self._syncS,false);}};Select2.prototype._registerDataEvents=function(){var self=this;this.dataAdapter.on('*',function(name,params){self.trigger(name,params);});};Select2.prototype._registerSelectionEvents=function(){var self=this;var nonRelayEvents=['toggle','focus'];this.selection.on('toggle',function(){self.toggleDropdown();});this.selection.on('focus',function(params){self.focus(params);});this.selection.on('*',function(name,params){if($.inArray(name,nonRelayEvents)!==-1){return;}
        self.trigger(name,params);});};Select2.prototype._registerDropdownEvents=function(){var self=this;this.dropdown.on('*',function(name,params){self.trigger(name,params);});};Select2.prototype._registerResultsEvents=function(){var self=this;this.results.on('*',function(name,params){self.trigger(name,params);});};Select2.prototype._registerEvents=function(){var self=this;this.on('open',function(){self.$container.addClass('select2-container--open');});this.on('close',function(){self.$container.removeClass('select2-container--open');});this.on('enable',function(){self.$container.removeClass('select2-container--disabled');});this.on('disable',function(){self.$container.addClass('select2-container--disabled');});this.on('blur',function(){self.$container.removeClass('select2-container--focus');});this.on('query',function(params){if(!self.isOpen()){self.trigger('open',{});}
        this.dataAdapter.query(params,function(data){self.trigger('results:all',{data:data,query:params});});});this.on('query:append',function(params){this.dataAdapter.query(params,function(data){self.trigger('results:append',{data:data,query:params});});});this.on('keypress',function(evt){var key=evt.which;if(self.isOpen()){if(key===KEYS.ESC||key===KEYS.TAB||(key===KEYS.UP&&evt.altKey)){self.close();evt.preventDefault();}else if(key===KEYS.ENTER){self.trigger('results:select',{});evt.preventDefault();}else if((key===KEYS.SPACE&&evt.ctrlKey)){self.trigger('results:toggle',{});evt.preventDefault();}else if(key===KEYS.UP){self.trigger('results:previous',{});evt.preventDefault();}else if(key===KEYS.DOWN){self.trigger('results:next',{});evt.preventDefault();}}else{if(key===KEYS.ENTER||key===KEYS.SPACE||(key===KEYS.DOWN&&evt.altKey)){self.open();evt.preventDefault();}}});};Select2.prototype._syncAttributes=function(){this.options.set('disabled',this.$element.prop('disabled'));if(this.options.get('disabled')){if(this.isOpen()){this.close();}
        this.trigger('disable',{});}else{this.trigger('enable',{});}};Select2.prototype._syncSubtree=function(evt,mutations){var changed=false;var self=this;if(evt&&evt.target&&(evt.target.nodeName!=='OPTION'&&evt.target.nodeName!=='OPTGROUP')){return;}
        if(!mutations){changed=true;}else if(mutations.addedNodes&&mutations.addedNodes.length>0){for(var n=0;n<mutations.addedNodes.length;n++){var node=mutations.addedNodes[n];if(node.selected){changed=true;}}}else if(mutations.removedNodes&&mutations.removedNodes.length>0){changed=true;}
        if(changed){this.dataAdapter.current(function(currentData){self.trigger('selection:update',{data:currentData});});}};Select2.prototype.trigger=function(name,args){var actualTrigger=Select2.__super__.trigger;var preTriggerMap={'open':'opening','close':'closing','select':'selecting','unselect':'unselecting'};if(args===undefined){args={};}
        if(name in preTriggerMap){var preTriggerName=preTriggerMap[name];var preTriggerArgs={prevented:false,name:name,args:args};actualTrigger.call(this,preTriggerName,preTriggerArgs);if(preTriggerArgs.prevented){args.prevented=true;return;}}
        actualTrigger.call(this,name,args);};Select2.prototype.toggleDropdown=function(){if(this.options.get('disabled')){return;}
        if(this.isOpen()){this.close();}else{this.open();}};Select2.prototype.open=function(){if(this.isOpen()){return;}
        this.trigger('query',{});};Select2.prototype.close=function(){if(!this.isOpen()){return;}
        this.trigger('close',{});};Select2.prototype.isOpen=function(){return this.$container.hasClass('select2-container--open');};Select2.prototype.hasFocus=function(){return this.$container.hasClass('select2-container--focus');};Select2.prototype.focus=function(data){if(this.hasFocus()){return;}
        this.$container.addClass('select2-container--focus');this.trigger('focus',{});};Select2.prototype.enable=function(args){if(this.options.get('debug')&&window.console&&console.warn){console.warn('Select2: The `select2("enable")` method has been deprecated and will'+' be removed in later Select2 versions. Use $element.prop("disabled")'+' instead.');}
        if(args==null||args.length===0){args=[true];}
        var disabled=!args[0];this.$element.prop('disabled',disabled);};Select2.prototype.data=function(){if(this.options.get('debug')&&arguments.length>0&&window.console&&console.warn){console.warn('Select2: Data can no longer be set using `select2("data")`. You '+'should consider setting the value instead using `$element.val()`.');}
        var data=[];this.dataAdapter.current(function(currentData){data=currentData;});return data;};Select2.prototype.val=function(args){if(this.options.get('debug')&&window.console&&console.warn){console.warn('Select2: The `select2("val")` method has been deprecated and will be'+' removed in later Select2 versions. Use $element.val() instead.');}
        if(args==null||args.length===0){return this.$element.val();}
        var newVal=args[0];if($.isArray(newVal)){newVal=$.map(newVal,function(obj){return obj.toString();});}
        this.$element.val(newVal).trigger('change');};Select2.prototype.destroy=function(){this.$container.remove();if(this.$element[0].detachEvent){this.$element[0].detachEvent('onpropertychange',this._syncA);}
        if(this._observer!=null){this._observer.disconnect();this._observer=null;}else if(this.$element[0].removeEventListener){this.$element[0].removeEventListener('DOMAttrModified',this._syncA,false);this.$element[0].removeEventListener('DOMNodeInserted',this._syncS,false);this.$element[0].removeEventListener('DOMNodeRemoved',this._syncS,false);}
        this._syncA=null;this._syncS=null;this.$element.off('.select2');this.$element.attr('tabindex',this.$element.data('old-tabindex'));this.$element.removeClass('select2-hidden-accessible');this.$element.attr('aria-hidden','false');this.$element.removeData('select2');this.dataAdapter.destroy();this.selection.destroy();this.dropdown.destroy();this.results.destroy();this.dataAdapter=null;this.selection=null;this.dropdown=null;this.results=null;};Select2.prototype.render=function(){var $container=$('<span class="select2 select2-container">'+'<span class="selection"></span>'+'<span class="dropdown-wrapper" aria-hidden="true"></span>'+'</span>');$container.attr('dir',this.options.get('dir'));this.$container=$container;this.$container.addClass('select2-container--'+this.options.get('theme'));$container.data('element',this.$element);return $container;};return Select2;});S2.define('select2/compat/utils',['jquery'],function($){function syncCssClasses($dest,$src,adapter){var classes,replacements=[],adapted;classes=$.trim($dest.attr('class'));if(classes){classes=''+classes;$(classes.split(/\s+/)).each(function(){if(this.indexOf('select2-')===0){replacements.push(this);}});}
        classes=$.trim($src.attr('class'));if(classes){classes=''+classes;$(classes.split(/\s+/)).each(function(){if(this.indexOf('select2-')!==0){adapted=adapter(this);if(adapted!=null){replacements.push(adapted);}}});}
        $dest.attr('class',replacements.join(' '));}
        return{syncCssClasses:syncCssClasses};});S2.define('select2/compat/containerCss',['jquery','./utils'],function($,CompatUtils){function _containerAdapter(clazz){return null;}
        function ContainerCSS(){}
        ContainerCSS.prototype.render=function(decorated){var $container=decorated.call(this);var containerCssClass=this.options.get('containerCssClass')||'';if($.isFunction(containerCssClass)){containerCssClass=containerCssClass(this.$element);}
            var containerCssAdapter=this.options.get('adaptContainerCssClass');containerCssAdapter=containerCssAdapter||_containerAdapter;if(containerCssClass.indexOf(':all:')!==-1){containerCssClass=containerCssClass.replace(':all:','');var _cssAdapter=containerCssAdapter;containerCssAdapter=function(clazz){var adapted=_cssAdapter(clazz);if(adapted!=null){return adapted+' '+clazz;}
                return clazz;};}
            var containerCss=this.options.get('containerCss')||{};if($.isFunction(containerCss)){containerCss=containerCss(this.$element);}
            CompatUtils.syncCssClasses($container,this.$element,containerCssAdapter);$container.css(containerCss);$container.addClass(containerCssClass);return $container;};return ContainerCSS;});S2.define('select2/compat/dropdownCss',['jquery','./utils'],function($,CompatUtils){function _dropdownAdapter(clazz){return null;}
        function DropdownCSS(){}
        DropdownCSS.prototype.render=function(decorated){var $dropdown=decorated.call(this);var dropdownCssClass=this.options.get('dropdownCssClass')||'';if($.isFunction(dropdownCssClass)){dropdownCssClass=dropdownCssClass(this.$element);}
            var dropdownCssAdapter=this.options.get('adaptDropdownCssClass');dropdownCssAdapter=dropdownCssAdapter||_dropdownAdapter;if(dropdownCssClass.indexOf(':all:')!==-1){dropdownCssClass=dropdownCssClass.replace(':all:','');var _cssAdapter=dropdownCssAdapter;dropdownCssAdapter=function(clazz){var adapted=_cssAdapter(clazz);if(adapted!=null){return adapted+' '+clazz;}
                return clazz;};}
            var dropdownCss=this.options.get('dropdownCss')||{};if($.isFunction(dropdownCss)){dropdownCss=dropdownCss(this.$element);}
            CompatUtils.syncCssClasses($dropdown,this.$element,dropdownCssAdapter);$dropdown.css(dropdownCss);$dropdown.addClass(dropdownCssClass);return $dropdown;};return DropdownCSS;});S2.define('select2/compat/initSelection',['jquery'],function($){function InitSelection(decorated,$element,options){if(options.get('debug')&&window.console&&console.warn){console.warn('Select2: The `initSelection` option has been deprecated in favor'+' of a custom data adapter that overrides the `current` method. '+'This method is now called multiple times instead of a single '+'time when the instance is initialized. Support will be removed '+'for the `initSelection` option in future versions of Select2');}
        this.initSelection=options.get('initSelection');this._isInitialized=false;decorated.call(this,$element,options);}
        InitSelection.prototype.current=function(decorated,callback){var self=this;if(this._isInitialized){decorated.call(this,callback);return;}
            this.initSelection.call(null,this.$element,function(data){self._isInitialized=true;if(!$.isArray(data)){data=[data];}
                callback(data);});};return InitSelection;});S2.define('select2/compat/inputData',['jquery'],function($){function InputData(decorated,$element,options){this._currentData=[];this._valueSeparator=options.get('valueSeparator')||',';if($element.prop('type')==='hidden'){if(options.get('debug')&&console&&console.warn){console.warn('Select2: Using a hidden input with Select2 is no longer '+'supported and may stop working in the future. It is recommended '+'to use a `<select>` element instead.');}}
        decorated.call(this,$element,options);}
        InputData.prototype.current=function(_,callback){function getSelected(data,selectedIds){var selected=[];if(data.selected||$.inArray(data.id,selectedIds)!==-1){data.selected=true;selected.push(data);}else{data.selected=false;}
            if(data.children){selected.push.apply(selected,getSelected(data.children,selectedIds));}
            return selected;}
            var selected=[];for(var d=0;d<this._currentData.length;d++){var data=this._currentData[d];selected.push.apply(selected,getSelected(data,this.$element.val().split(this._valueSeparator)));}
            callback(selected);};InputData.prototype.select=function(_,data){if(!this.options.get('multiple')){this.current(function(allData){$.map(allData,function(data){data.selected=false;});});this.$element.val(data.id);this.$element.trigger('change');}else{var value=this.$element.val();value+=this._valueSeparator+data.id;this.$element.val(value);this.$element.trigger('change');}};InputData.prototype.unselect=function(_,data){var self=this;data.selected=false;this.current(function(allData){var values=[];for(var d=0;d<allData.length;d++){var item=allData[d];if(data.id==item.id){continue;}
            values.push(item.id);}
            self.$element.val(values.join(self._valueSeparator));self.$element.trigger('change');});};InputData.prototype.query=function(_,params,callback){var results=[];for(var d=0;d<this._currentData.length;d++){var data=this._currentData[d];var matches=this.matches(params,data);if(matches!==null){results.push(matches);}}
            callback({results:results});};InputData.prototype.addOptions=function(_,$options){var options=$.map($options,function($option){return $.data($option[0],'data');});this._currentData.push.apply(this._currentData,options);};return InputData;});S2.define('select2/compat/matcher',['jquery'],function($){function oldMatcher(matcher){function wrappedMatcher(params,data){var match=$.extend(true,{},data);if(params.term==null||$.trim(params.term)===''){return match;}
        if(data.children){for(var c=data.children.length-1;c>=0;c--){var child=data.children[c];var doesMatch=matcher(params.term,child.text,child);if(!doesMatch){match.children.splice(c,1);}}
            if(match.children.length>0){return match;}}
        if(matcher(params.term,data.text,data)){return match;}
        return null;}
        return wrappedMatcher;}
        return oldMatcher;});S2.define('select2/compat/query',[],function(){function Query(decorated,$element,options){if(options.get('debug')&&window.console&&console.warn){console.warn('Select2: The `query` option has been deprecated in favor of a '+'custom data adapter that overrides the `query` method. Support '+'will be removed for the `query` option in future versions of '+'Select2.');}
        decorated.call(this,$element,options);}
        Query.prototype.query=function(_,params,callback){params.callback=callback;var query=this.options.get('query');query.call(null,params);};return Query;});S2.define('select2/dropdown/attachContainer',[],function(){function AttachContainer(decorated,$element,options){decorated.call(this,$element,options);}
        AttachContainer.prototype.position=function(decorated,$dropdown,$container){var $dropdownContainer=$container.find('.dropdown-wrapper');$dropdownContainer.append($dropdown);$dropdown.addClass('select2-dropdown--below');$container.addClass('select2-container--below');};return AttachContainer;});S2.define('select2/dropdown/stopPropagation',[],function(){function StopPropagation(){}
        StopPropagation.prototype.bind=function(decorated,container,$container){decorated.call(this,container,$container);var stoppedEvents=['blur','change','click','dblclick','focus','focusin','focusout','input','keydown','keyup','keypress','mousedown','mouseenter','mouseleave','mousemove','mouseover','mouseup','search','touchend','touchstart'];this.$dropdown.on(stoppedEvents.join(' '),function(evt){evt.stopPropagation();});};return StopPropagation;});S2.define('select2/selection/stopPropagation',[],function(){function StopPropagation(){}
        StopPropagation.prototype.bind=function(decorated,container,$container){decorated.call(this,container,$container);var stoppedEvents=['blur','change','click','dblclick','focus','focusin','focusout','input','keydown','keyup','keypress','mousedown','mouseenter','mouseleave','mousemove','mouseover','mouseup','search','touchend','touchstart'];this.$selection.on(stoppedEvents.join(' '),function(evt){evt.stopPropagation();});};return StopPropagation;});(function(factory){if(typeof S2.define==='function'&&S2.define.amd){S2.define('jquery-mousewheel',['jquery'],factory);}else if(typeof exports==='object'){module.exports=factory;}else{factory(jQuery);}}(function($){var toFix=['wheel','mousewheel','DOMMouseScroll','MozMousePixelScroll'],toBind=('onwheel'in document||document.documentMode>=9)?['wheel']:['mousewheel','DomMouseScroll','MozMousePixelScroll'],slice=Array.prototype.slice,nullLowestDeltaTimeout,lowestDelta;if($.event.fixHooks){for(var i=toFix.length;i;){$.event.fixHooks[toFix[--i]]=$.event.mouseHooks;}}
        var special=$.event.special.mousewheel={version:'3.1.12',setup:function(){if(this.addEventListener){for(var i=toBind.length;i;){this.addEventListener(toBind[--i],handler,false);}}else{this.onmousewheel=handler;}
                $.data(this,'mousewheel-line-height',special.getLineHeight(this));$.data(this,'mousewheel-page-height',special.getPageHeight(this));},teardown:function(){if(this.removeEventListener){for(var i=toBind.length;i;){this.removeEventListener(toBind[--i],handler,false);}}else{this.onmousewheel=null;}
                $.removeData(this,'mousewheel-line-height');$.removeData(this,'mousewheel-page-height');},getLineHeight:function(elem){var $elem=$(elem),$parent=$elem['offsetParent'in $.fn?'offsetParent':'parent']();if(!$parent.length){$parent=$('body');}
                return parseInt($parent.css('fontSize'),10)||parseInt($elem.css('fontSize'),10)||16;},getPageHeight:function(elem){return $(elem).height();},settings:{adjustOldDeltas:true,normalizeOffset:true}};$.fn.extend({mousewheel:function(fn){return fn?this.bind('mousewheel',fn):this.trigger('mousewheel');},unmousewheel:function(fn){return this.unbind('mousewheel',fn);}});function handler(event){var orgEvent=event||window.event,args=slice.call(arguments,1),delta=0,deltaX=0,deltaY=0,absDelta=0,offsetX=0,offsetY=0;event=$.event.fix(orgEvent);event.type='mousewheel';if('detail'in orgEvent){deltaY=orgEvent.detail*-1;}
            if('wheelDelta'in orgEvent){deltaY=orgEvent.wheelDelta;}
            if('wheelDeltaY'in orgEvent){deltaY=orgEvent.wheelDeltaY;}
            if('wheelDeltaX'in orgEvent){deltaX=orgEvent.wheelDeltaX*-1;}
            if('axis'in orgEvent&&orgEvent.axis===orgEvent.HORIZONTAL_AXIS){deltaX=deltaY*-1;deltaY=0;}
            delta=deltaY===0?deltaX:deltaY;if('deltaY'in orgEvent){deltaY=orgEvent.deltaY*-1;delta=deltaY;}
            if('deltaX'in orgEvent){deltaX=orgEvent.deltaX;if(deltaY===0){delta=deltaX*-1;}}
            if(deltaY===0&&deltaX===0){return;}
            if(orgEvent.deltaMode===1){var lineHeight=$.data(this,'mousewheel-line-height');delta*=lineHeight;deltaY*=lineHeight;deltaX*=lineHeight;}else if(orgEvent.deltaMode===2){var pageHeight=$.data(this,'mousewheel-page-height');delta*=pageHeight;deltaY*=pageHeight;deltaX*=pageHeight;}
            absDelta=Math.max(Math.abs(deltaY),Math.abs(deltaX));if(!lowestDelta||absDelta<lowestDelta){lowestDelta=absDelta;if(shouldAdjustOldDeltas(orgEvent,absDelta)){lowestDelta/=40;}}
            if(shouldAdjustOldDeltas(orgEvent,absDelta)){delta/=40;deltaX/=40;deltaY/=40;}
            delta=Math[delta>=1?'floor':'ceil'](delta/lowestDelta);deltaX=Math[deltaX>=1?'floor':'ceil'](deltaX/lowestDelta);deltaY=Math[deltaY>=1?'floor':'ceil'](deltaY/lowestDelta);if(special.settings.normalizeOffset&&this.getBoundingClientRect){var boundingRect=this.getBoundingClientRect();offsetX=event.clientX-boundingRect.left;offsetY=event.clientY-boundingRect.top;}
            event.deltaX=deltaX;event.deltaY=deltaY;event.deltaFactor=lowestDelta;event.offsetX=offsetX;event.offsetY=offsetY;event.deltaMode=0;args.unshift(event,delta,deltaX,deltaY);if(nullLowestDeltaTimeout){clearTimeout(nullLowestDeltaTimeout);}
            nullLowestDeltaTimeout=setTimeout(nullLowestDelta,200);return($.event.dispatch||$.event.handle).apply(this,args);}
        function nullLowestDelta(){lowestDelta=null;}
        function shouldAdjustOldDeltas(orgEvent,absDelta){return special.settings.adjustOldDeltas&&orgEvent.type==='mousewheel'&&absDelta%120===0;}}));S2.define('jquery.select2',['jquery','jquery-mousewheel','./select2/core','./select2/defaults'],function($,_,Select2,Defaults){if($.fn.select2==null){var thisMethods=['open','close','destroy'];$.fn.select2=function(options){options=options||{};if(typeof options==='object'){this.each(function(){var instanceOptions=$.extend(true,{},options);var instance=new Select2($(this),instanceOptions);});return this;}else if(typeof options==='string'){var ret;var args=Array.prototype.slice.call(arguments,1);this.each(function(){var instance=$(this).data('select2');if(instance==null&&window.console&&console.error){console.error('The select2(\''+options+'\') method was called on an '+'element that is not using Select2.');}
        ret=instance[options].apply(instance,args);});if($.inArray(options,thisMethods)>-1){return this;}
        return ret;}else{throw new Error('Invalid arguments for Select2: '+options);}};}
        if($.fn.select2.defaults==null){$.fn.select2.defaults=Defaults;}
        return Select2;});return{define:S2.define,require:S2.require};}());var select2=S2.require('jquery.select2');jQuery.fn.select2.amd=S2;return select2;}));(function(factory){if(typeof define==="function"&&define.amd){define(["jquery"],factory);}else{factory(jQuery);}}(function($){$.ui=$.ui||{};var version=$.ui.version="1.12.1";var widgetUuid=0;var widgetSlice=Array.prototype.slice;$.cleanData=(function(orig){return function(elems){var events,elem,i;for(i=0;(elem=elems[i])!=null;i++){try{events=$._data(elem,"events");if(events&&events.remove){$(elem).triggerHandler("remove");}}catch(e){}}
    orig(elems);};})($.cleanData);$.widget=function(name,base,prototype){var existingConstructor,constructor,basePrototype;var proxiedPrototype={};var namespace=name.split(".")[0];name=name.split(".")[1];var fullName=namespace+"-"+name;if(!prototype){prototype=base;base=$.Widget;}
    if($.isArray(prototype)){prototype=$.extend.apply(null,[{}].concat(prototype));}
    $.expr[":"][fullName.toLowerCase()]=function(elem){return!!$.data(elem,fullName);};$[namespace]=$[namespace]||{};existingConstructor=$[namespace][name];constructor=$[namespace][name]=function(options,element){if(!this._createWidget){return new constructor(options,element);}
        if(arguments.length){this._createWidget(options,element);}};$.extend(constructor,existingConstructor,{version:prototype.version,_proto:$.extend({},prototype),_childConstructors:[]});basePrototype=new base();basePrototype.options=$.widget.extend({},basePrototype.options);$.each(prototype,function(prop,value){if(!$.isFunction(value)){proxiedPrototype[prop]=value;return;}
        proxiedPrototype[prop]=(function(){function _super(){return base.prototype[prop].apply(this,arguments);}
            function _superApply(args){return base.prototype[prop].apply(this,args);}
            return function(){var __super=this._super;var __superApply=this._superApply;var returnValue;this._super=_super;this._superApply=_superApply;returnValue=value.apply(this,arguments);this._super=__super;this._superApply=__superApply;return returnValue;};})();});constructor.prototype=$.widget.extend(basePrototype,{widgetEventPrefix:existingConstructor?(basePrototype.widgetEventPrefix||name):name},proxiedPrototype,{constructor:constructor,namespace:namespace,widgetName:name,widgetFullName:fullName});if(existingConstructor){$.each(existingConstructor._childConstructors,function(i,child){var childPrototype=child.prototype;$.widget(childPrototype.namespace+"."+childPrototype.widgetName,constructor,child._proto);});delete existingConstructor._childConstructors;}else{base._childConstructors.push(constructor);}
    $.widget.bridge(name,constructor);return constructor;};$.widget.extend=function(target){var input=widgetSlice.call(arguments,1);var inputIndex=0;var inputLength=input.length;var key;var value;for(;inputIndex<inputLength;inputIndex++){for(key in input[inputIndex]){value=input[inputIndex][key];if(input[inputIndex].hasOwnProperty(key)&&value!==undefined){if($.isPlainObject(value)){target[key]=$.isPlainObject(target[key])?$.widget.extend({},target[key],value):$.widget.extend({},value);}else{target[key]=value;}}}}
    return target;};$.widget.bridge=function(name,object){var fullName=object.prototype.widgetFullName||name;$.fn[name]=function(options){var isMethodCall=typeof options==="string";var args=widgetSlice.call(arguments,1);var returnValue=this;if(isMethodCall){if(!this.length&&options==="instance"){returnValue=undefined;}else{this.each(function(){var methodValue;var instance=$.data(this,fullName);if(options==="instance"){returnValue=instance;return false;}
    if(!instance){return $.error("cannot call methods on "+name+" prior to initialization; "+"attempted to call method '"+options+"'");}
    if(!$.isFunction(instance[options])||options.charAt(0)==="_"){return $.error("no such method '"+options+"' for "+name+" widget instance");}
    methodValue=instance[options].apply(instance,args);if(methodValue!==instance&&methodValue!==undefined){returnValue=methodValue&&methodValue.jquery?returnValue.pushStack(methodValue.get()):methodValue;return false;}});}}else{if(args.length){options=$.widget.extend.apply(null,[options].concat(args));}
    this.each(function(){var instance=$.data(this,fullName);if(instance){instance.option(options||{});if(instance._init){instance._init();}}else{$.data(this,fullName,new object(options,this));}});}
    return returnValue;};};$.Widget=function(){};$.Widget._childConstructors=[];$.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:false,create:null},_createWidget:function(options,element){element=$(element||this.defaultElement||this)[0];this.element=$(element);this.uuid=widgetUuid++;this.eventNamespace="."+this.widgetName+this.uuid;this.bindings=$();this.hoverable=$();this.focusable=$();this.classesElementLookup={};if(element!==this){$.data(element,this.widgetFullName,this);this._on(true,this.element,{remove:function(event){if(event.target===element){this.destroy();}}});this.document=$(element.style?element.ownerDocument:element.document||element);this.window=$(this.document[0].defaultView||this.document[0].parentWindow);}
        this.options=$.widget.extend({},this.options,this._getCreateOptions(),options);this._create();if(this.options.disabled){this._setOptionDisabled(this.options.disabled);}
        this._trigger("create",null,this._getCreateEventData());this._init();},_getCreateOptions:function(){return{};},_getCreateEventData:$.noop,_create:$.noop,_init:$.noop,destroy:function(){var that=this;this._destroy();$.each(this.classesElementLookup,function(key,value){that._removeClass(value,key);});this.element.off(this.eventNamespace).removeData(this.widgetFullName);this.widget().off(this.eventNamespace).removeAttr("aria-disabled");this.bindings.off(this.eventNamespace);},_destroy:$.noop,widget:function(){return this.element;},option:function(key,value){var options=key;var parts;var curOption;var i;if(arguments.length===0){return $.widget.extend({},this.options);}
        if(typeof key==="string"){options={};parts=key.split(".");key=parts.shift();if(parts.length){curOption=options[key]=$.widget.extend({},this.options[key]);for(i=0;i<parts.length-1;i++){curOption[parts[i]]=curOption[parts[i]]||{};curOption=curOption[parts[i]];}
            key=parts.pop();if(arguments.length===1){return curOption[key]===undefined?null:curOption[key];}
            curOption[key]=value;}else{if(arguments.length===1){return this.options[key]===undefined?null:this.options[key];}
            options[key]=value;}}
        this._setOptions(options);return this;},_setOptions:function(options){var key;for(key in options){this._setOption(key,options[key]);}
        return this;},_setOption:function(key,value){if(key==="classes"){this._setOptionClasses(value);}
        this.options[key]=value;if(key==="disabled"){this._setOptionDisabled(value);}
        return this;},_setOptionClasses:function(value){var classKey,elements,currentElements;for(classKey in value){currentElements=this.classesElementLookup[classKey];if(value[classKey]===this.options.classes[classKey]||!currentElements||!currentElements.length){continue;}
        elements=$(currentElements.get());this._removeClass(currentElements,classKey);elements.addClass(this._classes({element:elements,keys:classKey,classes:value,add:true}));}},_setOptionDisabled:function(value){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!value);if(value){this._removeClass(this.hoverable,null,"ui-state-hover");this._removeClass(this.focusable,null,"ui-state-focus");}},enable:function(){return this._setOptions({disabled:false});},disable:function(){return this._setOptions({disabled:true});},_classes:function(options){var full=[];var that=this;options=$.extend({element:this.element,classes:this.options.classes||{}},options);function processClassString(classes,checkOption){var current,i;for(i=0;i<classes.length;i++){current=that.classesElementLookup[classes[i]]||$();if(options.add){current=$($.unique(current.get().concat(options.element.get())));}else{current=$(current.not(options.element).get());}
        that.classesElementLookup[classes[i]]=current;full.push(classes[i]);if(checkOption&&options.classes[classes[i]]){full.push(options.classes[classes[i]]);}}}
        this._on(options.element,{"remove":"_untrackClassesElement"});if(options.keys){processClassString(options.keys.match(/\S+/g)||[],true);}
        if(options.extra){processClassString(options.extra.match(/\S+/g)||[]);}
        return full.join(" ");},_untrackClassesElement:function(event){var that=this;$.each(that.classesElementLookup,function(key,value){if($.inArray(event.target,value)!==-1){that.classesElementLookup[key]=$(value.not(event.target).get());}});},_removeClass:function(element,keys,extra){return this._toggleClass(element,keys,extra,false);},_addClass:function(element,keys,extra){return this._toggleClass(element,keys,extra,true);},_toggleClass:function(element,keys,extra,add){add=(typeof add==="boolean")?add:extra;var shift=(typeof element==="string"||element===null),options={extra:shift?keys:extra,keys:shift?element:keys,element:shift?this.element:element,add:add};options.element.toggleClass(this._classes(options),add);return this;},_on:function(suppressDisabledCheck,element,handlers){var delegateElement;var instance=this;if(typeof suppressDisabledCheck!=="boolean"){handlers=element;element=suppressDisabledCheck;suppressDisabledCheck=false;}
        if(!handlers){handlers=element;element=this.element;delegateElement=this.widget();}else{element=delegateElement=$(element);this.bindings=this.bindings.add(element);}
        $.each(handlers,function(event,handler){function handlerProxy(){if(!suppressDisabledCheck&&(instance.options.disabled===true||$(this).hasClass("ui-state-disabled"))){return;}
            return(typeof handler==="string"?instance[handler]:handler).apply(instance,arguments);}
            if(typeof handler!=="string"){handlerProxy.guid=handler.guid=handler.guid||handlerProxy.guid||$.guid++;}
            var match=event.match(/^([\w:-]*)\s*(.*)$/);var eventName=match[1]+instance.eventNamespace;var selector=match[2];if(selector){delegateElement.on(eventName,selector,handlerProxy);}else{element.on(eventName,handlerProxy);}});},_off:function(element,eventName){eventName=(eventName||"").split(" ").join(this.eventNamespace+" ")+
        this.eventNamespace;element.off(eventName).off(eventName);this.bindings=$(this.bindings.not(element).get());this.focusable=$(this.focusable.not(element).get());this.hoverable=$(this.hoverable.not(element).get());},_delay:function(handler,delay){function handlerProxy(){return(typeof handler==="string"?instance[handler]:handler).apply(instance,arguments);}
        var instance=this;return setTimeout(handlerProxy,delay||0);},_hoverable:function(element){this.hoverable=this.hoverable.add(element);this._on(element,{mouseenter:function(event){this._addClass($(event.currentTarget),null,"ui-state-hover");},mouseleave:function(event){this._removeClass($(event.currentTarget),null,"ui-state-hover");}});},_focusable:function(element){this.focusable=this.focusable.add(element);this._on(element,{focusin:function(event){this._addClass($(event.currentTarget),null,"ui-state-focus");},focusout:function(event){this._removeClass($(event.currentTarget),null,"ui-state-focus");}});},_trigger:function(type,event,data){var prop,orig;var callback=this.options[type];data=data||{};event=$.Event(event);event.type=(type===this.widgetEventPrefix?type:this.widgetEventPrefix+type).toLowerCase();event.target=this.element[0];orig=event.originalEvent;if(orig){for(prop in orig){if(!(prop in event)){event[prop]=orig[prop];}}}
        this.element.trigger(event,data);return!($.isFunction(callback)&&callback.apply(this.element[0],[event].concat(data))===false||event.isDefaultPrevented());}};$.each({show:"fadeIn",hide:"fadeOut"},function(method,defaultEffect){$.Widget.prototype["_"+method]=function(element,options,callback){if(typeof options==="string"){options={effect:options};}
    var hasOptions;var effectName=!options?method:options===true||typeof options==="number"?defaultEffect:options.effect||defaultEffect;options=options||{};if(typeof options==="number"){options={duration:options};}
    hasOptions=!$.isEmptyObject(options);options.complete=callback;if(options.delay){element.delay(options.delay);}
    if(hasOptions&&$.effects&&$.effects.effect[effectName]){element[method](options);}else if(effectName!==method&&element[effectName]){element[effectName](options.duration,options.easing,callback);}else{element.queue(function(next){$(this)[method]();if(callback){callback.call(element[0]);}
        next();});}};});var widget=$.widget;(function(){var cachedScrollbarWidth,max=Math.max,abs=Math.abs,rhorizontal=/left|center|right/,rvertical=/top|center|bottom/,roffset=/[\+\-]\d+(\.[\d]+)?%?/,rposition=/^\w+/,rpercent=/%$/,_position=$.fn.position;function getOffsets(offsets,width,height){return[parseFloat(offsets[0])*(rpercent.test(offsets[0])?width/100:1),parseFloat(offsets[1])*(rpercent.test(offsets[1])?height/100:1)];}
    function parseCss(element,property){return parseInt($.css(element,property),10)||0;}
    function getDimensions(elem){var raw=elem[0];if(raw.nodeType===9){return{width:elem.width(),height:elem.height(),offset:{top:0,left:0}};}
        if($.isWindow(raw)){return{width:elem.width(),height:elem.height(),offset:{top:elem.scrollTop(),left:elem.scrollLeft()}};}
        if(raw.preventDefault){return{width:0,height:0,offset:{top:raw.pageY,left:raw.pageX}};}
        return{width:elem.outerWidth(),height:elem.outerHeight(),offset:elem.offset()};}
    $.position={scrollbarWidth:function(){if(cachedScrollbarWidth!==undefined){return cachedScrollbarWidth;}
            var w1,w2,div=$("<div "+"style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'>"+"<div style='height:100px;width:auto;'></div></div>"),innerDiv=div.children()[0];$("body").append(div);w1=innerDiv.offsetWidth;div.css("overflow","scroll");w2=innerDiv.offsetWidth;if(w1===w2){w2=div[0].clientWidth;}
            div.remove();return(cachedScrollbarWidth=w1-w2);},getScrollInfo:function(within){var overflowX=within.isWindow||within.isDocument?"":within.element.css("overflow-x"),overflowY=within.isWindow||within.isDocument?"":within.element.css("overflow-y"),hasOverflowX=overflowX==="scroll"||(overflowX==="auto"&&within.width<within.element[0].scrollWidth),hasOverflowY=overflowY==="scroll"||(overflowY==="auto"&&within.height<within.element[0].scrollHeight);return{width:hasOverflowY?$.position.scrollbarWidth():0,height:hasOverflowX?$.position.scrollbarWidth():0};},getWithinInfo:function(element){var withinElement=$(element||window),isWindow=$.isWindow(withinElement[0]),isDocument=!!withinElement[0]&&withinElement[0].nodeType===9,hasOffset=!isWindow&&!isDocument;return{element:withinElement,isWindow:isWindow,isDocument:isDocument,offset:hasOffset?$(element).offset():{left:0,top:0},scrollLeft:withinElement.scrollLeft(),scrollTop:withinElement.scrollTop(),width:withinElement.outerWidth(),height:withinElement.outerHeight()};}};$.fn.position=function(options){if(!options||!options.of){return _position.apply(this,arguments);}
        options=$.extend({},options);var atOffset,targetWidth,targetHeight,targetOffset,basePosition,dimensions,target=$(options.of),within=$.position.getWithinInfo(options.within),scrollInfo=$.position.getScrollInfo(within),collision=(options.collision||"flip").split(" "),offsets={};dimensions=getDimensions(target);if(target[0].preventDefault){options.at="left top";}
        targetWidth=dimensions.width;targetHeight=dimensions.height;targetOffset=dimensions.offset;basePosition=$.extend({},targetOffset);$.each(["my","at"],function(){var pos=(options[this]||"").split(" "),horizontalOffset,verticalOffset;if(pos.length===1){pos=rhorizontal.test(pos[0])?pos.concat(["center"]):rvertical.test(pos[0])?["center"].concat(pos):["center","center"];}
            pos[0]=rhorizontal.test(pos[0])?pos[0]:"center";pos[1]=rvertical.test(pos[1])?pos[1]:"center";horizontalOffset=roffset.exec(pos[0]);verticalOffset=roffset.exec(pos[1]);offsets[this]=[horizontalOffset?horizontalOffset[0]:0,verticalOffset?verticalOffset[0]:0];options[this]=[rposition.exec(pos[0])[0],rposition.exec(pos[1])[0]];});if(collision.length===1){collision[1]=collision[0];}
        if(options.at[0]==="right"){basePosition.left+=targetWidth;}else if(options.at[0]==="center"){basePosition.left+=targetWidth/2;}
        if(options.at[1]==="bottom"){basePosition.top+=targetHeight;}else if(options.at[1]==="center"){basePosition.top+=targetHeight/2;}
        atOffset=getOffsets(offsets.at,targetWidth,targetHeight);basePosition.left+=atOffset[0];basePosition.top+=atOffset[1];return this.each(function(){var collisionPosition,using,elem=$(this),elemWidth=elem.outerWidth(),elemHeight=elem.outerHeight(),marginLeft=parseCss(this,"marginLeft"),marginTop=parseCss(this,"marginTop"),collisionWidth=elemWidth+marginLeft+parseCss(this,"marginRight")+
            scrollInfo.width,collisionHeight=elemHeight+marginTop+parseCss(this,"marginBottom")+
            scrollInfo.height,position=$.extend({},basePosition),myOffset=getOffsets(offsets.my,elem.outerWidth(),elem.outerHeight());if(options.my[0]==="right"){position.left-=elemWidth;}else if(options.my[0]==="center"){position.left-=elemWidth/2;}
            if(options.my[1]==="bottom"){position.top-=elemHeight;}else if(options.my[1]==="center"){position.top-=elemHeight/2;}
            position.left+=myOffset[0];position.top+=myOffset[1];collisionPosition={marginLeft:marginLeft,marginTop:marginTop};$.each(["left","top"],function(i,dir){if($.ui.position[collision[i]]){$.ui.position[collision[i]][dir](position,{targetWidth:targetWidth,targetHeight:targetHeight,elemWidth:elemWidth,elemHeight:elemHeight,collisionPosition:collisionPosition,collisionWidth:collisionWidth,collisionHeight:collisionHeight,offset:[atOffset[0]+myOffset[0],atOffset[1]+myOffset[1]],my:options.my,at:options.at,within:within,elem:elem});}});if(options.using){using=function(props){var left=targetOffset.left-position.left,right=left+targetWidth-elemWidth,top=targetOffset.top-position.top,bottom=top+targetHeight-elemHeight,feedback={target:{element:target,left:targetOffset.left,top:targetOffset.top,width:targetWidth,height:targetHeight},element:{element:elem,left:position.left,top:position.top,width:elemWidth,height:elemHeight},horizontal:right<0?"left":left>0?"right":"center",vertical:bottom<0?"top":top>0?"bottom":"middle"};if(targetWidth<elemWidth&&abs(left+right)<targetWidth){feedback.horizontal="center";}
                if(targetHeight<elemHeight&&abs(top+bottom)<targetHeight){feedback.vertical="middle";}
                if(max(abs(left),abs(right))>max(abs(top),abs(bottom))){feedback.important="horizontal";}else{feedback.important="vertical";}
                options.using.call(this,props,feedback);};}
            elem.offset($.extend(position,{using:using}));});};$.ui.position={fit:{left:function(position,data){var within=data.within,withinOffset=within.isWindow?within.scrollLeft:within.offset.left,outerWidth=within.width,collisionPosLeft=position.left-data.collisionPosition.marginLeft,overLeft=withinOffset-collisionPosLeft,overRight=collisionPosLeft+data.collisionWidth-outerWidth-withinOffset,newOverRight;if(data.collisionWidth>outerWidth){if(overLeft>0&&overRight<=0){newOverRight=position.left+overLeft+data.collisionWidth-outerWidth-
                withinOffset;position.left+=overLeft-newOverRight;}else if(overRight>0&&overLeft<=0){position.left=withinOffset;}else{if(overLeft>overRight){position.left=withinOffset+outerWidth-data.collisionWidth;}else{position.left=withinOffset;}}}else if(overLeft>0){position.left+=overLeft;}else if(overRight>0){position.left-=overRight;}else{position.left=max(position.left-collisionPosLeft,position.left);}},top:function(position,data){var within=data.within,withinOffset=within.isWindow?within.scrollTop:within.offset.top,outerHeight=data.within.height,collisionPosTop=position.top-data.collisionPosition.marginTop,overTop=withinOffset-collisionPosTop,overBottom=collisionPosTop+data.collisionHeight-outerHeight-withinOffset,newOverBottom;if(data.collisionHeight>outerHeight){if(overTop>0&&overBottom<=0){newOverBottom=position.top+overTop+data.collisionHeight-outerHeight-
                withinOffset;position.top+=overTop-newOverBottom;}else if(overBottom>0&&overTop<=0){position.top=withinOffset;}else{if(overTop>overBottom){position.top=withinOffset+outerHeight-data.collisionHeight;}else{position.top=withinOffset;}}}else if(overTop>0){position.top+=overTop;}else if(overBottom>0){position.top-=overBottom;}else{position.top=max(position.top-collisionPosTop,position.top);}}},flip:{left:function(position,data){var within=data.within,withinOffset=within.offset.left+within.scrollLeft,outerWidth=within.width,offsetLeft=within.isWindow?within.scrollLeft:within.offset.left,collisionPosLeft=position.left-data.collisionPosition.marginLeft,overLeft=collisionPosLeft-offsetLeft,overRight=collisionPosLeft+data.collisionWidth-outerWidth-offsetLeft,myOffset=data.my[0]==="left"?-data.elemWidth:data.my[0]==="right"?data.elemWidth:0,atOffset=data.at[0]==="left"?data.targetWidth:data.at[0]==="right"?-data.targetWidth:0,offset=-2*data.offset[0],newOverRight,newOverLeft;if(overLeft<0){newOverRight=position.left+myOffset+atOffset+offset+data.collisionWidth-
                outerWidth-withinOffset;if(newOverRight<0||newOverRight<abs(overLeft)){position.left+=myOffset+atOffset+offset;}}else if(overRight>0){newOverLeft=position.left-data.collisionPosition.marginLeft+myOffset+
                atOffset+offset-offsetLeft;if(newOverLeft>0||abs(newOverLeft)<overRight){position.left+=myOffset+atOffset+offset;}}},top:function(position,data){var within=data.within,withinOffset=within.offset.top+within.scrollTop,outerHeight=within.height,offsetTop=within.isWindow?within.scrollTop:within.offset.top,collisionPosTop=position.top-data.collisionPosition.marginTop,overTop=collisionPosTop-offsetTop,overBottom=collisionPosTop+data.collisionHeight-outerHeight-offsetTop,top=data.my[1]==="top",myOffset=top?-data.elemHeight:data.my[1]==="bottom"?data.elemHeight:0,atOffset=data.at[1]==="top"?data.targetHeight:data.at[1]==="bottom"?-data.targetHeight:0,offset=-2*data.offset[1],newOverTop,newOverBottom;if(overTop<0){newOverBottom=position.top+myOffset+atOffset+offset+data.collisionHeight-
                outerHeight-withinOffset;if(newOverBottom<0||newOverBottom<abs(overTop)){position.top+=myOffset+atOffset+offset;}}else if(overBottom>0){newOverTop=position.top-data.collisionPosition.marginTop+myOffset+atOffset+
                offset-offsetTop;if(newOverTop>0||abs(newOverTop)<overBottom){position.top+=myOffset+atOffset+offset;}}}},flipfit:{left:function(){$.ui.position.flip.left.apply(this,arguments);$.ui.position.fit.left.apply(this,arguments);},top:function(){$.ui.position.flip.top.apply(this,arguments);$.ui.position.fit.top.apply(this,arguments);}}};})();var position=$.ui.position;var data=$.extend($.expr[":"],{data:$.expr.createPseudo?$.expr.createPseudo(function(dataName){return function(elem){return!!$.data(elem,dataName);};}):function(elem,i,match){return!!$.data(elem,match[3]);}});var disableSelection=$.fn.extend({disableSelection:(function(){var eventType="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.on(eventType+".ui-disableSelection",function(event){event.preventDefault();});};})(),enableSelection:function(){return this.off(".ui-disableSelection");}});$.ui.focusable=function(element,hasTabindex){var map,mapName,img,focusableIfVisible,fieldset,nodeName=element.nodeName.toLowerCase();if("area"===nodeName){map=element.parentNode;mapName=map.name;if(!element.href||!mapName||map.nodeName.toLowerCase()!=="map"){return false;}
    img=$("img[usemap='#"+mapName+"']");return img.length>0&&img.is(":visible");}
    if(/^(input|select|textarea|button|object)$/.test(nodeName)){focusableIfVisible=!element.disabled;if(focusableIfVisible){fieldset=$(element).closest("fieldset")[0];if(fieldset){focusableIfVisible=!fieldset.disabled;}}}else if("a"===nodeName){focusableIfVisible=element.href||hasTabindex;}else{focusableIfVisible=hasTabindex;}
    return focusableIfVisible&&$(element).is(":visible")&&visible($(element));};function visible(element){var visibility=element.css("visibility");while(visibility==="inherit"){element=element.parent();visibility=element.css("visibility");}
    return visibility!=="hidden";}
    $.extend($.expr[":"],{focusable:function(element){return $.ui.focusable(element,$.attr(element,"tabindex")!=null);}});var focusable=$.ui.focusable;var form=$.fn.form=function(){return typeof this[0].form==="string"?this.closest("form"):$(this[0].form);};var formResetMixin=$.ui.formResetMixin={_formResetHandler:function(){var form=$(this);setTimeout(function(){var instances=form.data("ui-form-reset-instances");$.each(instances,function(){this.refresh();});});},_bindFormResetHandler:function(){this.form=this.element.form();if(!this.form.length){return;}
            var instances=this.form.data("ui-form-reset-instances")||[];if(!instances.length){this.form.on("reset.ui-form-reset",this._formResetHandler);}
            instances.push(this);this.form.data("ui-form-reset-instances",instances);},_unbindFormResetHandler:function(){if(!this.form.length){return;}
            var instances=this.form.data("ui-form-reset-instances");instances.splice($.inArray(this,instances),1);if(instances.length){this.form.data("ui-form-reset-instances",instances);}else{this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset");}}};if($.fn.jquery.substring(0,3)==="1.7"){$.each(["Width","Height"],function(i,name){var side=name==="Width"?["Left","Right"]:["Top","Bottom"],type=name.toLowerCase(),orig={innerWidth:$.fn.innerWidth,innerHeight:$.fn.innerHeight,outerWidth:$.fn.outerWidth,outerHeight:$.fn.outerHeight};function reduce(elem,size,border,margin){$.each(side,function(){size-=parseFloat($.css(elem,"padding"+this))||0;if(border){size-=parseFloat($.css(elem,"border"+this+"Width"))||0;}
        if(margin){size-=parseFloat($.css(elem,"margin"+this))||0;}});return size;}
        $.fn["inner"+name]=function(size){if(size===undefined){return orig["inner"+name].call(this);}
            return this.each(function(){$(this).css(type,reduce(this,size)+"px");});};$.fn["outer"+name]=function(size,margin){if(typeof size!=="number"){return orig["outer"+name].call(this,size);}
            return this.each(function(){$(this).css(type,reduce(this,size,true,margin)+"px");});};});$.fn.addBack=function(selector){return this.add(selector==null?this.prevObject:this.prevObject.filter(selector));};};var keycode=$.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38};var escapeSelector=$.ui.escapeSelector=(function(){var selectorEscape=/([!"#$%&'()*+,./:;<=>?@[\]^`{|}~])/g;return function(selector){return selector.replace(selectorEscape,"\\$1");};})();var labels=$.fn.labels=function(){var ancestor,selector,id,labels,ancestors;if(this[0].labels&&this[0].labels.length){return this.pushStack(this[0].labels);}
        labels=this.eq(0).parents("label");id=this.attr("id");if(id){ancestor=this.eq(0).parents().last();ancestors=ancestor.add(ancestor.length?ancestor.siblings():this.siblings());selector="label[for='"+$.ui.escapeSelector(id)+"']";labels=labels.add(ancestors.find(selector).addBack(selector));}
        return this.pushStack(labels);};var scrollParent=$.fn.scrollParent=function(includeHidden){var position=this.css("position"),excludeStaticParent=position==="absolute",overflowRegex=includeHidden?/(auto|scroll|hidden)/:/(auto|scroll)/,scrollParent=this.parents().filter(function(){var parent=$(this);if(excludeStaticParent&&parent.css("position")==="static"){return false;}
        return overflowRegex.test(parent.css("overflow")+parent.css("overflow-y")+
            parent.css("overflow-x"));}).eq(0);return position==="fixed"||!scrollParent.length?$(this[0].ownerDocument||document):scrollParent;};var tabbable=$.extend($.expr[":"],{tabbable:function(element){var tabIndex=$.attr(element,"tabindex"),hasTabindex=tabIndex!=null;return(!hasTabindex||tabIndex>=0)&&$.ui.focusable(element,hasTabindex);}});var uniqueId=$.fn.extend({uniqueId:(function(){var uuid=0;return function(){return this.each(function(){if(!this.id){this.id="ui-id-"+(++uuid);}});};})(),removeUniqueId:function(){return this.each(function(){if(/^ui-id-\d+$/.test(this.id)){$(this).removeAttr("id");}});}});$.extend($.ui,{datepicker:{version:"1.12.1"}});var datepicker_instActive;function datepicker_getZindex(elem){var position,value;while(elem.length&&elem[0]!==document){position=elem.css("position");if(position==="absolute"||position==="relative"||position==="fixed"){value=parseInt(elem.css("zIndex"),10);if(!isNaN(value)&&value!==0){return value;}}
        elem=elem.parent();}
        return 0;}
    function Datepicker(){this._curInst=null;this._keyEvent=false;this._disabledInputs=[];this._datepickerShowing=false;this._inDialog=false;this._mainDivId="ui-datepicker-div";this._inlineClass="ui-datepicker-inline";this._appendClass="ui-datepicker-append";this._triggerClass="ui-datepicker-trigger";this._dialogClass="ui-datepicker-dialog";this._disableClass="ui-datepicker-disabled";this._unselectableClass="ui-datepicker-unselectable";this._currentClass="ui-datepicker-current-day";this._dayOverClass="ui-datepicker-days-cell-over";this.regional=[];this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["","","","","","","","","","","",""],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["","","","","","",""],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["","","","","","",""],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:false,showMonthAfterYear:false,yearSuffix:""};this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:false,hideIfNoPrevNext:false,navigationAsDateFormat:false,gotoCurrent:false,changeMonth:false,changeYear:false,yearRange:"c-10:c+10",showOtherMonths:false,selectOtherMonths:false,showWeek:false,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:true,showButtonPanel:false,autoSize:false,disabled:false};$.extend(this._defaults,this.regional[""]);this.regional.en=$.extend(true,{},this.regional[""]);this.regional["en-US"]=$.extend(true,{},this.regional.en);this.dpDiv=datepicker_bindHover($("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"));}
    $.extend(Datepicker.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv;},setDefaults:function(settings){datepicker_extendRemove(this._defaults,settings||{});return this;},_attachDatepicker:function(target,settings){var nodeName,inline,inst;nodeName=target.nodeName.toLowerCase();inline=(nodeName==="div"||nodeName==="span");if(!target.id){this.uuid+=1;target.id="dp"+this.uuid;}
            inst=this._newInst($(target),inline);inst.settings=$.extend({},settings||{});if(nodeName==="input"){this._connectDatepicker(target,inst);}else if(inline){this._inlineDatepicker(target,inst);}},_newInst:function(target,inline){var id=target[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:id,input:target,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:inline,dpDiv:(!inline?this.dpDiv:datepicker_bindHover($("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")))};},_connectDatepicker:function(target,inst){var input=$(target);inst.append=$([]);inst.trigger=$([]);if(input.hasClass(this.markerClassName)){return;}
            this._attachments(input,inst);input.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp);this._autoSize(inst);$.data(target,"datepicker",inst);if(inst.settings.disabled){this._disableDatepicker(target);}},_attachments:function(input,inst){var showOn,buttonText,buttonImage,appendText=this._get(inst,"appendText"),isRTL=this._get(inst,"isRTL");if(inst.append){inst.append.remove();}
            if(appendText){inst.append=$("<span class='"+this._appendClass+"'>"+appendText+"</span>");input[isRTL?"before":"after"](inst.append);}
            input.off("focus",this._showDatepicker);if(inst.trigger){inst.trigger.remove();}
            showOn=this._get(inst,"showOn");if(showOn==="focus"||showOn==="both"){input.on("focus",this._showDatepicker);}
            if(showOn==="button"||showOn==="both"){buttonText=this._get(inst,"buttonText");buttonImage=this._get(inst,"buttonImage");inst.trigger=$(this._get(inst,"buttonImageOnly")?$("<img/>").addClass(this._triggerClass).attr({src:buttonImage,alt:buttonText,title:buttonText}):$("<button type='button'></button>").addClass(this._triggerClass).html(!buttonImage?buttonText:$("<img/>").attr({src:buttonImage,alt:buttonText,title:buttonText})));input[isRTL?"before":"after"](inst.trigger);inst.trigger.on("click",function(){if($.datepicker._datepickerShowing&&$.datepicker._lastInput===input[0]){$.datepicker._hideDatepicker();}else if($.datepicker._datepickerShowing&&$.datepicker._lastInput!==input[0]){$.datepicker._hideDatepicker();$.datepicker._showDatepicker(input[0]);}else{$.datepicker._showDatepicker(input[0]);}
                return false;});}},_autoSize:function(inst){if(this._get(inst,"autoSize")&&!inst.inline){var findMax,max,maxI,i,date=new Date(2009,12-1,20),dateFormat=this._get(inst,"dateFormat");if(dateFormat.match(/[DM]/)){findMax=function(names){max=0;maxI=0;for(i=0;i<names.length;i++){if(names[i].length>max){max=names[i].length;maxI=i;}}
            return maxI;};date.setMonth(findMax(this._get(inst,(dateFormat.match(/MM/)?"monthNames":"monthNamesShort"))));date.setDate(findMax(this._get(inst,(dateFormat.match(/DD/)?"dayNames":"dayNamesShort")))+20-date.getDay());}
            inst.input.attr("size",this._formatDate(inst,date).length);}},_inlineDatepicker:function(target,inst){var divSpan=$(target);if(divSpan.hasClass(this.markerClassName)){return;}
            divSpan.addClass(this.markerClassName).append(inst.dpDiv);$.data(target,"datepicker",inst);this._setDate(inst,this._getDefaultDate(inst),true);this._updateDatepicker(inst);this._updateAlternate(inst);if(inst.settings.disabled){this._disableDatepicker(target);}
            inst.dpDiv.css("display","block");},_dialogDatepicker:function(input,date,onSelect,settings,pos){var id,browserWidth,browserHeight,scrollX,scrollY,inst=this._dialogInst;if(!inst){this.uuid+=1;id="dp"+this.uuid;this._dialogInput=$("<input type='text' id='"+id+"' style='position: absolute; top: -100px; width: 0px;'/>");this._dialogInput.on("keydown",this._doKeyDown);$("body").append(this._dialogInput);inst=this._dialogInst=this._newInst(this._dialogInput,false);inst.settings={};$.data(this._dialogInput[0],"datepicker",inst);}
            datepicker_extendRemove(inst.settings,settings||{});date=(date&&date.constructor===Date?this._formatDate(inst,date):date);this._dialogInput.val(date);this._pos=(pos?(pos.length?pos:[pos.pageX,pos.pageY]):null);if(!this._pos){browserWidth=document.documentElement.clientWidth;browserHeight=document.documentElement.clientHeight;scrollX=document.documentElement.scrollLeft||document.body.scrollLeft;scrollY=document.documentElement.scrollTop||document.body.scrollTop;this._pos=[(browserWidth/2)-100+scrollX,(browserHeight/2)-150+scrollY];}
            this._dialogInput.css("left",(this._pos[0]+20)+"px").css("top",this._pos[1]+"px");inst.settings.onSelect=onSelect;this._inDialog=true;this.dpDiv.addClass(this._dialogClass);this._showDatepicker(this._dialogInput[0]);if($.blockUI){$.blockUI(this.dpDiv);}
            $.data(this._dialogInput[0],"datepicker",inst);return this;},_destroyDatepicker:function(target){var nodeName,$target=$(target),inst=$.data(target,"datepicker");if(!$target.hasClass(this.markerClassName)){return;}
            nodeName=target.nodeName.toLowerCase();$.removeData(target,"datepicker");if(nodeName==="input"){inst.append.remove();inst.trigger.remove();$target.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp);}else if(nodeName==="div"||nodeName==="span"){$target.removeClass(this.markerClassName).empty();}
            if(datepicker_instActive===inst){datepicker_instActive=null;}},_enableDatepicker:function(target){var nodeName,inline,$target=$(target),inst=$.data(target,"datepicker");if(!$target.hasClass(this.markerClassName)){return;}
            nodeName=target.nodeName.toLowerCase();if(nodeName==="input"){target.disabled=false;inst.trigger.filter("button").each(function(){this.disabled=false;}).end().filter("img").css({opacity:"1.0",cursor:""});}else if(nodeName==="div"||nodeName==="span"){inline=$target.children("."+this._inlineClass);inline.children().removeClass("ui-state-disabled");inline.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",false);}
            this._disabledInputs=$.map(this._disabledInputs,function(value){return(value===target?null:value);});},_disableDatepicker:function(target){var nodeName,inline,$target=$(target),inst=$.data(target,"datepicker");if(!$target.hasClass(this.markerClassName)){return;}
            nodeName=target.nodeName.toLowerCase();if(nodeName==="input"){target.disabled=true;inst.trigger.filter("button").each(function(){this.disabled=true;}).end().filter("img").css({opacity:"0.5",cursor:"default"});}else if(nodeName==="div"||nodeName==="span"){inline=$target.children("."+this._inlineClass);inline.children().addClass("ui-state-disabled");inline.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",true);}
            this._disabledInputs=$.map(this._disabledInputs,function(value){return(value===target?null:value);});this._disabledInputs[this._disabledInputs.length]=target;},_isDisabledDatepicker:function(target){if(!target){return false;}
            for(var i=0;i<this._disabledInputs.length;i++){if(this._disabledInputs[i]===target){return true;}}
            return false;},_getInst:function(target){try{return $.data(target,"datepicker");}
        catch(err){throw"Missing instance data for this datepicker";}},_optionDatepicker:function(target,name,value){var settings,date,minDate,maxDate,inst=this._getInst(target);if(arguments.length===2&&typeof name==="string"){return(name==="defaults"?$.extend({},$.datepicker._defaults):(inst?(name==="all"?$.extend({},inst.settings):this._get(inst,name)):null));}
            settings=name||{};if(typeof name==="string"){settings={};settings[name]=value;}
            if(inst){if(this._curInst===inst){this._hideDatepicker();}
                date=this._getDateDatepicker(target,true);minDate=this._getMinMaxDate(inst,"min");maxDate=this._getMinMaxDate(inst,"max");datepicker_extendRemove(inst.settings,settings);if(minDate!==null&&settings.dateFormat!==undefined&&settings.minDate===undefined){inst.settings.minDate=this._formatDate(inst,minDate);}
                if(maxDate!==null&&settings.dateFormat!==undefined&&settings.maxDate===undefined){inst.settings.maxDate=this._formatDate(inst,maxDate);}
                if("disabled"in settings){if(settings.disabled){this._disableDatepicker(target);}else{this._enableDatepicker(target);}}
                this._attachments($(target),inst);this._autoSize(inst);this._setDate(inst,date);this._updateAlternate(inst);this._updateDatepicker(inst);}},_changeDatepicker:function(target,name,value){this._optionDatepicker(target,name,value);},_refreshDatepicker:function(target){var inst=this._getInst(target);if(inst){this._updateDatepicker(inst);}},_setDateDatepicker:function(target,date){var inst=this._getInst(target);if(inst){this._setDate(inst,date);this._updateDatepicker(inst);this._updateAlternate(inst);}},_getDateDatepicker:function(target,noDefault){var inst=this._getInst(target);if(inst&&!inst.inline){this._setDateFromField(inst,noDefault);}
            return(inst?this._getDate(inst):null);},_doKeyDown:function(event){var onSelect,dateStr,sel,inst=$.datepicker._getInst(event.target),handled=true,isRTL=inst.dpDiv.is(".ui-datepicker-rtl");inst._keyEvent=true;if($.datepicker._datepickerShowing){switch(event.keyCode){case 9:$.datepicker._hideDatepicker();handled=false;break;case 13:sel=$("td."+$.datepicker._dayOverClass+":not(."+
            $.datepicker._currentClass+")",inst.dpDiv);if(sel[0]){$.datepicker._selectDay(event.target,inst.selectedMonth,inst.selectedYear,sel[0]);}
            onSelect=$.datepicker._get(inst,"onSelect");if(onSelect){dateStr=$.datepicker._formatDate(inst);onSelect.apply((inst.input?inst.input[0]:null),[dateStr,inst]);}else{$.datepicker._hideDatepicker();}
            return false;case 27:$.datepicker._hideDatepicker();break;case 33:$.datepicker._adjustDate(event.target,(event.ctrlKey?-$.datepicker._get(inst,"stepBigMonths"):-$.datepicker._get(inst,"stepMonths")),"M");break;case 34:$.datepicker._adjustDate(event.target,(event.ctrlKey?+$.datepicker._get(inst,"stepBigMonths"):+$.datepicker._get(inst,"stepMonths")),"M");break;case 35:if(event.ctrlKey||event.metaKey){$.datepicker._clearDate(event.target);}
            handled=event.ctrlKey||event.metaKey;break;case 36:if(event.ctrlKey||event.metaKey){$.datepicker._gotoToday(event.target);}
            handled=event.ctrlKey||event.metaKey;break;case 37:if(event.ctrlKey||event.metaKey){$.datepicker._adjustDate(event.target,(isRTL?+1:-1),"D");}
            handled=event.ctrlKey||event.metaKey;if(event.originalEvent.altKey){$.datepicker._adjustDate(event.target,(event.ctrlKey?-$.datepicker._get(inst,"stepBigMonths"):-$.datepicker._get(inst,"stepMonths")),"M");}
            break;case 38:if(event.ctrlKey||event.metaKey){$.datepicker._adjustDate(event.target,-7,"D");}
            handled=event.ctrlKey||event.metaKey;break;case 39:if(event.ctrlKey||event.metaKey){$.datepicker._adjustDate(event.target,(isRTL?-1:+1),"D");}
            handled=event.ctrlKey||event.metaKey;if(event.originalEvent.altKey){$.datepicker._adjustDate(event.target,(event.ctrlKey?+$.datepicker._get(inst,"stepBigMonths"):+$.datepicker._get(inst,"stepMonths")),"M");}
            break;case 40:if(event.ctrlKey||event.metaKey){$.datepicker._adjustDate(event.target,+7,"D");}
            handled=event.ctrlKey||event.metaKey;break;default:handled=false;}}else if(event.keyCode===36&&event.ctrlKey){$.datepicker._showDatepicker(this);}else{handled=false;}
            if(handled){event.preventDefault();event.stopPropagation();}},_doKeyPress:function(event){var chars,chr,inst=$.datepicker._getInst(event.target);if($.datepicker._get(inst,"constrainInput")){chars=$.datepicker._possibleChars($.datepicker._get(inst,"dateFormat"));chr=String.fromCharCode(event.charCode==null?event.keyCode:event.charCode);return event.ctrlKey||event.metaKey||(chr<" "||!chars||chars.indexOf(chr)>-1);}},_doKeyUp:function(event){var date,inst=$.datepicker._getInst(event.target);if(inst.input.val()!==inst.lastVal){try{date=$.datepicker.parseDate($.datepicker._get(inst,"dateFormat"),(inst.input?inst.input.val():null),$.datepicker._getFormatConfig(inst));if(date){$.datepicker._setDateFromField(inst);$.datepicker._updateAlternate(inst);$.datepicker._updateDatepicker(inst);}}
        catch(err){}}
            return true;},_showDatepicker:function(input){input=input.target||input;if(input.nodeName.toLowerCase()!=="input"){input=$("input",input.parentNode)[0];}
            if($.datepicker._isDisabledDatepicker(input)||$.datepicker._lastInput===input){return;}
            var inst,beforeShow,beforeShowSettings,isFixed,offset,showAnim,duration;inst=$.datepicker._getInst(input);if($.datepicker._curInst&&$.datepicker._curInst!==inst){$.datepicker._curInst.dpDiv.stop(true,true);if(inst&&$.datepicker._datepickerShowing){$.datepicker._hideDatepicker($.datepicker._curInst.input[0]);}}
            beforeShow=$.datepicker._get(inst,"beforeShow");beforeShowSettings=beforeShow?beforeShow.apply(input,[input,inst]):{};if(beforeShowSettings===false){return;}
            datepicker_extendRemove(inst.settings,beforeShowSettings);inst.lastVal=null;$.datepicker._lastInput=input;$.datepicker._setDateFromField(inst);if($.datepicker._inDialog){input.value="";}
            if(!$.datepicker._pos){$.datepicker._pos=$.datepicker._findPos(input);$.datepicker._pos[1]+=input.offsetHeight;}
            isFixed=false;$(input).parents().each(function(){isFixed|=$(this).css("position")==="fixed";return!isFixed;});offset={left:$.datepicker._pos[0],top:$.datepicker._pos[1]};$.datepicker._pos=null;inst.dpDiv.empty();inst.dpDiv.css({position:"absolute",display:"block",top:"-1000px"});$.datepicker._updateDatepicker(inst);offset=$.datepicker._checkOffset(inst,offset,isFixed);inst.dpDiv.css({position:($.datepicker._inDialog&&$.blockUI?"static":(isFixed?"fixed":"absolute")),display:"none",left:offset.left+"px",top:offset.top+"px"});if(!inst.inline){showAnim=$.datepicker._get(inst,"showAnim");duration=$.datepicker._get(inst,"duration");inst.dpDiv.css("z-index",datepicker_getZindex($(input))+1);$.datepicker._datepickerShowing=true;if($.effects&&$.effects.effect[showAnim]){inst.dpDiv.show(showAnim,$.datepicker._get(inst,"showOptions"),duration);}else{inst.dpDiv[showAnim||"show"](showAnim?duration:null);}
                if($.datepicker._shouldFocusInput(inst)){inst.input.trigger("focus");}
                $.datepicker._curInst=inst;}},_updateDatepicker:function(inst){this.maxRows=4;datepicker_instActive=inst;inst.dpDiv.empty().append(this._generateHTML(inst));this._attachHandlers(inst);var origyearshtml,numMonths=this._getNumberOfMonths(inst),cols=numMonths[1],width=17,activeCell=inst.dpDiv.find("."+this._dayOverClass+" a");if(activeCell.length>0){datepicker_handleMouseover.apply(activeCell.get(0));}
            inst.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("");if(cols>1){inst.dpDiv.addClass("ui-datepicker-multi-"+cols).css("width",(width*cols)+"em");}
            inst.dpDiv[(numMonths[0]!==1||numMonths[1]!==1?"add":"remove")+"Class"]("ui-datepicker-multi");inst.dpDiv[(this._get(inst,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl");if(inst===$.datepicker._curInst&&$.datepicker._datepickerShowing&&$.datepicker._shouldFocusInput(inst)){inst.input.trigger("focus");}
            if(inst.yearshtml){origyearshtml=inst.yearshtml;setTimeout(function(){if(origyearshtml===inst.yearshtml&&inst.yearshtml){inst.dpDiv.find("select.ui-datepicker-year:first").replaceWith(inst.yearshtml);}
                origyearshtml=inst.yearshtml=null;},0);}},_shouldFocusInput:function(inst){return inst.input&&inst.input.is(":visible")&&!inst.input.is(":disabled")&&!inst.input.is(":focus");},_checkOffset:function(inst,offset,isFixed){var dpWidth=inst.dpDiv.outerWidth(),dpHeight=inst.dpDiv.outerHeight(),inputWidth=inst.input?inst.input.outerWidth():0,inputHeight=inst.input?inst.input.outerHeight():0,viewWidth=document.documentElement.clientWidth+(isFixed?0:$(document).scrollLeft()),viewHeight=document.documentElement.clientHeight+(isFixed?0:$(document).scrollTop());offset.left-=(this._get(inst,"isRTL")?(dpWidth-inputWidth):0);offset.left-=(isFixed&&offset.left===inst.input.offset().left)?$(document).scrollLeft():0;offset.top-=(isFixed&&offset.top===(inst.input.offset().top+inputHeight))?$(document).scrollTop():0;offset.left-=Math.min(offset.left,(offset.left+dpWidth>viewWidth&&viewWidth>dpWidth)?Math.abs(offset.left+dpWidth-viewWidth):0);offset.top-=Math.min(offset.top,(offset.top+dpHeight>viewHeight&&viewHeight>dpHeight)?Math.abs(dpHeight+inputHeight):0);return offset;},_findPos:function(obj){var position,inst=this._getInst(obj),isRTL=this._get(inst,"isRTL");while(obj&&(obj.type==="hidden"||obj.nodeType!==1||$.expr.filters.hidden(obj))){obj=obj[isRTL?"previousSibling":"nextSibling"];}
            position=$(obj).offset();return[position.left,position.top];},_hideDatepicker:function(input){var showAnim,duration,postProcess,onClose,inst=this._curInst;if(!inst||(input&&inst!==$.data(input,"datepicker"))){return;}
            if(this._datepickerShowing){showAnim=this._get(inst,"showAnim");duration=this._get(inst,"duration");postProcess=function(){$.datepicker._tidyDialog(inst);};if($.effects&&($.effects.effect[showAnim]||$.effects[showAnim])){inst.dpDiv.hide(showAnim,$.datepicker._get(inst,"showOptions"),duration,postProcess);}else{inst.dpDiv[(showAnim==="slideDown"?"slideUp":(showAnim==="fadeIn"?"fadeOut":"hide"))]((showAnim?duration:null),postProcess);}
                if(!showAnim){postProcess();}
                this._datepickerShowing=false;onClose=this._get(inst,"onClose");if(onClose){onClose.apply((inst.input?inst.input[0]:null),[(inst.input?inst.input.val():""),inst]);}
                this._lastInput=null;if(this._inDialog){this._dialogInput.css({position:"absolute",left:"0",top:"-100px"});if($.blockUI){$.unblockUI();$("body").append(this.dpDiv);}}
                this._inDialog=false;}},_tidyDialog:function(inst){inst.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar");},_checkExternalClick:function(event){if(!$.datepicker._curInst){return;}
            var $target=$(event.target),inst=$.datepicker._getInst($target[0]);if((($target[0].id!==$.datepicker._mainDivId&&$target.parents("#"+$.datepicker._mainDivId).length===0&&!$target.hasClass($.datepicker.markerClassName)&&!$target.closest("."+$.datepicker._triggerClass).length&&$.datepicker._datepickerShowing&&!($.datepicker._inDialog&&$.blockUI)))||($target.hasClass($.datepicker.markerClassName)&&$.datepicker._curInst!==inst)){$.datepicker._hideDatepicker();}},_adjustDate:function(id,offset,period){var target=$(id),inst=this._getInst(target[0]);if(this._isDisabledDatepicker(target[0])){return;}
            this._adjustInstDate(inst,offset+
                (period==="M"?this._get(inst,"showCurrentAtPos"):0),period);this._updateDatepicker(inst);},_gotoToday:function(id){var date,target=$(id),inst=this._getInst(target[0]);if(this._get(inst,"gotoCurrent")&&inst.currentDay){inst.selectedDay=inst.currentDay;inst.drawMonth=inst.selectedMonth=inst.currentMonth;inst.drawYear=inst.selectedYear=inst.currentYear;}else{date=new Date();inst.selectedDay=date.getDate();inst.drawMonth=inst.selectedMonth=date.getMonth();inst.drawYear=inst.selectedYear=date.getFullYear();}
            this._notifyChange(inst);this._adjustDate(target);},_selectMonthYear:function(id,select,period){var target=$(id),inst=this._getInst(target[0]);inst["selected"+(period==="M"?"Month":"Year")]=inst["draw"+(period==="M"?"Month":"Year")]=parseInt(select.options[select.selectedIndex].value,10);this._notifyChange(inst);this._adjustDate(target);},_selectDay:function(id,month,year,td){var inst,target=$(id);if($(td).hasClass(this._unselectableClass)||this._isDisabledDatepicker(target[0])){return;}
            inst=this._getInst(target[0]);inst.selectedDay=inst.currentDay=$("a",td).html();inst.selectedMonth=inst.currentMonth=month;inst.selectedYear=inst.currentYear=year;this._selectDate(id,this._formatDate(inst,inst.currentDay,inst.currentMonth,inst.currentYear));},_clearDate:function(id){var target=$(id);this._selectDate(target,"");},_selectDate:function(id,dateStr){var onSelect,target=$(id),inst=this._getInst(target[0]);dateStr=(dateStr!=null?dateStr:this._formatDate(inst));if(inst.input){inst.input.val(dateStr);}
            this._updateAlternate(inst);onSelect=this._get(inst,"onSelect");if(onSelect){onSelect.apply((inst.input?inst.input[0]:null),[dateStr,inst]);}else if(inst.input){inst.input.trigger("change");}
            if(inst.inline){this._updateDatepicker(inst);}else{this._hideDatepicker();this._lastInput=inst.input[0];if(typeof(inst.input[0])!=="object"){inst.input.trigger("focus");}
                this._lastInput=null;}},_updateAlternate:function(inst){var altFormat,date,dateStr,altField=this._get(inst,"altField");if(altField){altFormat=this._get(inst,"altFormat")||this._get(inst,"dateFormat");date=this._getDate(inst);dateStr=this.formatDate(altFormat,date,this._getFormatConfig(inst));$(altField).val(dateStr);}},noWeekends:function(date){var day=date.getDay();return[(day>0&&day<6),""];},iso8601Week:function(date){var time,checkDate=new Date(date.getTime());checkDate.setDate(checkDate.getDate()+4-(checkDate.getDay()||7));time=checkDate.getTime();checkDate.setMonth(0);checkDate.setDate(1);return Math.floor(Math.round((time-checkDate)/86400000)/7)+1;},parseDate:function(format,value,settings){if(format==null||value==null){throw"Invalid arguments";}
            value=(typeof value==="object"?value.toString():value+"");if(value===""){return null;}
            var iFormat,dim,extra,iValue=0,shortYearCutoffTemp=(settings?settings.shortYearCutoff:null)||this._defaults.shortYearCutoff,shortYearCutoff=(typeof shortYearCutoffTemp!=="string"?shortYearCutoffTemp:new Date().getFullYear()%100+parseInt(shortYearCutoffTemp,10)),dayNamesShort=(settings?settings.dayNamesShort:null)||this._defaults.dayNamesShort,dayNames=(settings?settings.dayNames:null)||this._defaults.dayNames,monthNamesShort=(settings?settings.monthNamesShort:null)||this._defaults.monthNamesShort,monthNames=(settings?settings.monthNames:null)||this._defaults.monthNames,year=-1,month=-1,day=-1,doy=-1,literal=false,date,lookAhead=function(match){var matches=(iFormat+1<format.length&&format.charAt(iFormat+1)===match);if(matches){iFormat++;}
                return matches;},getNumber=function(match){var isDoubled=lookAhead(match),size=(match==="@"?14:(match==="!"?20:(match==="y"&&isDoubled?4:(match==="o"?3:2)))),minSize=(match==="y"?size:1),digits=new RegExp("^\\d{"+minSize+","+size+"}"),num=value.substring(iValue).match(digits);if(!num){throw"Missing number at position "+iValue;}
                iValue+=num[0].length;return parseInt(num[0],10);},getName=function(match,shortNames,longNames){var index=-1,names=$.map(lookAhead(match)?longNames:shortNames,function(v,k){return[[k,v]];}).sort(function(a,b){return-(a[1].length-b[1].length);});$.each(names,function(i,pair){var name=pair[1];if(value.substr(iValue,name.length).toLowerCase()===name.toLowerCase()){index=pair[0];iValue+=name.length;return false;}});if(index!==-1){return index+1;}else{throw"Unknown name at position "+iValue;}},checkLiteral=function(){if(value.charAt(iValue)!==format.charAt(iFormat)){throw"Unexpected literal at position "+iValue;}
                iValue++;};for(iFormat=0;iFormat<format.length;iFormat++){if(literal){if(format.charAt(iFormat)==="'"&&!lookAhead("'")){literal=false;}else{checkLiteral();}}else{switch(format.charAt(iFormat)){case"d":day=getNumber("d");break;case"D":getName("D",dayNamesShort,dayNames);break;case"o":doy=getNumber("o");break;case"m":month=getNumber("m");break;case"M":month=getName("M",monthNamesShort,monthNames);break;case"y":year=getNumber("y");break;case"@":date=new Date(getNumber("@"));year=date.getFullYear();month=date.getMonth()+1;day=date.getDate();break;case"!":date=new Date((getNumber("!")-this._ticksTo1970)/10000);year=date.getFullYear();month=date.getMonth()+1;day=date.getDate();break;case"'":if(lookAhead("'")){checkLiteral();}else{literal=true;}
                break;default:checkLiteral();}}}
            if(iValue<value.length){extra=value.substr(iValue);if(!/^\s+/.test(extra)){throw"Extra/unparsed characters found in date: "+extra;}}
            if(year===-1){year=new Date().getFullYear();}else if(year<100){year+=new Date().getFullYear()-new Date().getFullYear()%100+
                (year<=shortYearCutoff?0:-100);}
            if(doy>-1){month=1;day=doy;do{dim=this._getDaysInMonth(year,month-1);if(day<=dim){break;}
                month++;day-=dim;}while(true);}
            date=this._daylightSavingAdjust(new Date(year,month-1,day));if(date.getFullYear()!==year||date.getMonth()+1!==month||date.getDate()!==day){throw"Invalid date";}
            return date;},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:(((1970-1)*365+Math.floor(1970/4)-Math.floor(1970/100)+
            Math.floor(1970/400))*24*60*60*10000000),formatDate:function(format,date,settings){if(!date){return"";}
            var iFormat,dayNamesShort=(settings?settings.dayNamesShort:null)||this._defaults.dayNamesShort,dayNames=(settings?settings.dayNames:null)||this._defaults.dayNames,monthNamesShort=(settings?settings.monthNamesShort:null)||this._defaults.monthNamesShort,monthNames=(settings?settings.monthNames:null)||this._defaults.monthNames,lookAhead=function(match){var matches=(iFormat+1<format.length&&format.charAt(iFormat+1)===match);if(matches){iFormat++;}
                return matches;},formatNumber=function(match,value,len){var num=""+value;if(lookAhead(match)){while(num.length<len){num="0"+num;}}
                return num;},formatName=function(match,value,shortNames,longNames){return(lookAhead(match)?longNames[value]:shortNames[value]);},output="",literal=false;if(date){for(iFormat=0;iFormat<format.length;iFormat++){if(literal){if(format.charAt(iFormat)==="'"&&!lookAhead("'")){literal=false;}else{output+=format.charAt(iFormat);}}else{switch(format.charAt(iFormat)){case"d":output+=formatNumber("d",date.getDate(),2);break;case"D":output+=formatName("D",date.getDay(),dayNamesShort,dayNames);break;case"o":output+=formatNumber("o",Math.round((new Date(date.getFullYear(),date.getMonth(),date.getDate()).getTime()-new Date(date.getFullYear(),0,0).getTime())/86400000),3);break;case"m":output+=formatNumber("m",date.getMonth()+1,2);break;case"M":output+=formatName("M",date.getMonth(),monthNamesShort,monthNames);break;case"y":output+=(lookAhead("y")?date.getFullYear():(date.getFullYear()%100<10?"0":"")+date.getFullYear()%100);break;case"@":output+=date.getTime();break;case"!":output+=date.getTime()*10000+this._ticksTo1970;break;case"'":if(lookAhead("'")){output+="'";}else{literal=true;}
                break;default:output+=format.charAt(iFormat);}}}}
            return output;},_possibleChars:function(format){var iFormat,chars="",literal=false,lookAhead=function(match){var matches=(iFormat+1<format.length&&format.charAt(iFormat+1)===match);if(matches){iFormat++;}
            return matches;};for(iFormat=0;iFormat<format.length;iFormat++){if(literal){if(format.charAt(iFormat)==="'"&&!lookAhead("'")){literal=false;}else{chars+=format.charAt(iFormat);}}else{switch(format.charAt(iFormat)){case"d":case"m":case"y":case"@":chars+="0123456789";break;case"D":case"M":return null;case"'":if(lookAhead("'")){chars+="'";}else{literal=true;}
            break;default:chars+=format.charAt(iFormat);}}}
            return chars;},_get:function(inst,name){return inst.settings[name]!==undefined?inst.settings[name]:this._defaults[name];},_setDateFromField:function(inst,noDefault){if(inst.input.val()===inst.lastVal){return;}
            var dateFormat=this._get(inst,"dateFormat"),dates=inst.lastVal=inst.input?inst.input.val():null,defaultDate=this._getDefaultDate(inst),date=defaultDate,settings=this._getFormatConfig(inst);try{date=this.parseDate(dateFormat,dates,settings)||defaultDate;}catch(event){dates=(noDefault?"":dates);}
            inst.selectedDay=date.getDate();inst.drawMonth=inst.selectedMonth=date.getMonth();inst.drawYear=inst.selectedYear=date.getFullYear();inst.currentDay=(dates?date.getDate():0);inst.currentMonth=(dates?date.getMonth():0);inst.currentYear=(dates?date.getFullYear():0);this._adjustInstDate(inst);},_getDefaultDate:function(inst){return this._restrictMinMax(inst,this._determineDate(inst,this._get(inst,"defaultDate"),new Date()));},_determineDate:function(inst,date,defaultDate){var offsetNumeric=function(offset){var date=new Date();date.setDate(date.getDate()+offset);return date;},offsetString=function(offset){try{return $.datepicker.parseDate($.datepicker._get(inst,"dateFormat"),offset,$.datepicker._getFormatConfig(inst));}
        catch(e){}
            var date=(offset.toLowerCase().match(/^c/)?$.datepicker._getDate(inst):null)||new Date(),year=date.getFullYear(),month=date.getMonth(),day=date.getDate(),pattern=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,matches=pattern.exec(offset);while(matches){switch(matches[2]||"d"){case"d":case"D":day+=parseInt(matches[1],10);break;case"w":case"W":day+=parseInt(matches[1],10)*7;break;case"m":case"M":month+=parseInt(matches[1],10);day=Math.min(day,$.datepicker._getDaysInMonth(year,month));break;case"y":case"Y":year+=parseInt(matches[1],10);day=Math.min(day,$.datepicker._getDaysInMonth(year,month));break;}
                matches=pattern.exec(offset);}
            return new Date(year,month,day);},newDate=(date==null||date===""?defaultDate:(typeof date==="string"?offsetString(date):(typeof date==="number"?(isNaN(date)?defaultDate:offsetNumeric(date)):new Date(date.getTime()))));newDate=(newDate&&newDate.toString()==="Invalid Date"?defaultDate:newDate);if(newDate){newDate.setHours(0);newDate.setMinutes(0);newDate.setSeconds(0);newDate.setMilliseconds(0);}
            return this._daylightSavingAdjust(newDate);},_daylightSavingAdjust:function(date){if(!date){return null;}
            date.setHours(date.getHours()>12?date.getHours()+2:0);return date;},_setDate:function(inst,date,noChange){var clear=!date,origMonth=inst.selectedMonth,origYear=inst.selectedYear,newDate=this._restrictMinMax(inst,this._determineDate(inst,date,new Date()));inst.selectedDay=inst.currentDay=newDate.getDate();inst.drawMonth=inst.selectedMonth=inst.currentMonth=newDate.getMonth();inst.drawYear=inst.selectedYear=inst.currentYear=newDate.getFullYear();if((origMonth!==inst.selectedMonth||origYear!==inst.selectedYear)&&!noChange){this._notifyChange(inst);}
            this._adjustInstDate(inst);if(inst.input){inst.input.val(clear?"":this._formatDate(inst));}},_getDate:function(inst){var startDate=(!inst.currentYear||(inst.input&&inst.input.val()==="")?null:this._daylightSavingAdjust(new Date(inst.currentYear,inst.currentMonth,inst.currentDay)));return startDate;},_attachHandlers:function(inst){function initSelect2(){$('.ui-datepicker-year').select2({minimumResultsForSearch:Infinity,containerCssClass:"select-papa",dropdownCssClass:"select-papa__dropped"});};initSelect2();var stepMonths=this._get(inst,"stepMonths"),id="#"+inst.id.replace(/\\\\/g,"\\");inst.dpDiv.find("[data-handler]").map(function(){var handler={prev:function(){$.datepicker._adjustDate(id,-stepMonths,"M");initSelect2();},next:function(){$.datepicker._adjustDate(id,+stepMonths,"M");initSelect2();},hide:function(){$.datepicker._hideDatepicker();},today:function(){$.datepicker._gotoToday(id);},selectDay:function(){$.datepicker._selectDay(id,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this);return false;},selectMonth:function(){$.datepicker._selectMonthYear(id,this,"M");return false;},selectYear:function(){$.datepicker._selectMonthYear(id,this,"Y");initSelect2();return false;}};$(this).on(this.getAttribute("data-event"),handler[this.getAttribute("data-handler")]);});},_generateHTML:function(inst){var maxDraw,prevText,prev,nextText,next,currentText,gotoDate,controls,buttonPanel,firstDay,showWeek,dayNames,dayNamesMin,monthNames,monthNamesShort,beforeShowDay,showOtherMonths,selectOtherMonths,defaultDate,html,dow,row,group,col,selectedDate,cornerClass,calender,thead,day,daysInMonth,leadDays,curRows,numRows,printDate,dRow,tbody,daySettings,otherMonth,unselectable,tempDate=new Date(),today=this._daylightSavingAdjust(new Date(tempDate.getFullYear(),tempDate.getMonth(),tempDate.getDate())),isRTL=this._get(inst,"isRTL"),showButtonPanel=this._get(inst,"showButtonPanel"),hideIfNoPrevNext=this._get(inst,"hideIfNoPrevNext"),navigationAsDateFormat=this._get(inst,"navigationAsDateFormat"),numMonths=this._getNumberOfMonths(inst),showCurrentAtPos=this._get(inst,"showCurrentAtPos"),stepMonths=this._get(inst,"stepMonths"),isMultiMonth=(numMonths[0]!==1||numMonths[1]!==1),currentDate=this._daylightSavingAdjust((!inst.currentDay?new Date(9999,9,9):new Date(inst.currentYear,inst.currentMonth,inst.currentDay))),minDate=this._getMinMaxDate(inst,"min"),maxDate=this._getMinMaxDate(inst,"max"),drawMonth=inst.drawMonth-showCurrentAtPos,drawYear=inst.drawYear;if(drawMonth<0){drawMonth+=12;drawYear--;}
            if(maxDate){maxDraw=this._daylightSavingAdjust(new Date(maxDate.getFullYear(),maxDate.getMonth()-(numMonths[0]*numMonths[1])+1,maxDate.getDate()));maxDraw=(minDate&&maxDraw<minDate?minDate:maxDraw);while(this._daylightSavingAdjust(new Date(drawYear,drawMonth,1))>maxDraw){drawMonth--;if(drawMonth<0){drawMonth=11;drawYear--;}}}
            inst.drawMonth=drawMonth;inst.drawYear=drawYear;prevText=this._get(inst,"prevText");prevText=(!navigationAsDateFormat?prevText:this.formatDate(prevText,this._daylightSavingAdjust(new Date(drawYear,drawMonth-stepMonths,1)),this._getFormatConfig(inst)));prev=(this._canAdjustMonth(inst,-1,drawYear,drawMonth)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click'"+" title='"+prevText+"'><span class='ui-icon ui-icon-circle-triangle-"+(isRTL?"e":"w")+"'>"+prevText+"</span></a>":(hideIfNoPrevNext?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+prevText+"'><span class='ui-icon ui-icon-circle-triangle-"+(isRTL?"e":"w")+"'>"+prevText+"</span></a>"));nextText=this._get(inst,"nextText");nextText=(!navigationAsDateFormat?nextText:this.formatDate(nextText,this._daylightSavingAdjust(new Date(drawYear,drawMonth+stepMonths,1)),this._getFormatConfig(inst)));next=(this._canAdjustMonth(inst,+1,drawYear,drawMonth)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click'"+" title='"+nextText+"'><span class='ui-icon ui-icon-circle-triangle-"+(isRTL?"w":"e")+"'>"+nextText+"</span></a>":(hideIfNoPrevNext?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+nextText+"'><span class='ui-icon ui-icon-circle-triangle-"+(isRTL?"w":"e")+"'>"+nextText+"</span></a>"));currentText=this._get(inst,"currentText");gotoDate=(this._get(inst,"gotoCurrent")&&inst.currentDay?currentDate:today);currentText=(!navigationAsDateFormat?currentText:this.formatDate(currentText,gotoDate,this._getFormatConfig(inst)));controls=(!inst.inline?"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+
                this._get(inst,"closeText")+"</button>":"");buttonPanel=(showButtonPanel)?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(isRTL?controls:"")+
                (this._isInRange(inst,gotoDate)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'"+">"+currentText+"</button>":"")+(isRTL?"":controls)+"</div>":"";firstDay=parseInt(this._get(inst,"firstDay"),10);firstDay=(isNaN(firstDay)?0:firstDay);showWeek=this._get(inst,"showWeek");dayNames=this._get(inst,"dayNames");dayNamesMin=this._get(inst,"dayNamesMin");monthNames=this._get(inst,"monthNames");monthNamesShort=this._get(inst,"monthNamesShort");beforeShowDay=this._get(inst,"beforeShowDay");showOtherMonths=this._get(inst,"showOtherMonths");selectOtherMonths=this._get(inst,"selectOtherMonths");defaultDate=this._getDefaultDate(inst);html="";for(row=0;row<numMonths[0];row++){group="";this.maxRows=4;for(col=0;col<numMonths[1];col++){selectedDate=this._daylightSavingAdjust(new Date(drawYear,drawMonth,inst.selectedDay));cornerClass=" ui-corner-all";calender="";if(isMultiMonth){calender+="<div class='ui-datepicker-group";if(numMonths[1]>1){switch(col){case 0:calender+=" ui-datepicker-group-first";cornerClass=" ui-corner-"+(isRTL?"right":"left");break;case numMonths[1]-1:calender+=" ui-datepicker-group-last";cornerClass=" ui-corner-"+(isRTL?"left":"right");break;default:calender+=" ui-datepicker-group-middle";cornerClass="";break;}}
                calender+="'>";}
                calender+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+cornerClass+"'>"+
                    (/all|left/.test(cornerClass)&&row===0?(isRTL?next:prev):"")+
                    (/all|right/.test(cornerClass)&&row===0?(isRTL?prev:next):"")+
                    this._generateMonthYearHeader(inst,drawMonth,drawYear,minDate,maxDate,row>0||col>0,monthNames,monthNamesShort)+"</div><table class='ui-datepicker-calendar'><thead>"+"<tr>";thead=(showWeek?"<th class='ui-datepicker-week-col'>"+this._get(inst,"weekHeader")+"</th>":"");for(dow=0;dow<7;dow++){day=(dow+firstDay)%7;thead+="<th scope='col'"+((dow+firstDay+6)%7>=5?" class='ui-datepicker-week-end'":"")+">"+"<span title='"+dayNames[day]+"'>"+dayNamesMin[day]+"</span></th>";}
                calender+=thead+"</tr></thead><tbody>";daysInMonth=this._getDaysInMonth(drawYear,drawMonth);if(drawYear===inst.selectedYear&&drawMonth===inst.selectedMonth){inst.selectedDay=Math.min(inst.selectedDay,daysInMonth);}
                leadDays=(this._getFirstDayOfMonth(drawYear,drawMonth)-firstDay+7)%7;curRows=Math.ceil((leadDays+daysInMonth)/7);numRows=(isMultiMonth?this.maxRows>curRows?this.maxRows:curRows:curRows);this.maxRows=numRows;printDate=this._daylightSavingAdjust(new Date(drawYear,drawMonth,1-leadDays));for(dRow=0;dRow<numRows;dRow++){calender+="<tr>";tbody=(!showWeek?"":"<td class='ui-datepicker-week-col'>"+
                    this._get(inst,"calculateWeek")(printDate)+"</td>");for(dow=0;dow<7;dow++){daySettings=(beforeShowDay?beforeShowDay.apply((inst.input?inst.input[0]:null),[printDate]):[true,""]);otherMonth=(printDate.getMonth()!==drawMonth);unselectable=(otherMonth&&!selectOtherMonths)||!daySettings[0]||(minDate&&printDate<minDate)||(maxDate&&printDate>maxDate);tbody+="<td class='"+
                    ((dow+firstDay+6)%7>=5?" ui-datepicker-week-end":"")+
                    (otherMonth?" ui-datepicker-other-month":"")+
                    ((printDate.getTime()===selectedDate.getTime()&&drawMonth===inst.selectedMonth&&inst._keyEvent)||(defaultDate.getTime()===printDate.getTime()&&defaultDate.getTime()===selectedDate.getTime())?" "+this._dayOverClass:"")+
                    (unselectable?" "+this._unselectableClass+" ui-state-disabled":"")+
                    (otherMonth&&!showOtherMonths?"":" "+daySettings[1]+
                        (printDate.getTime()===currentDate.getTime()?" "+this._currentClass:"")+
                        (printDate.getTime()===today.getTime()?" ui-datepicker-today":""))+"'"+
                    ((!otherMonth||showOtherMonths)&&daySettings[2]?" title='"+daySettings[2].replace(/'/g,"&#39;")+"'":"")+
                    (unselectable?"":" data-handler='selectDay' data-event='click' data-month='"+printDate.getMonth()+"' data-year='"+printDate.getFullYear()+"'")+">"+
                    (otherMonth&&!showOtherMonths?"&#xa0;":(unselectable?"<span class='ui-state-default'>"+printDate.getDate()+"</span>":"<a class='ui-state-default"+
                        (printDate.getTime()===today.getTime()?" ui-state-highlight":"")+
                        (printDate.getTime()===currentDate.getTime()?" ui-state-active":"")+
                        (otherMonth?" ui-priority-secondary":"")+"' href='#'>"+printDate.getDate()+"</a>"))+"</td>";printDate.setDate(printDate.getDate()+1);printDate=this._daylightSavingAdjust(printDate);}
                    calender+=tbody+"</tr>";}
                drawMonth++;if(drawMonth>11){drawMonth=0;drawYear++;}
                calender+="</tbody></table>"+(isMultiMonth?"</div>"+
                    ((numMonths[0]>0&&col===numMonths[1]-1)?"<div class='ui-datepicker-row-break'></div>":""):"");group+=calender;}
                html+=group;}
            html+=buttonPanel;inst._keyEvent=false;return html;},_generateMonthYearHeader:function(inst,drawMonth,drawYear,minDate,maxDate,secondary,monthNames,monthNamesShort){var inMinYear,inMaxYear,month,years,thisYear,determineYear,year,endYear,changeMonth=this._get(inst,"changeMonth"),changeYear=this._get(inst,"changeYear"),showMonthAfterYear=this._get(inst,"showMonthAfterYear"),html="<div class='ui-datepicker-title'>",monthHtml="";if(secondary||!changeMonth){monthHtml+="<span class='ui-datepicker-month'>"+monthNames[drawMonth]+"</span>";}else{inMinYear=(minDate&&minDate.getFullYear()===drawYear);inMaxYear=(maxDate&&maxDate.getFullYear()===drawYear);monthHtml+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>";for(month=0;month<12;month++){if((!inMinYear||month>=minDate.getMonth())&&(!inMaxYear||month<=maxDate.getMonth())){monthHtml+="<option value='"+month+"'"+
            (month===drawMonth?" selected='selected'":"")+">"+monthNamesShort[month]+"</option>";}}
            monthHtml+="</select>";}
            if(!showMonthAfterYear){html+=monthHtml+(secondary||!(changeMonth&&changeYear)?"&#xa0;":"");}
            if(!inst.yearshtml){inst.yearshtml="";if(secondary||!changeYear){html+="<span class='ui-datepicker-year'>"+drawYear+"</span>";}else{years=this._get(inst,"yearRange").split(":");thisYear=new Date().getFullYear();determineYear=function(value){var year=(value.match(/c[+\-].*/)?drawYear+parseInt(value.substring(1),10):(value.match(/[+\-].*/)?thisYear+parseInt(value,10):parseInt(value,10)));return(isNaN(year)?thisYear:year);};year=determineYear(years[0]);endYear=Math.max(year,determineYear(years[1]||""));year=(minDate?Math.max(year,minDate.getFullYear()):year);endYear=(maxDate?Math.min(endYear,maxDate.getFullYear()):endYear);inst.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";for(;year<=endYear;year++){inst.yearshtml+="<option value='"+year+"'"+
                (year===drawYear?" selected='selected'":"")+">"+year+"</option>";}
                inst.yearshtml+="</select>";html+=inst.yearshtml;inst.yearshtml=null;}}
            html+=this._get(inst,"yearSuffix");if(showMonthAfterYear){html+=(secondary||!(changeMonth&&changeYear)?"&#xa0;":"")+monthHtml;}
            html+="</div>";return html;},_adjustInstDate:function(inst,offset,period){var year=inst.selectedYear+(period==="Y"?offset:0),month=inst.selectedMonth+(period==="M"?offset:0),day=Math.min(inst.selectedDay,this._getDaysInMonth(year,month))+(period==="D"?offset:0),date=this._restrictMinMax(inst,this._daylightSavingAdjust(new Date(year,month,day)));inst.selectedDay=date.getDate();inst.drawMonth=inst.selectedMonth=date.getMonth();inst.drawYear=inst.selectedYear=date.getFullYear();if(period==="M"||period==="Y"){this._notifyChange(inst);}},_restrictMinMax:function(inst,date){var minDate=this._getMinMaxDate(inst,"min"),maxDate=this._getMinMaxDate(inst,"max"),newDate=(minDate&&date<minDate?minDate:date);return(maxDate&&newDate>maxDate?maxDate:newDate);},_notifyChange:function(inst){var onChange=this._get(inst,"onChangeMonthYear");if(onChange){onChange.apply((inst.input?inst.input[0]:null),[inst.selectedYear,inst.selectedMonth+1,inst]);}},_getNumberOfMonths:function(inst){var numMonths=this._get(inst,"numberOfMonths");return(numMonths==null?[1,1]:(typeof numMonths==="number"?[1,numMonths]:numMonths));},_getMinMaxDate:function(inst,minMax){return this._determineDate(inst,this._get(inst,minMax+"Date"),null);},_getDaysInMonth:function(year,month){return 32-this._daylightSavingAdjust(new Date(year,month,32)).getDate();},_getFirstDayOfMonth:function(year,month){return new Date(year,month,1).getDay();},_canAdjustMonth:function(inst,offset,curYear,curMonth){var numMonths=this._getNumberOfMonths(inst),date=this._daylightSavingAdjust(new Date(curYear,curMonth+(offset<0?offset:numMonths[0]*numMonths[1]),1));if(offset<0){date.setDate(this._getDaysInMonth(date.getFullYear(),date.getMonth()));}
            return this._isInRange(inst,date);},_isInRange:function(inst,date){var yearSplit,currentYear,minDate=this._getMinMaxDate(inst,"min"),maxDate=this._getMinMaxDate(inst,"max"),minYear=null,maxYear=null,years=this._get(inst,"yearRange");if(years){yearSplit=years.split(":");currentYear=new Date().getFullYear();minYear=parseInt(yearSplit[0],10);maxYear=parseInt(yearSplit[1],10);if(yearSplit[0].match(/[+\-].*/)){minYear+=currentYear;}
            if(yearSplit[1].match(/[+\-].*/)){maxYear+=currentYear;}}
            return((!minDate||date.getTime()>=minDate.getTime())&&(!maxDate||date.getTime()<=maxDate.getTime())&&(!minYear||date.getFullYear()>=minYear)&&(!maxYear||date.getFullYear()<=maxYear));},_getFormatConfig:function(inst){var shortYearCutoff=this._get(inst,"shortYearCutoff");shortYearCutoff=(typeof shortYearCutoff!=="string"?shortYearCutoff:new Date().getFullYear()%100+parseInt(shortYearCutoff,10));return{shortYearCutoff:shortYearCutoff,dayNamesShort:this._get(inst,"dayNamesShort"),dayNames:this._get(inst,"dayNames"),monthNamesShort:this._get(inst,"monthNamesShort"),monthNames:this._get(inst,"monthNames")};},_formatDate:function(inst,day,month,year){if(!day){inst.currentDay=inst.selectedDay;inst.currentMonth=inst.selectedMonth;inst.currentYear=inst.selectedYear;}
            var date=(day?(typeof day==="object"?day:this._daylightSavingAdjust(new Date(year,month,day))):this._daylightSavingAdjust(new Date(inst.currentYear,inst.currentMonth,inst.currentDay)));return this.formatDate(this._get(inst,"dateFormat"),date,this._getFormatConfig(inst));}});function datepicker_bindHover(dpDiv){var selector="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return dpDiv.on("mouseout",selector,function(){$(this).removeClass("ui-state-hover");if(this.className.indexOf("ui-datepicker-prev")!==-1){$(this).removeClass("ui-datepicker-prev-hover");}
        if(this.className.indexOf("ui-datepicker-next")!==-1){$(this).removeClass("ui-datepicker-next-hover");}}).on("mouseover",selector,datepicker_handleMouseover);}
    function datepicker_handleMouseover(){if(!$.datepicker._isDisabledDatepicker(datepicker_instActive.inline?datepicker_instActive.dpDiv.parent()[0]:datepicker_instActive.input[0])){$(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover");$(this).addClass("ui-state-hover");if(this.className.indexOf("ui-datepicker-prev")!==-1){$(this).addClass("ui-datepicker-prev-hover");}
        if(this.className.indexOf("ui-datepicker-next")!==-1){$(this).addClass("ui-datepicker-next-hover");}}}
    function datepicker_extendRemove(target,props){$.extend(target,props);for(var name in props){if(props[name]==null){target[name]=props[name];}}
        return target;}
    $.fn.datepicker=function(options){if(!this.length){return this;}
        if(!$.datepicker.initialized){$(document).on("mousedown",$.datepicker._checkExternalClick);$.datepicker.initialized=true;}
        if($("#"+$.datepicker._mainDivId).length===0){$("body").append($.datepicker.dpDiv);}
        var otherArgs=Array.prototype.slice.call(arguments,1);if(typeof options==="string"&&(options==="isDisabled"||options==="getDate"||options==="widget")){return $.datepicker["_"+options+"Datepicker"].apply($.datepicker,[this[0]].concat(otherArgs));}
        if(options==="option"&&arguments.length===2&&typeof arguments[1]==="string"){return $.datepicker["_"+options+"Datepicker"].apply($.datepicker,[this[0]].concat(otherArgs));}
        return this.each(function(){typeof options==="string"?$.datepicker["_"+options+"Datepicker"].apply($.datepicker,[this].concat(otherArgs)):$.datepicker._attachDatepicker(this,options);});};$.datepicker=new Datepicker();$.datepicker.initialized=false;$.datepicker.uuid=new Date().getTime();$.datepicker.version="1.12.1";var widgetsDatepicker=$.datepicker;}));!function(a){function b(d,e,f){return this instanceof b?(this.el=void 0,this.events={},this.maskset=void 0,this.refreshValue=!1,void(f!==!0&&(a.isPlainObject(d)?e=d:(e=e||{},e.alias=d),this.opts=a.extend(!0,{},this.defaults,e),this.noMasksCache=e&&void 0!==e.definitions,this.userOptions=e||{},this.isRTL=this.opts.numericInput,c(this.opts.alias,e,this.opts)))):new b(d,e,f)}function c(d,e,f){var g=b.prototype.aliases[d];return g?(g.alias&&c(g.alias,void 0,f),a.extend(!0,f,g),a.extend(!0,f,e),!0):(null===f.mask&&(f.mask=d),!1)}function d(c,d){function e(c,e,f){if(null!==c&&""!==c){if(1===c.length&&f.greedy===!1&&0!==f.repeat&&(f.placeholder=""),f.repeat>0||"*"===f.repeat||"+"===f.repeat){var g="*"===f.repeat?0:"+"===f.repeat?1:f.repeat;c=f.groupmarker.start+c+f.groupmarker.end+f.quantifiermarker.start+g+","+f.repeat+f.quantifiermarker.end}var h;return void 0===b.prototype.masksCache[c]||d===!0?(h={mask:c,maskToken:b.prototype.analyseMask(c,f),validPositions:{},_buffer:void 0,buffer:void 0,tests:{},metadata:e,maskLength:void 0},d!==!0&&(b.prototype.masksCache[f.numericInput?c.split("").reverse().join(""):c]=h,h=a.extend(!0,{},b.prototype.masksCache[f.numericInput?c.split("").reverse().join(""):c]))):h=a.extend(!0,{},b.prototype.masksCache[f.numericInput?c.split("").reverse().join(""):c]),h}}var f;if(a.isFunction(c.mask)&&(c.mask=c.mask(c)),a.isArray(c.mask)){if(c.mask.length>1){c.keepStatic=null===c.keepStatic||c.keepStatic;var g=c.groupmarker.start;return a.each(c.numericInput?c.mask.reverse():c.mask,function(b,d){g.length>1&&(g+=c.groupmarker.end+c.alternatormarker+c.groupmarker.start),g+=void 0===d.mask||a.isFunction(d.mask)?d:d.mask}),g+=c.groupmarker.end,e(g,c.mask,c)}c.mask=c.mask.pop()}return c.mask&&(f=void 0===c.mask.mask||a.isFunction(c.mask.mask)?e(c.mask,c.mask,c):e(c.mask.mask,c.mask,c)),f}function e(c,d,f){function k(a,b,c){b=b||0;var d,e,g,h=[],i=0,j=n();S=void 0!==V?V.maxLength:void 0,S===-1&&(S=void 0);do a===!0&&l().validPositions[i]?(g=l().validPositions[i],e=g.match,d=g.locator.slice(),h.push(c===!0?g.input:c===!1?e.nativeDef:F(i,e))):(g=q(i,d,i-1),e=g.match,d=g.locator.slice(),(f.jitMasking===!1||i<j||"number"==typeof f.jitMasking&&isFinite(f.jitMasking)&&f.jitMasking>i)&&h.push(c===!1?e.nativeDef:F(i,e))),i++;while((void 0===S||i<S)&&(null!==e.fn||""!==e.def)||b>i);return""===h[h.length-1]&&h.pop(),l().maskLength=i+1,h}function l(){return d}function m(a){var b=l();b.buffer=void 0,a!==!0&&(b._buffer=void 0,b.validPositions={},b.p=0)}function n(a,b,c){var d=-1,e=-1,f=c||l().validPositions;void 0===a&&(a=-1);for(var g in f){var h=parseInt(g);f[h]&&(b||f[h].generatedInput!==!0)&&(h<=a&&(d=h),h>=a&&(e=h))}return d!==-1&&a-d>1||e<a?d:e}function o(b,c,d,e){function g(a){var b=l().validPositions[a];if(void 0!==b&&null===b.match.fn){var c=l().validPositions[a-1],d=l().validPositions[a+1];return void 0!==c&&void 0!==d}return!1}var h,i=b,j=a.extend(!0,{},l().validPositions),k=!1;for(l().p=b,h=c-1;h>=i;h--)void 0!==l().validPositions[h]&&(d!==!0&&(!l().validPositions[h].match.optionality&&g(h)||f.canClearPosition(l(),h,n(),e,f)===!1)||delete l().validPositions[h]);for(m(!0),h=i+1;h<=n();){for(;void 0!==l().validPositions[i];)i++;if(h<i&&(h=i+1),void 0===l().validPositions[h]&&A(h))h++;else{var o=q(h);k===!1&&j[i]&&j[i].match.def===o.match.def?(l().validPositions[i]=a.extend(!0,{},j[i]),l().validPositions[i].input=o.input,delete l().validPositions[h],h++):s(i,o.match.def)?z(i,o.input||F(h),!0)!==!1&&(delete l().validPositions[h],h++,k=!0):A(h)||(h++,i--),i++}}m(!0)}function p(a,b){for(var c,d=a,e=n(),g=l().validPositions[e]||t(0)[0],h=void 0!==g.alternation?g.locator[g.alternation].toString().split(","):[],i=0;i<d.length&&(c=d[i],!(c.match&&(f.greedy&&c.match.optionalQuantifier!==!0||(c.match.optionality===!1||c.match.newBlockMarker===!1)&&c.match.optionalQuantifier!==!0)&&(void 0===g.alternation||g.alternation!==c.alternation||void 0!==c.locator[g.alternation]&&y(c.locator[g.alternation].toString().split(","),h)))||b===!0&&(null!==c.match.fn||/[0-9a-bA-Z]/.test(c.match.def)));i++);return c}function q(a,b,c){return l().validPositions[a]||p(t(a,b?b.slice():b,c))}function r(a){return l().validPositions[a]?l().validPositions[a]:t(a)[0]}function s(a,b){for(var c=!1,d=t(a),e=0;e<d.length;e++)if(d[e].match&&d[e].match.def===b){c=!0;break}return c}function t(b,c,d){function e(c,d,g,h){function j(g,h,m){function p(b,c){var d=0===a.inArray(b,c.matches);return d||a.each(c.matches,function(a,e){if(e.isQuantifier===!0&&(d=p(b,c.matches[a-1])))return!1}),d}function r(b,c,d){var e,f;return(l().tests[b]||l().validPositions[b])&&a.each(l().tests[b]||[l().validPositions[b]],function(a,b){var g=void 0!==d?d:b.alternation,h=void 0!==b.locator[g]?b.locator[g].toString().indexOf(c):-1;(void 0===f||h<f)&&h!==-1&&(e=b,f=h)}),e?e.locator.slice((void 0!==d?d:e.alternation)+1):void 0!==d?r(b,c):void 0}function s(a,c){return null===a.match.fn&&null!==c.match.fn&&c.match.fn.test(a.match.def,l(),b,!1,f,!1)}if(k>1e4)throw"Inputmask: There is probably an error in your mask definition or in the code. Create an issue on github with an example of the mask you are using. "+l().mask;if(k===b&&void 0===g.matches)return n.push({match:g,locator:h.reverse(),cd:q}),!0;if(void 0!==g.matches){if(g.isGroup&&m!==g){if(g=j(c.matches[a.inArray(g,c.matches)+1],h))return!0}else if(g.isOptional){var t=g;if(g=e(g,d,h,m)){if(i=n[n.length-1].match,!p(i,t))return!0;o=!0,k=b}}else if(g.isAlternator){var u,v=g,w=[],x=n.slice(),y=h.length,z=d.length>0?d.shift():-1;if(z===-1||"string"==typeof z){var A,B=k,C=d.slice(),D=[];if("string"==typeof z)D=z.split(",");else for(A=0;A<v.matches.length;A++)D.push(A);for(var E=0;E<D.length;E++){if(A=parseInt(D[E]),n=[],d=r(k,A,y)||C.slice(),g=j(v.matches[A]||c.matches[A],[A].concat(h),m)||g,g!==!0&&void 0!==g&&D[D.length-1]<v.matches.length){var F=a.inArray(g,c.matches)+1;c.matches.length>F&&(g=j(c.matches[F],[F].concat(h.slice(1,h.length)),m),g&&(D.push(F.toString()),a.each(n,function(a,b){b.alternation=h.length-1})))}u=n.slice(),k=B,n=[];for(var G=0;G<u.length;G++){var H=u[G],I=!1;H.alternation=H.alternation||y;for(var J=0;J<w.length;J++){var K=w[J];if(("string"!=typeof z||a.inArray(H.locator[H.alternation].toString(),D)!==-1)&&(H.match.def===K.match.def||s(H,K))){I=H.match.nativeDef===K.match.nativeDef,H.alternation==K.alternation&&K.locator[K.alternation].toString().indexOf(H.locator[H.alternation])===-1&&(K.locator[K.alternation]=K.locator[K.alternation]+","+H.locator[H.alternation],K.alternation=H.alternation,null==H.match.fn&&(K.na=K.na||H.locator[H.alternation].toString(),K.na.indexOf(H.locator[H.alternation])===-1&&(K.na=K.na+","+H.locator[H.alternation])));break}}I||w.push(H)}}"string"==typeof z&&(w=a.map(w,function(b,c){if(isFinite(c)){var d,e=b.alternation,f=b.locator[e].toString().split(",");b.locator[e]=void 0,b.alternation=void 0;for(var g=0;g<f.length;g++)d=a.inArray(f[g],D)!==-1,d&&(void 0!==b.locator[e]?(b.locator[e]+=",",b.locator[e]+=f[g]):b.locator[e]=parseInt(f[g]),b.alternation=e);if(void 0!==b.locator[e])return b}})),n=x.concat(w),k=b,o=n.length>0,d=C.slice()}else g=j(v.matches[z]||c.matches[z],[z].concat(h),m);if(g)return!0}else if(g.isQuantifier&&m!==c.matches[a.inArray(g,c.matches)-1])for(var L=g,M=d.length>0?d.shift():0;M<(isNaN(L.quantifier.max)?M+1:L.quantifier.max)&&k<=b;M++){var N=c.matches[a.inArray(L,c.matches)-1];if(g=j(N,[M].concat(h),N)){if(i=n[n.length-1].match,i.optionalQuantifier=M>L.quantifier.min-1,p(i,N)){if(M>L.quantifier.min-1){o=!0,k=b;break}return!0}return!0}}else if(g=e(g,d,h,m))return!0}else k++}for(var m=d.length>0?d.shift():0;m<c.matches.length;m++)if(c.matches[m].isQuantifier!==!0){var p=j(c.matches[m],[m].concat(g),h);if(p&&k===b)return p;if(k>b)break}}function g(b){var c=[];return a.isArray(b)||(b=[b]),b.length>0&&(void 0===b[0].alternation?(c=p(b.slice()).locator.slice(),0===c.length&&(c=b[0].locator.slice())):a.each(b,function(a,b){if(""!==b.def)if(0===c.length)c=b.locator.slice();else for(var d=0;d<c.length;d++)b.locator[d]&&c[d].toString().indexOf(b.locator[d])===-1&&(c[d]+=","+b.locator[d])})),c}function h(a){return f.keepStatic&&b>0&&a.length>1+(""===a[a.length-1].match.def?1:0)&&a[0].match.optionality!==!0&&a[0].match.optionalQuantifier!==!0&&null===a[0].match.fn&&!/[0-9a-bA-Z]/.test(a[0].match.def)?[p(a)]:a}var i,j=l().maskToken,k=c?d:0,m=c?c.slice():[0],n=[],o=!1,q=c?c.join(""):"";if(b>-1){if(void 0===c){for(var r,s=b-1;void 0===(r=l().validPositions[s]||l().tests[s])&&s>-1;)s--;void 0!==r&&s>-1&&(m=g(r),q=m.join(""),k=s)}if(l().tests[b]&&l().tests[b][0].cd===q)return h(l().tests[b]);for(var t=m.shift();t<j.length;t++){var u=e(j[t],m,[t]);if(u&&k===b||k>b)break}}return(0===n.length||o)&&n.push({match:{fn:null,cardinality:0,optionality:!0,casing:null,def:"",placeholder:""},locator:[],cd:q}),void 0!==c&&l().tests[b]?h(a.extend(!0,[],n)):(l().tests[b]=a.extend(!0,[],n),h(l().tests[b]))}function u(){return void 0===l()._buffer&&(l()._buffer=k(!1,1),void 0===l().buffer&&l()._buffer.slice()),l()._buffer}function v(a){return void 0!==l().buffer&&a!==!0||(l().buffer=k(!0,n(),!0)),l().buffer}function w(a,b,c){var d;if(a===!0)m(),a=0,b=c.length;else for(d=a;d<b;d++)delete l().validPositions[d];for(d=a;d<b;d++)m(!0),c[d]!==f.skipOptionalPartCharacter&&z(d,c[d],!0,!0)}function x(a,c,d){switch(f.casing||c.casing){case"upper":a=a.toUpperCase();break;case"lower":a=a.toLowerCase();break;case"title":var e=l().validPositions[d-1];a=0===d||e&&e.input===String.fromCharCode(b.keyCode.SPACE)?a.toUpperCase():a.toLowerCase()}return a}function y(b,c,d){for(var e,g=f.greedy?c:c.slice(0,1),h=!1,i=void 0!==d?d.split(","):[],j=0;j<i.length;j++)(e=b.indexOf(i[j]))!==-1&&b.splice(e,1);for(var k=0;k<b.length;k++)if(a.inArray(b[k],g)!==-1){h=!0;break}return h}function z(c,d,e,g,h){function i(a){var b=W?a.begin-a.end>1||a.begin-a.end===1&&f.insertMode:a.end-a.begin>1||a.end-a.begin===1&&f.insertMode;return b&&0===a.begin&&a.end===l().maskLength?"full":b}function j(b,d,e){var h=!1;return a.each(t(b),function(j,k){for(var p=k.match,q=d?1:0,r="",s=p.cardinality;s>q;s--)r+=D(b-(s-1));if(d&&(r+=d),v(!0),h=null!=p.fn?p.fn.test(r,l(),b,e,f,i(c)):(d===p.def||d===f.skipOptionalPartCharacter)&&""!==p.def&&{c:F(b,p,!0)||p.def,pos:b},h!==!1){var t=void 0!==h.c?h.c:d;t=t===f.skipOptionalPartCharacter&&null===p.fn?F(b,p,!0)||p.def:t;var y=b,A=v();if(void 0!==h.remove&&(a.isArray(h.remove)||(h.remove=[h.remove]),a.each(h.remove.sort(function(a,b){return b-a}),function(a,b){o(b,b+1,!0)})),void 0!==h.insert&&(a.isArray(h.insert)||(h.insert=[h.insert]),a.each(h.insert.sort(function(a,b){return a-b}),function(a,b){z(b.pos,b.c,!0,g)})),h.refreshFromBuffer){var B=h.refreshFromBuffer;if(e=!0,w(B===!0?B:B.start,B.end,A),void 0===h.pos&&void 0===h.c)return h.pos=n(),!1;if(y=void 0!==h.pos?h.pos:b,y!==b)return h=a.extend(h,z(y,t,!0,g)),!1}else if(h!==!0&&void 0!==h.pos&&h.pos!==b&&(y=h.pos,w(b,y,v().slice()),y!==b))return h=a.extend(h,z(y,t,!0)),!1;return(h===!0||void 0!==h.pos||void 0!==h.c)&&(j>0&&m(!0),u(y,a.extend({},k,{input:x(t,p,y)}),g,i(c))||(h=!1),!1)}}),h}function k(b,c,d){var e,h,i,j,k,o,p,q,r=a.extend(!0,{},l().validPositions),s=!1,u=n();for(j=l().validPositions[u];u>=0;u--)if(i=l().validPositions[u],i&&void 0!==i.alternation){if(e=u,h=l().validPositions[e].alternation,j.locator[i.alternation]!==i.locator[i.alternation])break;j=i}if(void 0!==h){q=parseInt(e);var v=void 0!==j.locator[j.alternation||h]?j.locator[j.alternation||h]:p[0];v.length>0&&(v=v.split(",")[0]);var w=l().validPositions[q],x=l().validPositions[q-1];a.each(t(q,x?x.locator:void 0,q-1),function(e,i){p=i.locator[h]?i.locator[h].toString().split(","):[];for(var j=0;j<p.length;j++){var t=[],u=0,x=0,y=!1;if(v<p[j]&&(void 0===i.na||a.inArray(p[j],i.na.split(","))===-1)){l().validPositions[q]=a.extend(!0,{},i);var A=l().validPositions[q].locator;for(l().validPositions[q].locator[h]=parseInt(p[j]),null==i.match.fn?(w.input!==i.match.def&&(y=!0,w.generatedInput!==!0&&t.push(w.input)),x++,l().validPositions[q].generatedInput=!/[0-9a-bA-Z]/.test(i.match.def),l().validPositions[q].input=i.match.def):l().validPositions[q].input=w.input,k=q+1;k<n(void 0,!0)+1;k++)o=l().validPositions[k],o&&o.generatedInput!==!0&&/[0-9a-bA-Z]/.test(o.input)?t.push(o.input):k<b&&u++,delete l().validPositions[k];for(y&&t[0]===i.match.def&&t.shift(),m(!0),s=!0;t.length>0;){var B=t.shift();if(B!==f.skipOptionalPartCharacter&&!(s=z(n(void 0,!0)+1,B,!1,g,!0)))break}if(s){l().validPositions[q].locator=A;var C=n(b)+1;for(k=q+1;k<n()+1;k++)o=l().validPositions[k],(void 0===o||null==o.match.fn)&&k<b+(x-u)&&x++;b+=x-u,s=z(b>C?C:b,c,d,g,!0)}if(s)return!1;m(),l().validPositions=a.extend(!0,{},r)}}})}return s}function r(b,c){var d=l().validPositions[c];if(d)for(var e=d.locator,f=e.length,g=b;g<c;g++)if(void 0===l().validPositions[g]&&!A(g,!0)){var h=t(g).slice(),i=p(h,!0),k=-1;""===h[h.length-1].match.def&&h.pop(),a.each(h,function(a,b){for(var c=0;c<f;c++){if(void 0===b.locator[c]||!y(b.locator[c].toString().split(","),e[c].toString().split(","),b.na)){var d=e[c],g=i.locator[c],h=b.locator[c];d-g>Math.abs(d-h)&&(i=b);break}k<c&&(k=c,i=b)}}),i=a.extend({},i,{input:F(g,i.match,!0)||i.match.def}),i.generatedInput=!0,u(g,i,!0),l().validPositions[c]=void 0,j(c,d.input,!0)}}function u(b,c,d,e){if(e||f.insertMode&&void 0!==l().validPositions[b]&&void 0===d){var g,h=a.extend(!0,{},l().validPositions),i=n(void 0,!0);for(g=b;g<=i;g++)delete l().validPositions[g];l().validPositions[b]=a.extend(!0,{},c);var j,k=!0,o=l().validPositions,p=!1,q=l().maskLength;for(g=j=b;g<=i;g++){var r=h[g];if(void 0!==r)for(var t=j;t<l().maskLength&&(null===r.match.fn&&o[g]&&(o[g].match.optionalQuantifier===!0||o[g].match.optionality===!0)||null!=r.match.fn);){if(t++,p===!1&&h[t]&&h[t].match.def===r.match.def)l().validPositions[t]=a.extend(!0,{},h[t]),l().validPositions[t].input=r.input,C(t),j=t,k=!0;else if(s(t,r.match.def)){var u=z(t,r.input,!0,!0);k=u!==!1,j=u.caret||u.insert?n():t,p=!0}else if(k=r.generatedInput===!0,!k&&t>=l().maskLength-1)break;if(l().maskLength<q&&(l().maskLength=q),k)break}if(!k)break}if(!k)return l().validPositions=a.extend(!0,{},h),m(!0),!1}else l().validPositions[b]=a.extend(!0,{},c);return m(!0),!0}function C(b){for(var c=b-1;c>-1&&!l().validPositions[c];c--);var d,e;for(c++;c<b;c++)void 0===l().validPositions[c]&&(f.jitMasking===!1||f.jitMasking>c)&&(e=t(c,q(c-1).locator,c-1).slice(),""===e[e.length-1].match.def&&e.pop(),d=p(e),d&&(d.match.def===f.radixPointDefinitionSymbol||!A(c,!0)||a.inArray(f.radixPoint,v())<c&&d.match.fn&&d.match.fn.test(F(c),l(),c,!1,f))&&(G=j(c,F(c,d.match,!0)||(null==d.match.fn?d.match.def:""!==F(c)?F(c):v()[c]),!0),G!==!1&&(l().validPositions[G.pos||c].generatedInput=!0)))}e=e===!0;var E=c;void 0!==c.begin&&(E=W&&!i(c)?c.end:c.begin);var G=!1,H=a.extend(!0,{},l().validPositions);if(C(E),i(c)&&(M(void 0,b.keyCode.DELETE,c),E=l().p),E<l().maskLength&&(G=j(E,d,e),(!e||g===!0)&&G===!1)){var I=l().validPositions[E];if(!I||null!==I.match.fn||I.match.def!==d&&d!==f.skipOptionalPartCharacter){if((f.insertMode||void 0===l().validPositions[B(E)])&&!A(E,!0))for(var J=E+1,K=B(E);J<=K;J++)if(G=j(J,d,e),G!==!1){r(E,void 0!==G.pos?G.pos:J),E=J;break}}else G={caret:B(E)}}return G===!1&&f.keepStatic&&!e&&h!==!0&&(G=k(E,d,e)),G===!0&&(G={pos:E}),a.isFunction(f.postValidation)&&G!==!1&&!e&&g!==!0&&(G=!!f.postValidation(v(!0),G,f)&&G),void 0===G.pos&&(G.pos=E),G===!1&&(m(!0),l().validPositions=a.extend(!0,{},H)),G}function A(a,b){var c;if(b?(c=q(a).match,""===c.def&&(c=r(a).match)):c=r(a).match,null!=c.fn)return c.fn;if(b!==!0&&a>-1){var d=t(a);return d.length>1+(""===d[d.length-1].match.def?1:0)}return!1}function B(a,b){var c=l().maskLength;if(a>=c)return c;for(var d=a;++d<c&&(b===!0&&(r(d).match.newBlockMarker!==!0||!A(d))||b!==!0&&!A(d)););return d}function C(a,b){var c,d=a;if(d<=0)return 0;for(;--d>0&&(b===!0&&r(d).match.newBlockMarker!==!0||b!==!0&&!A(d)&&(c=t(d),c.length<2||2===c.length&&""===c[1].match.def)););return d}function D(a){return void 0===l().validPositions[a]?F(a):l().validPositions[a].input}function E(b,c,d,e,g){if(e&&a.isFunction(f.onBeforeWrite)){var h=f.onBeforeWrite(e,c,d,f);if(h){if(h.refreshFromBuffer){var i=h.refreshFromBuffer;w(i===!0?i:i.start,i.end,h.buffer||c),c=v(!0)}void 0!==d&&(d=void 0!==h.caret?h.caret:d)}}b.inputmask._valueSet(c.join("")),void 0===d||void 0!==e&&"blur"===e.type?O(b,c,d):I(b,d),g===!0&&(Y=!0,a(b).trigger("input"))}function F(b,c,d){if(c=c||r(b).match,void 0!==c.placeholder||d===!0)return a.isFunction(c.placeholder)?c.placeholder(f):c.placeholder;if(null===c.fn){if(b>-1&&void 0===l().validPositions[b]){var e,g=t(b),h=[];if(g.length>1+(""===g[g.length-1].match.def?1:0))for(var i=0;i<g.length;i++)if(g[i].match.optionality!==!0&&g[i].match.optionalQuantifier!==!0&&(null===g[i].match.fn||void 0===e||g[i].match.fn.test(e.match.def,l(),b,!0,f)!==!1)&&(h.push(g[i]),null===g[i].match.fn&&(e=g[i]),h.length>1&&/[0-9a-bA-Z]/.test(h[0].match.def)))return f.placeholder.charAt(b%f.placeholder.length)}return c.def}return f.placeholder.charAt(b%f.placeholder.length)}function G(c,d,e,g,h,i){function j(){var a=!1,b=u().slice(p,B(p)).join("").indexOf(o);if(b!==-1&&!A(p)){a=!0;for(var c=u().slice(p,p+b),d=0;d<c.length;d++)if(" "!==c[d]){a=!1;break}}return a}var k=g.slice(),o="",p=0,r=void 0;if(m(),l().p=B(-1),!e)if(f.autoUnmask!==!0){var s=u().slice(0,B(-1)).join(""),t=k.join("").match(new RegExp("^"+b.escapeRegex(s),"g"));t&&t.length>0&&(k.splice(0,t.length*s.length),p=B(p))}else p=B(p);if(a.each(k,function(b,d){if(void 0!==d){var g=new a.Event("keypress");g.which=d.charCodeAt(0),o+=d;var h=n(void 0,!0),i=l().validPositions[h],k=q(h+1,i?i.locator.slice():void 0,h);if(!j()||e||f.autoUnmask){var s=e?b:null==k.match.fn&&k.match.optionality&&h+1<l().p?h+1:l().p;r=aa.keypressEvent.call(c,g,!0,!1,e,s),p=s+1,o=""}else r=aa.keypressEvent.call(c,g,!0,!1,!0,h+1);if(!e&&a.isFunction(f.onBeforeWrite)&&(r=f.onBeforeWrite(g,v(),r.forwardPosition,f),r&&r.refreshFromBuffer)){var t=r.refreshFromBuffer;w(t===!0?t:t.start,t.end,r.buffer),m(!0),r.caret&&(l().p=r.caret)}}}),d){var x=void 0,y=n();document.activeElement===c&&(h||r)&&(x=I(c).begin,h&&r===!1&&(x=B(n(x))),r&&i!==!0&&(x<y+1||y===-1)&&(x=f.numericInput&&void 0===r.caret?C(r.forwardPosition):r.forwardPosition)),E(c,v(),x,h||new a.Event("checkval"))}}function H(b){if(b){if(void 0===b.inputmask)return b.value;b.inputmask&&b.inputmask.refreshValue&&aa.setValueEvent.call(b)}var c=[],d=l().validPositions;for(var e in d)d[e].match&&null!=d[e].match.fn&&c.push(d[e].input);var g=0===c.length?"":(W?c.reverse():c).join("");if(a.isFunction(f.onUnMask)){var h=(W?v().slice().reverse():v()).join("");g=f.onUnMask(h,g,f)||g}return g}function I(a,b,c,d){function e(a){if(d!==!0&&W&&"number"==typeof a&&(!f.greedy||""!==f.placeholder)){var b=v().join("").length;a=b-a}return a}var h;if("number"!=typeof b)return a.setSelectionRange?(b=a.selectionStart,c=a.selectionEnd):window.getSelection?(h=window.getSelection().getRangeAt(0),h.commonAncestorContainer.parentNode!==a&&h.commonAncestorContainer!==a||(b=h.startOffset,c=h.endOffset)):document.selection&&document.selection.createRange&&(h=document.selection.createRange(),b=0-h.duplicate().moveStart("character",-a.inputmask._valueGet().length),c=b+h.text.length),{begin:e(b),end:e(c)};b=e(b),c=e(c),c="number"==typeof c?c:b;var i=parseInt(((a.ownerDocument.defaultView||window).getComputedStyle?(a.ownerDocument.defaultView||window).getComputedStyle(a,null):a.currentStyle).fontSize)*c;if(a.scrollLeft=i>a.scrollWidth?i:0,g||f.insertMode!==!1||b!==c||c++,a.setSelectionRange)a.selectionStart=b,a.selectionEnd=c;else if(window.getSelection){if(h=document.createRange(),void 0===a.firstChild||null===a.firstChild){var j=document.createTextNode("");a.appendChild(j)}h.setStart(a.firstChild,b<a.inputmask._valueGet().length?b:a.inputmask._valueGet().length),h.setEnd(a.firstChild,c<a.inputmask._valueGet().length?c:a.inputmask._valueGet().length),h.collapse(!0);var k=window.getSelection();k.removeAllRanges(),k.addRange(h)}else a.createTextRange&&(h=a.createTextRange(),h.collapse(!0),h.moveEnd("character",c),h.moveStart("character",b),h.select());O(a,void 0,{begin:b,end:c})}function J(b){var c,d,e=v(),f=e.length,g=n(),h={},i=l().validPositions[g],j=void 0!==i?i.locator.slice():void 0;for(c=g+1;c<e.length;c++)d=q(c,j,c-1),j=d.locator.slice(),h[c]=a.extend(!0,{},d);var k=i&&void 0!==i.alternation?i.locator[i.alternation]:void 0;for(c=f-1;c>g&&(d=h[c],(d.match.optionality||d.match.optionalQuantifier||k&&(k!==h[c].locator[i.alternation]&&null!=d.match.fn||null===d.match.fn&&d.locator[i.alternation]&&y(d.locator[i.alternation].toString().split(","),k.toString().split(","))&&""!==t(c)[0].def))&&e[c]===F(c,d.match));c--)f--;return b?{l:f,def:h[f]?h[f].match:void 0}:f}function K(a){for(var b,c=J(),d=a.length;c<d&&!A(c+1)&&(b=r(c+1))&&b.match.optionality!==!0&&b.match.optionalQuantifier!==!0;)c++;for(;(b=r(c-1))&&b.match.optionality&&b.input===f.skipOptionalPartCharacter;)c--;return a.splice(c),a}function L(b){if(a.isFunction(f.isComplete))return f.isComplete(b,f);if("*"!==f.repeat){var c=!1,d=J(!0),e=C(d.l);if(void 0===d.def||d.def.newBlockMarker||d.def.optionality||d.def.optionalQuantifier){c=!0;for(var g=0;g<=e;g++){var h=q(g).match;if(null!==h.fn&&void 0===l().validPositions[g]&&h.optionality!==!0&&h.optionalQuantifier!==!0||null===h.fn&&b[g]!==F(g,h)){c=!1;break}}}return c}}function M(c,d,e,g){function h(){if(f.keepStatic){for(var b=[],d=n(-1,!0),e=a.extend(!0,{},l().validPositions),g=l().validPositions[d];d>=0;d--){var h=l().validPositions[d];if(h){if(h.generatedInput!==!0&&/[0-9a-bA-Z]/.test(h.input)&&b.push(h.input),delete l().validPositions[d],void 0!==h.alternation&&h.locator[h.alternation]!==g.locator[h.alternation])break;g=h}}if(d>-1)for(l().p=B(n(-1,!0));b.length>0;){var i=new a.Event("keypress");i.which=b.pop().charCodeAt(0),aa.keypressEvent.call(c,i,!0,!1,!1,l().p)}else l().validPositions=a.extend(!0,{},e)}}if((f.numericInput||W)&&(d===b.keyCode.BACKSPACE?d=b.keyCode.DELETE:d===b.keyCode.DELETE&&(d=b.keyCode.BACKSPACE),W)){var i=e.end;e.end=e.begin,e.begin=i}d===b.keyCode.BACKSPACE&&(e.end-e.begin<1||f.insertMode===!1)?(e.begin=C(e.begin),void 0===l().validPositions[e.begin]||l().validPositions[e.begin].input!==f.groupSeparator&&l().validPositions[e.begin].input!==f.radixPoint||e.begin--):d===b.keyCode.DELETE&&e.begin===e.end&&(e.end=A(e.end,!0)?e.end+1:B(e.end)+1,void 0===l().validPositions[e.begin]||l().validPositions[e.begin].input!==f.groupSeparator&&l().validPositions[e.begin].input!==f.radixPoint||e.end++),o(e.begin,e.end,!1,g),g!==!0&&h();var j=n(e.begin,!0);j<e.begin?l().p=B(j):g!==!0&&(l().p=e.begin)}function N(b){function c(a){var c,d=document.createElement("span");for(var e in g)isNaN(e)&&e.indexOf("font")!==-1&&(d.style[e]=g[e]);d.style.textTransform=g.textTransform,d.style.letterSpacing=g.letterSpacing,d.style.position="absolute",d.style.height="auto",d.style.width="auto",d.style.visibility="hidden",d.style.whiteSpace="nowrap",document.body.appendChild(d);var f,h=b.inputmask._valueGet(),i=0;for(c=0,f=h.length;c<=f;c++){if(d.innerHTML+=h.charAt(c)||"_",d.offsetWidth>=a){var j=a-i,k=d.offsetWidth-a;d.innerHTML=h.charAt(c),j-=d.offsetWidth/3,c=j<k?c-1:c;break}i=d.offsetWidth}return document.body.removeChild(d),c}function d(){T.style.position="absolute",T.style.top=e.top+"px",T.style.left=e.left+"px",T.style.width=parseInt(b.offsetWidth)-parseInt(g.paddingLeft)-parseInt(g.paddingRight)-parseInt(g.borderLeftWidth)-parseInt(g.borderRightWidth)+"px",T.style.height=parseInt(b.offsetHeight)-parseInt(g.paddingTop)-parseInt(g.paddingBottom)-parseInt(g.borderTopWidth)-parseInt(g.borderBottomWidth)+"px",T.style.lineHeight=T.style.height,T.style.zIndex=isNaN(g.zIndex)?-1:g.zIndex-1,T.style.webkitAppearance="textfield",T.style.mozAppearance="textfield",T.style.Appearance="textfield"}var e=a(b).position(),g=(b.ownerDocument.defaultView||window).getComputedStyle(b,null);b.parentNode;T=document.createElement("div"),document.body.appendChild(T);for(var h in g)isNaN(h)&&"cssText"!==h&&h.indexOf("webkit")==-1&&(T.style[h]=g[h]);b.style.backgroundColor="transparent",b.style.color="transparent",b.style.webkitAppearance="caret",b.style.mozAppearance="caret",b.style.Appearance="caret",d(),a(window).on("resize",function(c){e=a(b).position(),g=(b.ownerDocument.defaultView||window).getComputedStyle(b,null),d()}),a(b).on("click",function(a){return I(b,c(a.clientX)),aa.clickEvent.call(this,[a])}),a(b).on("keydown",function(a){a.shiftKey||f.insertMode===!1||setTimeout(function(){O(b)},0)})}function O(a,b,c){function d(){g||null!==i.fn&&void 0!==j.input?g&&null!==i.fn&&void 0!==j.input&&(g=!1,e+="</span>"):(g=!0,e+="<span class='im-static''>")}if(void 0!==T){b=b||v(),void 0===c?c=I(a):void 0===c.begin&&(c={begin:c,end:c});var e="",g=!1;if(""!=b){var h,i,j,k=0,m=n();do k===c.begin&&document.activeElement===a&&(e+="<span class='im-caret' style='border-right-width: 1px;border-right-style: solid;'></span>"),l().validPositions[k]?(j=l().validPositions[k],i=j.match,h=j.locator.slice(),d(),e+=j.input):(j=q(k,h,k-1),i=j.match,h=j.locator.slice(),(f.jitMasking===!1||k<m||"number"==typeof f.jitMasking&&isFinite(f.jitMasking)&&f.jitMasking>k)&&(d(),e+=F(k,i))),k++;while((void 0===S||k<S)&&(null!==i.fn||""!==i.def)||m>k)}T.innerHTML=e}}function P(b){function c(b,c){function d(b){function d(b){if(a.valHooks&&(void 0===a.valHooks[b]||a.valHooks[b].inputmaskpatch!==!0)){var d=a.valHooks[b]&&a.valHooks[b].get?a.valHooks[b].get:function(a){return a.value},e=a.valHooks[b]&&a.valHooks[b].set?a.valHooks[b].set:function(a,b){return a.value=b,a};a.valHooks[b]={get:function(a){if(a.inputmask){if(a.inputmask.opts.autoUnmask)return a.inputmask.unmaskedvalue();var b=d(a);return n(void 0,void 0,a.inputmask.maskset.validPositions)!==-1||c.nullable!==!0?b:""}return d(a)},set:function(b,c){var d,f=a(b);return d=e(b,c),b.inputmask&&f.trigger("setvalue"),d},inputmaskpatch:!0}}}function e(){return this.inputmask?this.inputmask.opts.autoUnmask?this.inputmask.unmaskedvalue():n()!==-1||c.nullable!==!0?document.activeElement===this&&c.clearMaskOnLostFocus?(W?K(v().slice()).reverse():K(v().slice())).join(""):h.call(this):"":h.call(this)}function f(b){i.call(this,b),this.inputmask&&a(this).trigger("setvalue")}function g(b){_.on(b,"mouseenter",function(b){var c=a(this),d=this,e=d.inputmask._valueGet();e!==v().join("")&&c.trigger("setvalue")})}var h,i;if(!b.inputmask.__valueGet){if(c.noValuePatching!==!0){if(Object.getOwnPropertyDescriptor){"function"!=typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"==typeof"test".__proto__?function(a){return a.__proto__}:function(a){return a.constructor.prototype});var j=Object.getPrototypeOf?Object.getOwnPropertyDescriptor(Object.getPrototypeOf(b),"value"):void 0;j&&j.get&&j.set?(h=j.get,i=j.set,Object.defineProperty(b,"value",{get:e,set:f,configurable:!0})):"INPUT"!==b.tagName&&(h=function(){return this.textContent},i=function(a){this.textContent=a},Object.defineProperty(b,"value",{get:e,set:f,configurable:!0}))}else document.__lookupGetter__&&b.__lookupGetter__("value")&&(h=b.__lookupGetter__("value"),i=b.__lookupSetter__("value"),b.__defineGetter__("value",e),b.__defineSetter__("value",f));b.inputmask.__valueGet=h,b.inputmask.__valueSet=i}b.inputmask._valueGet=function(a){return W&&a!==!0?h.call(this.el).split("").reverse().join(""):h.call(this.el)},b.inputmask._valueSet=function(a,b){i.call(this.el,null===a||void 0===a?"":b!==!0&&W?a.split("").reverse().join(""):a)},void 0===h&&(h=function(){return this.value},i=function(a){this.value=a},d(b.type),g(b))}}var e=b.getAttribute("type"),f="INPUT"===b.tagName&&a.inArray(e,c.supportsInputType)!==-1||b.isContentEditable||"TEXTAREA"===b.tagName;if(!f)if("INPUT"===b.tagName){var g=document.createElement("input");g.setAttribute("type",e),f="text"===g.type,g=null}else f="partial";return f!==!1&&d(b),f}_.off(V);var d=c(b,f);if(d!==!1&&(V=b,R=a(V),("rtl"===V.dir||f.rightAlign)&&(V.style.textAlign="right"),("rtl"===V.dir||f.numericInput)&&(V.dir="ltr",V.removeAttribute("dir"),V.inputmask.isRTL=!0,W=!0),f.colorMask===!0&&N(V),j&&(V.hasOwnProperty("inputmode")&&(V.inputmode=f.inputmode,V.setAttribute("inputmode",f.inputmode)),"rtfm"===f.androidHack&&(f.colorMask!==!0&&N(V),V.type="password")),d===!0&&(_.on(V,"submit",aa.submitEvent),_.on(V,"reset",aa.resetEvent),_.on(V,"mouseenter",aa.mouseenterEvent),_.on(V,"blur",aa.blurEvent),_.on(V,"focus",aa.focusEvent),_.on(V,"mouseleave",aa.mouseleaveEvent),f.colorMask!==!0&&_.on(V,"click",aa.clickEvent),_.on(V,"dblclick",aa.dblclickEvent),_.on(V,"paste",aa.pasteEvent),_.on(V,"dragdrop",aa.pasteEvent),_.on(V,"drop",aa.pasteEvent),_.on(V,"cut",aa.cutEvent),_.on(V,"complete",f.oncomplete),_.on(V,"incomplete",f.onincomplete),_.on(V,"cleared",f.oncleared),j&&f.inputEventOnly===!0||(_.on(V,"keydown",aa.keydownEvent),_.on(V,"keypress",aa.keypressEvent)),_.on(V,"compositionstart",a.noop),_.on(V,"compositionupdate",a.noop),_.on(V,"compositionend",a.noop),_.on(V,"keyup",a.noop),_.on(V,"input",aa.inputFallBackEvent),_.on(V,"beforeinput",a.noop)),_.on(V,"setvalue",aa.setValueEvent),u(),""!==V.inputmask._valueGet()||f.clearMaskOnLostFocus===!1||document.activeElement===V)){var e=a.isFunction(f.onBeforeMask)?f.onBeforeMask(V.inputmask._valueGet(),f)||V.inputmask._valueGet():V.inputmask._valueGet();G(V,!0,!1,e.split(""));var g=v().slice();Q=g.join(""),L(g)===!1&&f.clearIncomplete&&m(),f.clearMaskOnLostFocus&&document.activeElement!==V&&(n()===-1?g=[]:K(g)),E(V,g),document.activeElement===V&&I(V,B(n()))}}d=d||this.maskset,f=f||this.opts;var Q,R,S,T,U,V=this.el,W=this.isRTL,X=!1,Y=!1,Z=!1,$=!1,_={on:function(c,d,e){var g=function(c){if(void 0===this.inputmask&&"FORM"!==this.nodeName){var d=a.data(this,"_inputmask_opts");d?new b(d).mask(this):_.off(this)}else{if("setvalue"===c.type||"FORM"===this.nodeName||!(this.disabled||this.readOnly&&!("keydown"===c.type&&c.ctrlKey&&67===c.keyCode||f.tabThrough===!1&&c.keyCode===b.keyCode.TAB))){switch(c.type){case"input":if(Y===!0)return Y=!1,c.preventDefault();break;case"keydown":X=!1,Y=!1;break;case"keypress":if(X===!0)return c.preventDefault();X=!0;break;case"click":if(h||i){var g=this,j=arguments;return setTimeout(function(){e.apply(g,j)},0),!1}}var k=e.apply(this,arguments);return k===!1&&(c.preventDefault(),c.stopPropagation()),k}c.preventDefault()}};c.inputmask.events[d]=c.inputmask.events[d]||[],c.inputmask.events[d].push(g),a.inArray(d,["submit","reset"])!==-1?null!=c.form&&a(c.form).on(d,g):a(c).on(d,g)},off:function(b,c){if(b.inputmask&&b.inputmask.events){var d;c?(d=[],d[c]=b.inputmask.events[c]):d=b.inputmask.events,a.each(d,function(c,d){for(;d.length>0;){var e=d.pop();a.inArray(c,["submit","reset"])!==-1?null!=b.form&&a(b.form).off(c,e):a(b).off(c,e)}delete b.inputmask.events[c]})}}},aa={keydownEvent:function(c){function d(a){var b=document.createElement("input"),c="on"+a,d=c in b;return d||(b.setAttribute(c,"return;"),d="function"==typeof b[c]),b=null,d}var e=this,g=a(e),h=c.keyCode,j=I(e);if(h===b.keyCode.BACKSPACE||h===b.keyCode.DELETE||i&&h===b.keyCode.BACKSPACE_SAFARI||c.ctrlKey&&h===b.keyCode.X&&!d("cut"))c.preventDefault(),M(e,h,j),E(e,v(!0),l().p,c,e.inputmask._valueGet()!==v().join("")),e.inputmask._valueGet()===u().join("")?g.trigger("cleared"):L(v())===!0&&g.trigger("complete");else if(h===b.keyCode.END||h===b.keyCode.PAGE_DOWN){c.preventDefault();var k=B(n());f.insertMode||k!==l().maskLength||c.shiftKey||k--,I(e,c.shiftKey?j.begin:k,k,!0)}else h===b.keyCode.HOME&&!c.shiftKey||h===b.keyCode.PAGE_UP?(c.preventDefault(),I(e,0,c.shiftKey?j.begin:0,!0)):(f.undoOnEscape&&h===b.keyCode.ESCAPE||90===h&&c.ctrlKey)&&c.altKey!==!0?(G(e,!0,!1,Q.split("")),g.trigger("click")):h!==b.keyCode.INSERT||c.shiftKey||c.ctrlKey?f.tabThrough===!0&&h===b.keyCode.TAB?(c.shiftKey===!0?(null===r(j.begin).match.fn&&(j.begin=B(j.begin)),j.end=C(j.begin,!0),j.begin=C(j.end,!0)):(j.begin=B(j.begin,!0),j.end=B(j.begin,!0),j.end<l().maskLength&&j.end--),j.begin<l().maskLength&&(c.preventDefault(),I(e,j.begin,j.end))):c.shiftKey||f.insertMode===!1&&(h===b.keyCode.RIGHT?setTimeout(function(){var a=I(e);I(e,a.begin)},0):h===b.keyCode.LEFT&&setTimeout(function(){var a=I(e);I(e,W?a.begin+1:a.begin-1)},0)):(f.insertMode=!f.insertMode,I(e,f.insertMode||j.begin!==l().maskLength?j.begin:j.begin-1));f.onKeyDown.call(this,c,v(),I(e).begin,f),Z=a.inArray(h,f.ignorables)!==-1},keypressEvent:function(c,d,e,g,h){var i=this,j=a(i),k=c.which||c.charCode||c.keyCode;if(!(d===!0||c.ctrlKey&&c.altKey)&&(c.ctrlKey||c.metaKey||Z))return k===b.keyCode.ENTER&&Q!==v().join("")&&(Q=v().join(""),setTimeout(function(){j.trigger("change")},0)),!0;if(k){46===k&&c.shiftKey===!1&&""!==f.radixPoint&&(k=f.radixPoint.charCodeAt(0));var n,o=d?{begin:h,end:h}:I(i),p=String.fromCharCode(k);l().writeOutBuffer=!0;var q=z(o,p,g);if(q!==!1&&(m(!0),n=void 0!==q.caret?q.caret:d?q.pos+1:B(q.pos),l().p=n),e!==!1){var r=this;if(setTimeout(function(){f.onKeyValidation.call(r,k,q,f)},0),l().writeOutBuffer&&q!==!1){var s=v();E(i,s,f.numericInput&&void 0===q.caret?C(n):n,c,d!==!0),d!==!0&&setTimeout(function(){L(s)===!0&&j.trigger("complete")},0)}}if(c.preventDefault(),d)return q.forwardPosition=n,q}},pasteEvent:function(b){var c,d=this,e=b.originalEvent||b,g=a(d),h=d.inputmask._valueGet(!0),i=I(d);W&&(c=i.end,i.end=i.begin,i.begin=c);var j=h.substr(0,i.begin),k=h.substr(i.end,h.length);if(j===(W?u().reverse():u()).slice(0,i.begin).join("")&&(j=""),k===(W?u().reverse():u()).slice(i.end).join("")&&(k=""),W&&(c=j,j=k,k=c),window.clipboardData&&window.clipboardData.getData)h=j+window.clipboardData.getData("Text")+k;else{if(!e.clipboardData||!e.clipboardData.getData)return!0;h=j+e.clipboardData.getData("text/plain")+k}var l=h;if(a.isFunction(f.onBeforePaste)){if(l=f.onBeforePaste(h,f),l===!1)return b.preventDefault();l||(l=h)}return G(d,!1,!1,W?l.split("").reverse():l.toString().split("")),E(d,v(),B(n()),b,Q!==v().join("")),L(v())===!0&&g.trigger("complete"),b.preventDefault()},inputFallBackEvent:function(c){var d=this,e=d.inputmask._valueGet();if(v().join("")!==e){var f=I(d);if(e=e.replace(new RegExp("("+b.escapeRegex(u().join(""))+")*"),""),h){var g=e.replace(v().join(""),"");if(1===g.length){var i=new a.Event("keypress");return i.which=g.charCodeAt(0),aa.keypressEvent.call(d,i,!0,!0,!1,l().validPositions[f.begin-1]?f.begin:f.begin-1),!1}}if(f.begin>e.length&&(I(d,e.length),f=I(d)),v().length-e.length!==1||e.charAt(f.begin)===v()[f.begin]||e.charAt(f.begin+1)===v()[f.begin]||A(f.begin)){for(var j=n()+1,k=u().join("");null===e.match(b.escapeRegex(k)+"$");)k=k.slice(1);e=e.replace(k,""),e=e.split(""),G(d,!0,!1,e,c,f.begin<j),L(v())===!0&&a(d).trigger("complete")}else c.keyCode=b.keyCode.BACKSPACE,aa.keydownEvent.call(d,c);c.preventDefault()}},setValueEvent:function(b){this.inputmask.refreshValue=!1;var c=this,d=c.inputmask._valueGet();G(c,!0,!1,(a.isFunction(f.onBeforeMask)?f.onBeforeMask(d,f)||d:d).split("")),Q=v().join(""),(f.clearMaskOnLostFocus||f.clearIncomplete)&&c.inputmask._valueGet()===u().join("")&&c.inputmask._valueSet("")},focusEvent:function(a){var b=this,c=b.inputmask._valueGet();f.showMaskOnFocus&&(!f.showMaskOnHover||f.showMaskOnHover&&""===c)&&(b.inputmask._valueGet()!==v().join("")?E(b,v(),B(n())):$===!1&&I(b,B(n()))),f.positionCaretOnTab===!0&&aa.clickEvent.apply(b,[a,!0]),Q=v().join("")},mouseleaveEvent:function(a){var b=this;if($=!1,f.clearMaskOnLostFocus&&document.activeElement!==b){var c=v().slice(),d=b.inputmask._valueGet();d!==b.getAttribute("placeholder")&&""!==d&&(n()===-1&&d===u().join("")?c=[]:K(c),E(b,c))}},clickEvent:function(b,c){function d(b){if(""!==f.radixPoint){var c=l().validPositions;if(void 0===c[b]||c[b].input===F(b)){if(b<B(-1))return!0;var d=a.inArray(f.radixPoint,v());if(d!==-1){for(var e in c)if(d<e&&c[e].input!==F(e))return!1;return!0}}}return!1}var e=this;setTimeout(function(){if(document.activeElement===e){var b=I(e);if(c&&(b.begin=b.end),b.begin===b.end)switch(f.positionCaretOnClick){case"none":break;case"radixFocus":if(d(b.begin)){var g=a.inArray(f.radixPoint,v().join(""));I(e,f.numericInput?B(g):g);break}default:var h=b.begin,i=n(h,!0),j=B(i);if(h<j)I(e,A(h)||A(h-1)?h:B(h));else{var k=F(j);(""!==k&&v()[j]!==k&&r(j).match.optionalQuantifier!==!0||!A(j)&&r(j).match.def===k)&&(j=B(j)),I(e,j)}}}},0)},dblclickEvent:function(a){var b=this;setTimeout(function(){I(b,0,B(n()))},0)},cutEvent:function(c){var d=this,e=a(d),f=I(d),g=c.originalEvent||c,h=window.clipboardData||g.clipboardData,i=W?v().slice(f.end,f.begin):v().slice(f.begin,f.end);h.setData("text",W?i.reverse().join(""):i.join("")),document.execCommand&&document.execCommand("copy"),M(d,b.keyCode.DELETE,f),E(d,v(),l().p,c,Q!==v().join("")),d.inputmask._valueGet()===u().join("")&&e.trigger("cleared")},blurEvent:function(b){var c=a(this),d=this;if(d.inputmask){var e=d.inputmask._valueGet(),g=v().slice();Q!==g.join("")&&setTimeout(function(){c.trigger("change"),Q=g.join("")},0),""!==e&&(f.clearMaskOnLostFocus&&(n()===-1&&e===u().join("")?g=[]:K(g)),L(g)===!1&&(setTimeout(function(){c.trigger("incomplete")},0),f.clearIncomplete&&(m(),g=f.clearMaskOnLostFocus?[]:u().slice())),E(d,g,void 0,b))}},mouseenterEvent:function(a){var b=this;$=!0,document.activeElement!==b&&f.showMaskOnHover&&b.inputmask._valueGet()!==v().join("")&&E(b,v())},submitEvent:function(a){Q!==v().join("")&&R.trigger("change"),f.clearMaskOnLostFocus&&n()===-1&&V.inputmask._valueGet&&V.inputmask._valueGet()===u().join("")&&V.inputmask._valueSet(""),f.removeMaskOnSubmit&&(V.inputmask._valueSet(V.inputmask.unmaskedvalue(),!0),setTimeout(function(){E(V,v())},0))},resetEvent:function(a){V.inputmask.refreshValue=!0,setTimeout(function(){R.trigger("setvalue")},0)}};if(void 0!==c)switch(c.action){case"isComplete":return V=c.el,L(v());case"unmaskedvalue":return void 0!==V&&void 0===c.value||(U=c.value,U=(a.isFunction(f.onBeforeMask)?f.onBeforeMask(U,f)||U:U).split(""),G(void 0,!1,!1,W?U.reverse():U),a.isFunction(f.onBeforeWrite)&&f.onBeforeWrite(void 0,v(),0,f)),H(V);case"mask":P(V);break;case"format":return U=(a.isFunction(f.onBeforeMask)?f.onBeforeMask(c.value,f)||c.value:c.value).split(""),G(void 0,!1,!1,W?U.reverse():U),a.isFunction(f.onBeforeWrite)&&f.onBeforeWrite(void 0,v(),0,f),c.metadata?{value:W?v().slice().reverse().join(""):v().join(""),metadata:e.call(this,{action:"getmetadata"},d,f)}:W?v().slice().reverse().join(""):v().join("");case"isValid":c.value?(U=c.value.split(""),G(void 0,!1,!0,W?U.reverse():U)):c.value=v().join("");for(var ba=v(),ca=J(),da=ba.length-1;da>ca&&!A(da);da--);return ba.splice(ca,da+1-ca),L(ba)&&c.value===v().join("");case"getemptymask":return u().join("");case"remove":if(V){R=a(V),V.inputmask._valueSet(H(V)),_.off(V);var ea;Object.getOwnPropertyDescriptor&&Object.getPrototypeOf?(ea=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(V),"value"),ea&&V.inputmask.__valueGet&&Object.defineProperty(V,"value",{get:V.inputmask.__valueGet,set:V.inputmask.__valueSet,configurable:!0})):document.__lookupGetter__&&V.__lookupGetter__("value")&&V.inputmask.__valueGet&&(V.__defineGetter__("value",V.inputmask.__valueGet),V.__defineSetter__("value",V.inputmask.__valueSet)),V.inputmask=void 0}return V;case"getmetadata":if(a.isArray(d.metadata)){var fa=k(!0,0,!1).join("");return a.each(d.metadata,function(a,b){if(b.mask===fa)return fa=b,!1}),fa}return d.metadata}}var f=navigator.userAgent,g=/mobile/i.test(f),h=/iemobile/i.test(f),i=/iphone/i.test(f)&&!h,j=/android/i.test(f)&&!h;return b.prototype={dataAttribute:"data-inputmask",defaults:{placeholder:"_",optionalmarker:{start:"[",end:"]"},quantifiermarker:{start:"{",end:"}"},groupmarker:{start:"(",end:")"},alternatormarker:"|",escapeChar:"\\",mask:null,oncomplete:a.noop,onincomplete:a.noop,oncleared:a.noop,repeat:0,greedy:!0,autoUnmask:!1,removeMaskOnSubmit:!1,clearMaskOnLostFocus:!0,insertMode:!0,clearIncomplete:!1,alias:null,onKeyDown:a.noop,onBeforeMask:null,onBeforePaste:function(b,c){return a.isFunction(c.onBeforeMask)?c.onBeforeMask(b,c):b},onBeforeWrite:null,onUnMask:null,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:a.noop,skipOptionalPartCharacter:" ",numericInput:!1,rightAlign:!1,undoOnEscape:!0,radixPoint:"",radixPointDefinitionSymbol:void 0,groupSeparator:"",keepStatic:null,positionCaretOnTab:!0,tabThrough:!1,supportsInputType:["text","tel","password"],ignorables:[8,9,13,19,27,33,34,35,36,37,38,39,40,45,46,93,112,113,114,115,116,117,118,119,120,121,122,123,0,229],isComplete:null,canClearPosition:a.noop,postValidation:null,staticDefinitionSymbol:void 0,jitMasking:!1,nullable:!0,inputEventOnly:!1,noValuePatching:!1,positionCaretOnClick:"lvp",casing:null,inputmode:"verbatim",colorMask:!1,androidHack:!1},definitions:{9:{validator:"[0-9]",cardinality:1,definitionSymbol:"*"},a:{validator:"[A-Za-z\u0410-\u044f\u0401\u0451\xc0-\xff\xb5]",cardinality:1,definitionSymbol:"*"},"*":{validator:"[0-9A-Za-z\u0410-\u044f\u0401\u0451\xc0-\xff\xb5]",cardinality:1}},aliases:{},masksCache:{},mask:function(f){function g(b,d,e,f){function g(a,c){c=void 0!==c?c:b.getAttribute(f+"-"+a),null!==c&&("string"==typeof c&&(0===a.indexOf("on")?c=window[c]:"false"===c?c=!1:"true"===c&&(c=!0)),e[a]=c)}var h,i,j,k,l=b.getAttribute(f);if(l&&""!==l&&(l=l.replace(new RegExp("'","g"),'"'),i=JSON.parse("{"+l+"}")),i){j=void 0;for(k in i)if("alias"===k.toLowerCase()){j=i[k];break}}g("alias",j),e.alias&&c(e.alias,e,d);for(h in d){if(i){j=void 0;for(k in i)if(k.toLowerCase()===h.toLowerCase()){j=i[k];break}}g(h,j)}return a.extend(!0,d,e),d}var h=this;return"string"==typeof f&&(f=document.getElementById(f)||document.querySelectorAll(f)),f=f.nodeName?[f]:f,a.each(f,function(c,f){var i=a.extend(!0,{},h.opts);g(f,i,a.extend(!0,{},h.userOptions),h.dataAttribute);var j=d(i,h.noMasksCache);void 0!==j&&(void 0!==f.inputmask&&f.inputmask.remove(),f.inputmask=new b((void 0),(void 0),(!0)),f.inputmask.opts=i,f.inputmask.noMasksCache=h.noMasksCache,f.inputmask.userOptions=a.extend(!0,{},h.userOptions),f.inputmask.isRTL=h.isRTL,f.inputmask.el=f,f.inputmask.maskset=j,a.data(f,"_inputmask_opts",i),e.call(f.inputmask,{action:"mask"}))}),f&&f[0]?f[0].inputmask||this:this},option:function(b,c){return"string"==typeof b?this.opts[b]:"object"==typeof b?(a.extend(this.userOptions,b),this.el&&c!==!0&&this.mask(this.el),this):void 0},unmaskedvalue:function(a){return this.maskset=this.maskset||d(this.opts,this.noMasksCache),e.call(this,{action:"unmaskedvalue",value:a})},remove:function(){return e.call(this,{action:"remove"})},getemptymask:function(){return this.maskset=this.maskset||d(this.opts,this.noMasksCache),e.call(this,{action:"getemptymask"})},hasMaskedValue:function(){return!this.opts.autoUnmask},isComplete:function(){return this.maskset=this.maskset||d(this.opts,this.noMasksCache),e.call(this,{action:"isComplete"})},getmetadata:function(){return this.maskset=this.maskset||d(this.opts,this.noMasksCache),e.call(this,{action:"getmetadata"})},isValid:function(a){return this.maskset=this.maskset||d(this.opts,this.noMasksCache),e.call(this,{action:"isValid",value:a})},format:function(a,b){return this.maskset=this.maskset||d(this.opts,this.noMasksCache),e.call(this,{action:"format",value:a,metadata:b})},analyseMask:function(c,d){function e(a,b,c,d){this.matches=[],this.openGroup=a||!1,this.isGroup=a||!1,this.isOptional=b||!1,this.isQuantifier=c||!1,this.isAlternator=d||!1,this.quantifier={min:1,max:1}}function f(a,c,e){var f=(d.definitions?d.definitions[c]:void 0)||b.prototype.definitions[c];e=void 0!==e?e:a.matches.length;var g=a.matches[e-1];if(f&&!r){for(var h=f.prevalidator,i=h?h.length:0,j=1;j<f.cardinality;j++){var k=i>=j?h[j-1]:[],l=k.validator,m=k.cardinality;a.matches.splice(e++,0,{fn:l?"string"==typeof l?new RegExp(l):new function(){this.test=l}:new RegExp("."),cardinality:m?m:1,optionality:a.isOptional,newBlockMarker:void 0===g||g.def!==(f.definitionSymbol||c),casing:f.casing,def:f.definitionSymbol||c,placeholder:f.placeholder,nativeDef:c}),g=a.matches[e-1]}a.matches.splice(e++,0,{fn:f.validator?"string"==typeof f.validator?new RegExp(f.validator):new function(){this.test=f.validator}:new RegExp("."),cardinality:f.cardinality,optionality:a.isOptional,newBlockMarker:void 0===g||g.def!==(f.definitionSymbol||c),casing:f.casing,def:f.definitionSymbol||c,placeholder:f.placeholder,nativeDef:c})}else a.matches.splice(e++,0,{fn:null,cardinality:0,optionality:a.isOptional,newBlockMarker:void 0===g||g.def!==c,casing:null,def:d.staticDefinitionSymbol||c,placeholder:void 0!==d.staticDefinitionSymbol?c:void 0,nativeDef:c}),r=!1}function g(b){b&&b.matches&&a.each(b.matches,function(a,c){var e=b.matches[a+1];(void 0===e||void 0===e.matches||e.isQuantifier===!1)&&c&&c.isGroup&&(c.isGroup=!1,f(c,d.groupmarker.start,0),c.openGroup!==!0&&f(c,d.groupmarker.end)),g(c)})}function h(){if(t.length>0){if(m=t[t.length-1],f(m,k),m.isAlternator){n=t.pop();for(var a=0;a<n.matches.length;a++)n.matches[a].isGroup=!1;t.length>0?(m=t[t.length-1],m.matches.push(n)):s.matches.push(n)}}else f(s,k)}function i(a){function b(a){return a===d.optionalmarker.start?a=d.optionalmarker.end:a===d.optionalmarker.end?a=d.optionalmarker.start:a===d.groupmarker.start?a=d.groupmarker.end:a===d.groupmarker.end&&(a=d.groupmarker.start),a}a.matches=a.matches.reverse();for(var c in a.matches)if(a.matches.hasOwnProperty(c)){var e=parseInt(c);if(a.matches[c].isQuantifier&&a.matches[e+1]&&a.matches[e+1].isGroup){var f=a.matches[c];a.matches.splice(c,1),a.matches.splice(e+1,0,f)}void 0!==a.matches[c].matches?a.matches[c]=i(a.matches[c]):a.matches[c]=b(a.matches[c])}return a}for(var j,k,l,m,n,o,p,q=/(?:[?*+]|\{[0-9\+\*]+(?:,[0-9\+\*]*)?\})|[^.?*+^${[]()|\\]+|./g,r=!1,s=new e,t=[],u=[];j=q.exec(c);)if(k=j[0],r)h();else switch(k.charAt(0)){case d.escapeChar:r=!0;break;case d.optionalmarker.end:case d.groupmarker.end:if(l=t.pop(),l.openGroup=!1,void 0!==l)if(t.length>0){if(m=t[t.length-1],m.matches.push(l),m.isAlternator){n=t.pop();for(var v=0;v<n.matches.length;v++)n.matches[v].isGroup=!1;t.length>0?(m=t[t.length-1],m.matches.push(n)):s.matches.push(n)}}else s.matches.push(l);else h();break;case d.optionalmarker.start:t.push(new e((!1),(!0)));break;case d.groupmarker.start:t.push(new e((!0)));break;case d.quantifiermarker.start:var w=new e((!1),(!1),(!0));k=k.replace(/[{}]/g,"");var x=k.split(","),y=isNaN(x[0])?x[0]:parseInt(x[0]),z=1===x.length?y:isNaN(x[1])?x[1]:parseInt(x[1]);if("*"!==z&&"+"!==z||(y="*"===z?0:1),w.quantifier={min:y,max:z},t.length>0){var A=t[t.length-1].matches;j=A.pop(),j.isGroup||(p=new e((!0)),p.matches.push(j),j=p),A.push(j),A.push(w)}else j=s.matches.pop(),j.isGroup||(p=new e((!0)),p.matches.push(j),j=p),s.matches.push(j),s.matches.push(w);break;case d.alternatormarker:t.length>0?(m=t[t.length-1],o=m.matches.pop()):o=s.matches.pop(),o.isAlternator?t.push(o):(n=new e((!1),(!1),(!1),(!0)),n.matches.push(o),t.push(n));break;default:h()}for(;t.length>0;)l=t.pop(),s.matches.push(l);return s.matches.length>0&&(g(s),u.push(s)),d.numericInput&&i(u[0]),u}},b.extendDefaults=function(c){a.extend(!0,b.prototype.defaults,c)},b.extendDefinitions=function(c){a.extend(!0,b.prototype.definitions,c)},b.extendAliases=function(c){a.extend(!0,b.prototype.aliases,c)},b.format=function(a,c,d){return b(c).format(a,d)},b.unmask=function(a,c){return b(c).unmaskedvalue(a)},b.isValid=function(a,c){return b(c).isValid(a)},b.remove=function(b){a.each(b,function(a,b){b.inputmask&&b.inputmask.remove()})},b.escapeRegex=function(a){var b=["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^"];return a.replace(new RegExp("(\\"+b.join("|\\")+")","gim"),"\\$1")},b.keyCode={ALT:18,BACKSPACE:8,BACKSPACE_SAFARI:127,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91,X:88},window.Inputmask=b,b}(jQuery),function(a,b){return void 0===a.fn.inputmask&&(a.fn.inputmask=function(c,d){var e,f=this[0];if(void 0===d&&(d={}),"string"==typeof c)switch(c){case"unmaskedvalue":return f&&f.inputmask?f.inputmask.unmaskedvalue():a(f).val();case"remove":return this.each(function(){this.inputmask&&this.inputmask.remove()});case"getemptymask":return f&&f.inputmask?f.inputmask.getemptymask():"";case"hasMaskedValue":return!(!f||!f.inputmask)&&f.inputmask.hasMaskedValue();case"isComplete":return!f||!f.inputmask||f.inputmask.isComplete();case"getmetadata":return f&&f.inputmask?f.inputmask.getmetadata():void 0;case"setvalue":a(f).val(d),f&&void 0===f.inputmask&&a(f).triggerHandler("setvalue");break;case"option":if("string"!=typeof d)return this.each(function(){if(void 0!==this.inputmask)return this.inputmask.option(d)});if(f&&void 0!==f.inputmask)return f.inputmask.option(d);break;default:return d.alias=c,e=new b(d),this.each(function(){e.mask(this)})}else{if("object"==typeof c)return e=new b(c),void 0===c.mask&&void 0===c.alias?this.each(function(){return void 0!==this.inputmask?this.inputmask.option(c):void e.mask(this)}):this.each(function(){e.mask(this)});if(void 0===c)return this.each(function(){e=new b(d),e.mask(this)})}}),a.fn.inputmask}(jQuery,Inputmask),function(a,b){function c(a){return isNaN(a)||29===new Date(a,2,0).getDate()}return b.extendAliases({"dd/mm/yyyy":{mask:"1/2/y",placeholder:"dd/mm/yyyy",regex:{val1pre:new RegExp("[0-3]"),val1:new RegExp("0[1-9]|[12][0-9]|3[01]"),val2pre:function(a){var c=b.escapeRegex.call(this,a);return new RegExp("((0[1-9]|[12][0-9]|3[01])"+c+"[01])")},val2:function(a){var c=b.escapeRegex.call(this,a);return new RegExp("((0[1-9]|[12][0-9])"+c+"(0[1-9]|1[012]))|(30"+c+"(0[13-9]|1[012]))|(31"+c+"(0[13578]|1[02]))")}},leapday:"29/02/",separator:"/",yearrange:{minyear:1900,maxyear:2099},isInYearRange:function(a,b,c){if(isNaN(a))return!1;var d=parseInt(a.concat(b.toString().slice(a.length))),e=parseInt(a.concat(c.toString().slice(a.length)));return!isNaN(d)&&(b<=d&&d<=c)||!isNaN(e)&&(b<=e&&e<=c)},determinebaseyear:function(a,b,c){var d=(new Date).getFullYear();if(a>d)return a;if(b<d){for(var e=b.toString().slice(0,2),f=b.toString().slice(2,4);b<e+c;)e--;var g=e+f;return a>g?a:g}if(a<=d&&d<=b){for(var h=d.toString().slice(0,2);b<h+c;)h--;var i=h+c;return i<a?a:i}return d},onKeyDown:function(c,d,e,f){var g=a(this);if(c.ctrlKey&&c.keyCode===b.keyCode.RIGHT){var h=new Date;g.val(h.getDate().toString()+(h.getMonth()+1).toString()+h.getFullYear().toString()),g.trigger("setvalue")}},getFrontValue:function(a,b,c){for(var d=0,e=0,f=0;f<a.length&&"2"!==a.charAt(f);f++){var g=c.definitions[a.charAt(f)];g?(d+=e,e=g.cardinality):e++}return b.join("").substr(d,e)},postValidation:function(a,b,d){var e,f,g=a.join("");return 0===d.mask.indexOf("y")?(f=g.substr(0,4),e=g.substr(4,11)):(f=g.substr(6,11),e=g.substr(0,6)),b&&(e!==d.leapday||c(f))},definitions:{1:{validator:function(a,b,c,d,e){var f=e.regex.val1.test(a);return d||f||a.charAt(1)!==e.separator&&"-./".indexOf(a.charAt(1))===-1||!(f=e.regex.val1.test("0"+a.charAt(0)))?f:(b.buffer[c-1]="0",{refreshFromBuffer:{start:c-1,end:c},pos:c,c:a.charAt(0)})},cardinality:2,prevalidator:[{validator:function(a,b,c,d,e){var f=a;isNaN(b.buffer[c+1])||(f+=b.buffer[c+1]);var g=1===f.length?e.regex.val1pre.test(f):e.regex.val1.test(f);if(!d&&!g){if(g=e.regex.val1.test(a+"0"))return b.buffer[c]=a,b.buffer[++c]="0",{pos:c,c:"0"};if(g=e.regex.val1.test("0"+a))return b.buffer[c]="0",c++,{pos:c}}return g},cardinality:1}]},2:{validator:function(a,b,c,d,e){var f=e.getFrontValue(b.mask,b.buffer,e);f.indexOf(e.placeholder[0])!==-1&&(f="01"+e.separator);var g=e.regex.val2(e.separator).test(f+a);return d||g||a.charAt(1)!==e.separator&&"-./".indexOf(a.charAt(1))===-1||!(g=e.regex.val2(e.separator).test(f+"0"+a.charAt(0)))?g:(b.buffer[c-1]="0",{refreshFromBuffer:{start:c-1,end:c},pos:c,c:a.charAt(0)})},cardinality:2,prevalidator:[{validator:function(a,b,c,d,e){isNaN(b.buffer[c+1])||(a+=b.buffer[c+1]);var f=e.getFrontValue(b.mask,b.buffer,e);f.indexOf(e.placeholder[0])!==-1&&(f="01"+e.separator);var g=1===a.length?e.regex.val2pre(e.separator).test(f+a):e.regex.val2(e.separator).test(f+a);return d||g||!(g=e.regex.val2(e.separator).test(f+"0"+a))?g:(b.buffer[c]="0",c++,{pos:c})},cardinality:1}]},y:{validator:function(a,b,c,d,e){return e.isInYearRange(a,e.yearrange.minyear,e.yearrange.maxyear)},cardinality:4,prevalidator:[{validator:function(a,b,c,d,e){var f=e.isInYearRange(a,e.yearrange.minyear,e.yearrange.maxyear);if(!d&&!f){var g=e.determinebaseyear(e.yearrange.minyear,e.yearrange.maxyear,a+"0").toString().slice(0,1);if(f=e.isInYearRange(g+a,e.yearrange.minyear,e.yearrange.maxyear))return b.buffer[c++]=g.charAt(0),{pos:c};if(g=e.determinebaseyear(e.yearrange.minyear,e.yearrange.maxyear,a+"0").toString().slice(0,2),f=e.isInYearRange(g+a,e.yearrange.minyear,e.yearrange.maxyear))return b.buffer[c++]=g.charAt(0),b.buffer[c++]=g.charAt(1),{pos:c}}return f},cardinality:1},{validator:function(a,b,c,d,e){var f=e.isInYearRange(a,e.yearrange.minyear,e.yearrange.maxyear);if(!d&&!f){var g=e.determinebaseyear(e.yearrange.minyear,e.yearrange.maxyear,a).toString().slice(0,2);if(f=e.isInYearRange(a[0]+g[1]+a[1],e.yearrange.minyear,e.yearrange.maxyear))return b.buffer[c++]=g.charAt(1),{pos:c};if(g=e.determinebaseyear(e.yearrange.minyear,e.yearrange.maxyear,a).toString().slice(0,2),f=e.isInYearRange(g+a,e.yearrange.minyear,e.yearrange.maxyear))return b.buffer[c-1]=g.charAt(0),b.buffer[c++]=g.charAt(1),b.buffer[c++]=a.charAt(0),{refreshFromBuffer:{start:c-3,end:c},pos:c}}return f},cardinality:2},{validator:function(a,b,c,d,e){return e.isInYearRange(a,e.yearrange.minyear,e.yearrange.maxyear)},cardinality:3}]}},insertMode:!1,autoUnmask:!1},"mm/dd/yyyy":{placeholder:"mm/dd/yyyy",alias:"dd/mm/yyyy",regex:{val2pre:function(a){var c=b.escapeRegex.call(this,a);return new RegExp("((0[13-9]|1[012])"+c+"[0-3])|(02"+c+"[0-2])")},val2:function(a){var c=b.escapeRegex.call(this,a);return new RegExp("((0[1-9]|1[012])"+c+"(0[1-9]|[12][0-9]))|((0[13-9]|1[012])"+c+"30)|((0[13578]|1[02])"+c+"31)")},val1pre:new RegExp("[01]"),val1:new RegExp("0[1-9]|1[012]")},leapday:"02/29/",onKeyDown:function(c,d,e,f){var g=a(this);if(c.ctrlKey&&c.keyCode===b.keyCode.RIGHT){var h=new Date;g.val((h.getMonth()+1).toString()+h.getDate().toString()+h.getFullYear().toString()),g.trigger("setvalue")}}},"yyyy/mm/dd":{mask:"y/1/2",placeholder:"yyyy/mm/dd",alias:"mm/dd/yyyy",leapday:"/02/29",onKeyDown:function(c,d,e,f){var g=a(this);if(c.ctrlKey&&c.keyCode===b.keyCode.RIGHT){var h=new Date;g.val(h.getFullYear().toString()+(h.getMonth()+1).toString()+h.getDate().toString()),g.trigger("setvalue")}}},"dd.mm.yyyy":{mask:"1.2.y",placeholder:"dd.mm.yyyy",leapday:"29.02.",separator:".",alias:"dd/mm/yyyy"},"dd-mm-yyyy":{mask:"1-2-y",placeholder:"dd-mm-yyyy",leapday:"29-02-",separator:"-",alias:"dd/mm/yyyy"},"mm.dd.yyyy":{mask:"1.2.y",placeholder:"mm.dd.yyyy",leapday:"02.29.",separator:".",alias:"mm/dd/yyyy"},"mm-dd-yyyy":{mask:"1-2-y",placeholder:"mm-dd-yyyy",leapday:"02-29-",separator:"-",alias:"mm/dd/yyyy"},"yyyy.mm.dd":{mask:"y.1.2",placeholder:"yyyy.mm.dd",leapday:".02.29",separator:".",alias:"yyyy/mm/dd"},"yyyy-mm-dd":{mask:"y-1-2",placeholder:"yyyy-mm-dd",leapday:"-02-29",separator:"-",alias:"yyyy/mm/dd"},datetime:{mask:"1/2/y h:s",placeholder:"dd/mm/yyyy hh:mm",alias:"dd/mm/yyyy",regex:{hrspre:new RegExp("[012]"),hrs24:new RegExp("2[0-4]|1[3-9]"),hrs:new RegExp("[01][0-9]|2[0-4]"),ampm:new RegExp("^[a|p|A|P][m|M]"),mspre:new RegExp("[0-5]"),ms:new RegExp("[0-5][0-9]")},timeseparator:":",hourFormat:"24",definitions:{h:{validator:function(a,b,c,d,e){if("24"===e.hourFormat&&24===parseInt(a,10))return b.buffer[c-1]="0",b.buffer[c]="0",{refreshFromBuffer:{start:c-1,end:c},c:"0"};var f=e.regex.hrs.test(a);if(!d&&!f&&(a.charAt(1)===e.timeseparator||"-.:".indexOf(a.charAt(1))!==-1)&&(f=e.regex.hrs.test("0"+a.charAt(0))))return b.buffer[c-1]="0",b.buffer[c]=a.charAt(0),c++,{refreshFromBuffer:{start:c-2,end:c},pos:c,c:e.timeseparator};if(f&&"24"!==e.hourFormat&&e.regex.hrs24.test(a)){var g=parseInt(a,10);return 24===g?(b.buffer[c+5]="a",b.buffer[c+6]="m"):(b.buffer[c+5]="p",b.buffer[c+6]="m"),g-=12,g<10?(b.buffer[c]=g.toString(),b.buffer[c-1]="0"):(b.buffer[c]=g.toString().charAt(1),b.buffer[c-1]=g.toString().charAt(0)),{refreshFromBuffer:{start:c-1,end:c+6},c:b.buffer[c]}}return f},cardinality:2,prevalidator:[{validator:function(a,b,c,d,e){var f=e.regex.hrspre.test(a);return d||f||!(f=e.regex.hrs.test("0"+a))?f:(b.buffer[c]="0",c++,{pos:c})},cardinality:1}]},s:{validator:"[0-5][0-9]",cardinality:2,prevalidator:[{validator:function(a,b,c,d,e){var f=e.regex.mspre.test(a);return d||f||!(f=e.regex.ms.test("0"+a))?f:(b.buffer[c]="0",c++,{pos:c})},cardinality:1}]},t:{validator:function(a,b,c,d,e){return e.regex.ampm.test(a+"m")},casing:"lower",cardinality:1}},insertMode:!1,autoUnmask:!1},datetime12:{mask:"1/2/y h:s t\\m",placeholder:"dd/mm/yyyy hh:mm xm",alias:"datetime",hourFormat:"12"},"mm/dd/yyyy hh:mm xm":{mask:"1/2/y h:s t\\m",placeholder:"mm/dd/yyyy hh:mm xm",alias:"datetime12",regex:{val2pre:function(a){var c=b.escapeRegex.call(this,a);return new RegExp("((0[13-9]|1[012])"+c+"[0-3])|(02"+c+"[0-2])")},val2:function(a){var c=b.escapeRegex.call(this,a);return new RegExp("((0[1-9]|1[012])"+c+"(0[1-9]|[12][0-9]))|((0[13-9]|1[012])"+c+"30)|((0[13578]|1[02])"+c+"31)")},val1pre:new RegExp("[01]"),val1:new RegExp("0[1-9]|1[012]")},leapday:"02/29/",onKeyDown:function(c,d,e,f){var g=a(this);if(c.ctrlKey&&c.keyCode===b.keyCode.RIGHT){var h=new Date;g.val((h.getMonth()+1).toString()+h.getDate().toString()+h.getFullYear().toString()),g.trigger("setvalue")}}},"hh:mm t":{mask:"h:s t\\m",placeholder:"hh:mm xm",alias:"datetime",hourFormat:"12"},"h:s t":{mask:"h:s t\\m",placeholder:"hh:mm xm",alias:"datetime",hourFormat:"12"},"hh:mm:ss":{mask:"h:s:s",placeholder:"hh:mm:ss",alias:"datetime",autoUnmask:!1},"hh:mm":{mask:"h:s",placeholder:"hh:mm",alias:"datetime",autoUnmask:!1},date:{alias:"dd/mm/yyyy"},"mm/yyyy":{mask:"1/y",placeholder:"mm/yyyy",leapday:"donotuse",separator:"/",alias:"mm/dd/yyyy"},shamsi:{regex:{val2pre:function(a){var c=b.escapeRegex.call(this,a);return new RegExp("((0[1-9]|1[012])"+c+"[0-3])")},val2:function(a){var c=b.escapeRegex.call(this,a);return new RegExp("((0[1-9]|1[012])"+c+"(0[1-9]|[12][0-9]))|((0[1-9]|1[012])"+c+"30)|((0[1-6])"+c+"31)")},val1pre:new RegExp("[01]"),val1:new RegExp("0[1-9]|1[012]")},yearrange:{minyear:1300,maxyear:1499},mask:"y/1/2",leapday:"/12/30",placeholder:"yyyy/mm/dd",alias:"mm/dd/yyyy",clearIncomplete:!0},"yyyy-mm-dd hh:mm:ss":{mask:"y-1-2 h:s:s",placeholder:"yyyy-mm-dd hh:mm:ss",alias:"datetime",separator:"-",leapday:"-02-29",regex:{val2pre:function(a){var c=b.escapeRegex.call(this,a);return new RegExp("((0[13-9]|1[012])"+c+"[0-3])|(02"+c+"[0-2])")},val2:function(a){var c=b.escapeRegex.call(this,a);return new RegExp("((0[1-9]|1[012])"+c+"(0[1-9]|[12][0-9]))|((0[13-9]|1[012])"+c+"30)|((0[13578]|1[02])"+c+"31)")},val1pre:new RegExp("[01]"),val1:new RegExp("0[1-9]|1[012]")},onKeyDown:function(a,b,c,d){}}}),b}(jQuery,Inputmask),function(a,b){return b.extendDefinitions({A:{validator:"[A-Za-z\u0410-\u044f\u0401\u0451\xc0-\xff\xb5]",cardinality:1,casing:"upper"},"&":{validator:"[0-9A-Za-z\u0410-\u044f\u0401\u0451\xc0-\xff\xb5]",cardinality:1,casing:"upper"},"#":{validator:"[0-9A-Fa-f]",cardinality:1,casing:"upper"}}),b.extendAliases({url:{definitions:{i:{validator:".",cardinality:1}},mask:"(\\http://)|(\\http\\s://)|(ftp://)|(ftp\\s://)i{+}",insertMode:!1,autoUnmask:!1,inputmode:"url"},ip:{mask:"i[i[i]].i[i[i]].i[i[i]].i[i[i]]",definitions:{i:{validator:function(a,b,c,d,e){return c-1>-1&&"."!==b.buffer[c-1]?(a=b.buffer[c-1]+a,a=c-2>-1&&"."!==b.buffer[c-2]?b.buffer[c-2]+a:"0"+a):a="00"+a,new RegExp("25[0-5]|2[0-4][0-9]|[01][0-9][0-9]").test(a)},cardinality:1}},onUnMask:function(a,b,c){return a},inputmode:"numeric"},email:{mask:"*{1,64}[.*{1,64}][.*{1,64}][.*{1,63}]@-{1,63}.-{1,63}[.-{1,63}][.-{1,63}]",greedy:!1,onBeforePaste:function(a,b){return a=a.toLowerCase(),a.replace("mailto:","")},definitions:{"*":{validator:"[0-9A-Za-z!#$%&'*+/=?^_`{|}~-]",cardinality:1,casing:"lower"},"-":{validator:"[0-9A-Za-z-]",cardinality:1,casing:"lower"}},onUnMask:function(a,b,c){return a},inputmode:"email"},mac:{mask:"##:##:##:##:##:##"},vin:{mask:"V{13}9{4}",definitions:{V:{validator:"[A-HJ-NPR-Za-hj-npr-z\\d]",cardinality:1,casing:"upper"}},clearIncomplete:!0,autoUnmask:!0}}),b}(jQuery,Inputmask),function(a,b){return b.extendAliases({numeric:{mask:function(a){function c(b){for(var c="",d=0;d<b.length;d++)c+=a.definitions[b.charAt(d)]||a.optionalmarker.start===b.charAt(d)||a.optionalmarker.end===b.charAt(d)||a.quantifiermarker.start===b.charAt(d)||a.quantifiermarker.end===b.charAt(d)||a.groupmarker.start===b.charAt(d)||a.groupmarker.end===b.charAt(d)||a.alternatormarker===b.charAt(d)?"\\"+b.charAt(d):b.charAt(d);return c}if(0!==a.repeat&&isNaN(a.integerDigits)&&(a.integerDigits=a.repeat),a.repeat=0,a.groupSeparator===a.radixPoint&&("."===a.radixPoint?a.groupSeparator=",":","===a.radixPoint?a.groupSeparator=".":a.groupSeparator="")," "===a.groupSeparator&&(a.skipOptionalPartCharacter=void 0),a.autoGroup=a.autoGroup&&""!==a.groupSeparator,a.autoGroup&&("string"==typeof a.groupSize&&isFinite(a.groupSize)&&(a.groupSize=parseInt(a.groupSize)),isFinite(a.integerDigits))){var d=Math.floor(a.integerDigits/a.groupSize),e=a.integerDigits%a.groupSize;a.integerDigits=parseInt(a.integerDigits)+(0===e?d-1:d),a.integerDigits<1&&(a.integerDigits="*")}a.placeholder.length>1&&(a.placeholder=a.placeholder.charAt(0)),"radixFocus"===a.positionCaretOnClick&&""===a.placeholder&&a.integerOptional===!1&&(a.positionCaretOnClick="lvp"),a.definitions[";"]=a.definitions["~"],a.definitions[";"].definitionSymbol="~",a.numericInput===!0&&(a.positionCaretOnClick="radixFocus"===a.positionCaretOnClick?"lvp":a.positionCaretOnClick,a.digitsOptional=!1,isNaN(a.digits)&&(a.digits=2),a.decimalProtect=!1);var f="[+]";if(f+=c(a.prefix),f+=a.integerOptional===!0?"~{1,"+a.integerDigits+"}":"~{"+a.integerDigits+"}",void 0!==a.digits){a.radixPointDefinitionSymbol=a.decimalProtect?":":a.radixPoint;var g=a.digits.toString().split(",");isFinite(g[0]&&g[1]&&isFinite(g[1]))?f+=a.radixPointDefinitionSymbol+";{"+a.digits+"}":(isNaN(a.digits)||parseInt(a.digits)>0)&&(f+=a.digitsOptional?"["+a.radixPointDefinitionSymbol+";{1,"+a.digits+"}]":a.radixPointDefinitionSymbol+";{"+a.digits+"}")}return f+=c(a.suffix),f+="[-]",a.greedy=!1,null!==a.min&&(a.min=a.min.toString().replace(new RegExp(b.escapeRegex(a.groupSeparator),"g"),""),","===a.radixPoint&&(a.min=a.min.replace(a.radixPoint,"."))),null!==a.max&&(a.max=a.max.toString().replace(new RegExp(b.escapeRegex(a.groupSeparator),"g"),""),","===a.radixPoint&&(a.max=a.max.replace(a.radixPoint,"."))),f},placeholder:"",greedy:!1,digits:"*",digitsOptional:!0,radixPoint:".",positionCaretOnClick:"radixFocus",groupSize:3,groupSeparator:"",autoGroup:!1,allowPlus:!0,allowMinus:!0,negationSymbol:{front:"-",back:""},integerDigits:"+",integerOptional:!0,prefix:"",suffix:"",rightAlign:!0,decimalProtect:!0,min:null,max:null,step:1,insertMode:!0,autoUnmask:!1,unmaskAsNumber:!1,inputmode:"numeric",postFormat:function(c,d,e){e.numericInput===!0&&(c=c.reverse(),isFinite(d)&&(d=c.join("").length-d-1));var f,g;d=d>=c.length?c.length-1:d<0?0:d;var h=c[d],i=c.slice();h===e.groupSeparator&&d>e.prefix.length&&d<c.length-e.suffix.length&&(i.splice(d--,1),h=i[d]);var j=i.join("").match(new RegExp("^"+b.escapeRegex(e.negationSymbol.front)));j=null!==j&&1===j.length,d>(j?e.negationSymbol.front.length:0)+e.prefix.length&&d<i.length-e.suffix.length&&(i[d]="!");var k=i.join(""),l=i.join();if(j&&(k=k.replace(new RegExp("^"+b.escapeRegex(e.negationSymbol.front)),""),k=k.replace(new RegExp(b.escapeRegex(e.negationSymbol.back)+"$"),"")),k=k.replace(new RegExp(b.escapeRegex(e.suffix)+"$"),""),k=k.replace(new RegExp("^"+b.escapeRegex(e.prefix)),""),k.length>0&&e.autoGroup||k.indexOf(e.groupSeparator)!==-1){var m=b.escapeRegex(e.groupSeparator);k=k.replace(new RegExp(m,"g"),"");var n=k.split(h===e.radixPoint?"!":e.radixPoint);if(k=""===e.radixPoint?k:n[0],h!==e.negationSymbol.front&&(k=k.replace("!","?")),k.length>e.groupSize)for(var o=new RegExp("([-+]?[\\d?]+)([\\d?]{"+e.groupSize+"})");o.test(k)&&""!==e.groupSeparator;)k=k.replace(o,"$1"+e.groupSeparator+"$2"),k=k.replace(e.groupSeparator+e.groupSeparator,e.groupSeparator);k=k.replace("?","!"),""!==e.radixPoint&&n.length>1&&(k+=(h===e.radixPoint?"!":e.radixPoint)+n[1])}k=e.prefix+k+e.suffix,j&&(k=e.negationSymbol.front+k+e.negationSymbol.back);var p=l!==k.split("").join(),q=a.inArray("!",k);if(q===-1&&(q=d),p){for(c.length=k.length,f=0,g=k.length;f<g;f++)c[f]=k.charAt(f);c[q]=h}return q=e.numericInput&&isFinite(d)?c.join("").length-q-1:q,e.numericInput&&(c=c.reverse(),a.inArray(e.radixPoint,c)<q&&c.join("").length-e.suffix.length!==q&&(q-=1)),{pos:q,refreshFromBuffer:p,buffer:c,isNegative:j}},onBeforeWrite:function(c,d,e,f){var g;if(c&&("blur"===c.type||"checkval"===c.type||"keydown"===c.type)){var h=f.numericInput?d.slice().reverse().join(""):d.join(""),i=h.replace(f.prefix,"");i=i.replace(f.suffix,""),i=i.replace(new RegExp(b.escapeRegex(f.groupSeparator),"g"),""),","===f.radixPoint&&(i=i.replace(f.radixPoint,"."));var j=i.match(new RegExp("[-"+b.escapeRegex(f.negationSymbol.front)+"]","g"));if(j=null!==j&&1===j.length,i=i.replace(new RegExp("[-"+b.escapeRegex(f.negationSymbol.front)+"]","g"),""),i=i.replace(new RegExp(b.escapeRegex(f.negationSymbol.back)+"$"),""),isNaN(f.placeholder)&&(i=i.replace(new RegExp(b.escapeRegex(f.placeholder),"g"),"")),i=i===f.negationSymbol.front?i+"0":i,""!==i&&isFinite(i)){var k=parseFloat(i),l=j?k*-1:k;if("blur"===c.type&&(null!==f.min&&isFinite(f.min)&&l<parseFloat(f.min)?(k=Math.abs(f.min),j=f.min<0,h=void 0):null!==f.max&&isFinite(f.max)&&l>parseFloat(f.max)&&(k=Math.abs(f.max),j=f.max<0,h=void 0)),i=k.toString().replace(".",f.radixPoint).split(""),isFinite(f.digits)){var m=a.inArray(f.radixPoint,i),n=a.inArray(f.radixPoint,h);m===-1&&(i.push(f.radixPoint),m=i.length-1);for(var o=1;o<=f.digits;o++)f.digitsOptional||void 0!==i[m+o]&&i[m+o]!==f.placeholder.charAt(0)?n!==-1&&void 0!==h[n+o]&&(i[m+o]=i[m+o]||h[n+o]):i[m+o]="0";i[i.length-1]===f.radixPoint&&delete i[i.length-1]}if(k.toString()!==i&&k.toString()+"."!==i||j)return i=(f.prefix+i.join("")).split(""),!j||0===k&&"blur"===c.type||(i.unshift(f.negationSymbol.front),i.push(f.negationSymbol.back)),f.numericInput&&(i=i.reverse()),g=f.postFormat(i,f.numericInput?e:e-1,f),g.buffer&&(g.refreshFromBuffer=g.buffer.join("")!==d.join("")),g}}if(f.autoGroup)return g=f.postFormat(d,f.numericInput?e:e-1,f),g.caret=e<(g.isNegative?f.negationSymbol.front.length:0)+f.prefix.length||e>g.buffer.length-(g.isNegative?f.negationSymbol.back.length:0)?g.pos:g.pos+1,g},regex:{integerPart:function(a){return new RegExp("["+b.escapeRegex(a.negationSymbol.front)+"+]?\\d+")},integerNPart:function(a){return new RegExp("[\\d"+b.escapeRegex(a.groupSeparator)+b.escapeRegex(a.placeholder.charAt(0))+"]+")}},signHandler:function(a,b,c,d,e){if(!d&&e.allowMinus&&"-"===a||e.allowPlus&&"+"===a){var f=b.buffer.join("").match(e.regex.integerPart(e));if(f&&f[0].length>0)return b.buffer[f.index]===("-"===a?"+":e.negationSymbol.front)?"-"===a?""!==e.negationSymbol.back?{pos:0,c:e.negationSymbol.front,remove:0,caret:c,insert:{pos:b.buffer.length-1,c:e.negationSymbol.back}}:{pos:0,c:e.negationSymbol.front,remove:0,caret:c}:""!==e.negationSymbol.back?{pos:0,c:"+",remove:[0,b.buffer.length-1],caret:c}:{pos:0,c:"+",remove:0,caret:c}:b.buffer[0]===("-"===a?e.negationSymbol.front:"+")?"-"===a&&""!==e.negationSymbol.back?{remove:[0,b.buffer.length-1],caret:c-1}:{remove:0,caret:c-1}:"-"===a?""!==e.negationSymbol.back?{pos:0,c:e.negationSymbol.front,caret:c+1,insert:{pos:b.buffer.length,c:e.negationSymbol.back}}:{pos:0,c:e.negationSymbol.front,caret:c+1}:{pos:0,c:a,caret:c+1}}return!1},radixHandler:function(b,c,d,e,f){if(!e&&f.numericInput!==!0&&b===f.radixPoint&&void 0!==f.digits&&(isNaN(f.digits)||parseInt(f.digits)>0)){var g=a.inArray(f.radixPoint,c.buffer),h=c.buffer.join("").match(f.regex.integerPart(f));if(g!==-1&&c.validPositions[g])return c.validPositions[g-1]?{caret:g+1}:{pos:h.index,c:h[0],caret:g+1};if(!h||"0"===h[0]&&h.index+1!==d)return c.buffer[h?h.index:d]="0",{pos:(h?h.index:d)+1,c:f.radixPoint}}return!1},leadingZeroHandler:function(b,c,d,e,f,g){if(!e){var h=d,i=f.numericInput===!0?c.buffer.slice("").reverse():c.buffer.slice("");f.numericInput&&(d=i.join("").length-d-1),i.splice(0,f.prefix.length),i.splice(i.length-f.suffix.length,f.suffix.length),d-=f.prefix.length;var j=a.inArray(f.radixPoint,i),k=i.slice(0,j!==-1?j:void 0).join("").match(f.regex.integerNPart(f));if(k&&(j===-1||d<=j||f.numericInput)){var l=j===-1?0:parseInt(i.slice(j+1).join("")),m=0===k[0].indexOf(""!==f.placeholder?f.placeholder.charAt(0):"0");if(f.numericInput){if(m&&0!==l&&g!==!0)return c.buffer.splice(i.length-k.index-1+f.suffix.length,1),{pos:h,remove:i.length-k.index-1+f.suffix.length}}else{if(m&&(k.index+1===d||g!==!0&&0===l))return c.buffer.splice(k.index+f.prefix.length,1),{pos:k.index+f.prefix.length,remove:k.index+f.prefix.length};if("0"===b&&d<=k.index&&k[0]!==f.groupSeparator)return!1}}}return!0},definitions:{"~":{validator:function(c,d,e,f,g,h){var i=g.signHandler(c,d,e,f,g);if(!i&&(i=g.radixHandler(c,d,e,f,g),!i&&(i=f?new RegExp("[0-9"+b.escapeRegex(g.groupSeparator)+"]").test(c):new RegExp("[0-9]").test(c),i===!0&&(i=g.leadingZeroHandler(c,d,e,f,g,h),i===!0&&g.numericInput!==!0)))){var j=a.inArray(g.radixPoint,d.buffer);i=j!==-1&&(g.digitsOptional===!1||d.validPositions[e])&&g.numericInput!==!0&&e>j&&!f?{pos:e,remove:e}:{pos:e}}return i},cardinality:1},"+":{validator:function(a,b,c,d,e){var f=e.signHandler(a,b,c,d,e);return!f&&(d&&e.allowMinus&&a===e.negationSymbol.front||e.allowMinus&&"-"===a||e.allowPlus&&"+"===a)&&(f=!(!d&&"-"===a)||(""!==e.negationSymbol.back?{pos:c,c:"-"===a?e.negationSymbol.front:"+",caret:c+1,insert:{pos:b.buffer.length,c:e.negationSymbol.back}}:{pos:c,c:"-"===a?e.negationSymbol.front:"+",caret:c+1})),f},cardinality:1,placeholder:""},"-":{validator:function(a,b,c,d,e){var f=e.signHandler(a,b,c,d,e);return!f&&d&&e.allowMinus&&a===e.negationSymbol.back&&(f=!0),f},cardinality:1,placeholder:""},":":{validator:function(a,c,d,e,f){var g=f.signHandler(a,c,d,e,f);if(!g){var h="["+b.escapeRegex(f.radixPoint)+"]";g=new RegExp(h).test(a),g&&c.validPositions[d]&&c.validPositions[d].match.placeholder===f.radixPoint&&(g={caret:d+1})}return g},cardinality:1,placeholder:function(a){return a.radixPoint}}},onUnMask:function(a,c,d){if(""===c&&d.nullable===!0)return c;var e=a.replace(d.prefix,"");return e=e.replace(d.suffix,""),e=e.replace(new RegExp(b.escapeRegex(d.groupSeparator),"g"),""),d.unmaskAsNumber?(""!==d.radixPoint&&e.indexOf(d.radixPoint)!==-1&&(e=e.replace(b.escapeRegex.call(this,d.radixPoint),".")),Number(e)):e},isComplete:function(a,c){var d=a.join(""),e=a.slice();if(c.postFormat(e,0,c),e.join("")!==d)return!1;var f=d.replace(c.prefix,"");return f=f.replace(c.suffix,""),f=f.replace(new RegExp(b.escapeRegex(c.groupSeparator),"g"),""),","===c.radixPoint&&(f=f.replace(b.escapeRegex(c.radixPoint),".")),isFinite(f)},onBeforeMask:function(a,c){if(a=a.toString(),c.numericInput===!0&&(a=a.split("").reverse().join("")),""!==c.radixPoint&&isFinite(a)){var d=a.split("."),e=""!==c.groupSeparator?parseInt(c.groupSize):0;2===d.length&&(d[0].length>e||d[1].length>e)&&(a=a.replace(".",c.radixPoint))}var f=a.match(/,/g),g=a.match(/\./g);if(g&&f?g.length>f.length?(a=a.replace(/\./g,""),a=a.replace(",",c.radixPoint)):f.length>g.length?(a=a.replace(/,/g,""),a=a.replace(".",c.radixPoint)):a=a.indexOf(".")<a.indexOf(",")?a.replace(/\./g,""):a=a.replace(/,/g,""):a=a.replace(new RegExp(b.escapeRegex(c.groupSeparator),"g"),""),0===c.digits&&(a.indexOf(".")!==-1?a=a.substring(0,a.indexOf(".")):a.indexOf(",")!==-1&&(a=a.substring(0,a.indexOf(",")))),""!==c.radixPoint&&isFinite(c.digits)&&a.indexOf(c.radixPoint)!==-1){var h=a.split(c.radixPoint),i=h[1].match(new RegExp("\\d*"))[0];if(parseInt(c.digits)<i.toString().length){var j=Math.pow(10,parseInt(c.digits));a=a.replace(b.escapeRegex(c.radixPoint),"."),a=Math.round(parseFloat(a)*j)/j,a=a.toString().replace(".",c.radixPoint)}}return c.numericInput===!0&&(a=a.split("").reverse().join("")),a},canClearPosition:function(a,b,c,d,e){var f=a.validPositions[b].input,g=f!==e.radixPoint||null!==a.validPositions[b].match.fn&&e.decimalProtect===!1||isFinite(f)||b===c||f===e.groupSeparator||f===e.negationSymbol.front||f===e.negationSymbol.back;return g},onKeyDown:function(c,d,e,f){var g=a(this);if(c.ctrlKey)switch(c.keyCode){case b.keyCode.UP:g.val(parseFloat(this.inputmask.unmaskedvalue())+parseInt(f.step)),g.trigger("setvalue");break;case b.keyCode.DOWN:g.val(parseFloat(this.inputmask.unmaskedvalue())-parseInt(f.step)),g.trigger("setvalue")}}},currency:{prefix:"$ ",groupSeparator:",",alias:"numeric",placeholder:"0",autoGroup:!0,digits:2,digitsOptional:!1,clearMaskOnLostFocus:!1},decimal:{alias:"numeric"},integer:{alias:"numeric",digits:0,radixPoint:""},percentage:{alias:"numeric",digits:2,radixPoint:".",placeholder:"0",autoGroup:!1,min:0,max:100,suffix:" %",allowPlus:!1,allowMinus:!1}}),b}(jQuery,Inputmask),function(a,b){function c(a,b){var c=(a.mask||a).replace(/#/g,"9").replace(/\)/,"9").replace(/[+()#-]/g,""),d=(b.mask||b).replace(/#/g,"9").replace(/\)/,"9").replace(/[+()#-]/g,""),e=(a.mask||a).split("#")[0],f=(b.mask||b).split("#")[0];return 0===f.indexOf(e)?-1:0===e.indexOf(f)?1:c.localeCompare(d)}var d=b.prototype.analyseMask;return b.prototype.analyseMask=function(b,c){function e(a,c,d){c=c||"",d=d||g,""!==c&&(d[c]={});for(var f="",h=d[c]||d,i=a.length-1;i>=0;i--)b=a[i].mask||a[i],f=b.substr(0,1),h[f]=h[f]||[],h[f].unshift(b.substr(1)),a.splice(i,1);for(var j in h)h[j].length>500&&e(h[j].slice(),j,h)}function f(b){var d="",e=[];for(var g in b)a.isArray(b[g])?1===b[g].length?e.push(g+b[g]):e.push(g+c.groupmarker.start+b[g].join(c.groupmarker.end+c.alternatormarker+c.groupmarker.start)+c.groupmarker.end):e.push(g+f(b[g]));return d+=1===e.length?e[0]:c.groupmarker.start+e.join(c.groupmarker.end+c.alternatormarker+c.groupmarker.start)+c.groupmarker.end}var g={};c.phoneCodes&&(c.phoneCodes&&c.phoneCodes.length>1e3&&(b=b.substr(1,b.length-2),e(b.split(c.groupmarker.end+c.alternatormarker+c.groupmarker.start)),b=f(g)),b=b.replace(/9/g,"\\9"));var h=d.call(this,b,c);return h},b.extendAliases({abstractphone:{groupmarker:{start:"<",end:">"},countrycode:"",phoneCodes:[],mask:function(a){return a.definitions={"#":b.prototype.definitions[9]},a.phoneCodes.sort(c)},keepStatic:!0,onBeforeMask:function(a,b){var c=a.replace(/^0{1,2}/,"").replace(/[\s]/g,"");return(c.indexOf(b.countrycode)>1||c.indexOf(b.countrycode)===-1)&&(c="+"+b.countrycode+c),c},onUnMask:function(a,b,c){return b},inputmode:"tel"}}),b}(jQuery,Inputmask),function(a,b){return b.extendAliases({Regex:{mask:"r",greedy:!1,repeat:"*",regex:null,regexTokens:null,tokenizer:/\[\^?]?(?:[^\\\]]+|\\[\S\s]?)*]?|\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9][0-9]*|x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4}|c[A-Za-z]|[\S\s]?)|\((?:\?[:=!]?)?|(?:[?*+]|\{[0-9]+(?:,[0-9]*)?\})\??|[^.?*+^${[()|\\]+|./g,quantifierFilter:/[0-9]+[^,]/,isComplete:function(a,b){return new RegExp(b.regex,b.casing?"i":"").test(a.join(""))},definitions:{r:{validator:function(b,c,d,e,f){function g(a,b){this.matches=[],this.isGroup=a||!1,this.isQuantifier=b||!1,this.quantifier={min:1,max:1},this.repeaterPart=void 0}function h(){var a,b,c=new g,d=[];for(f.regexTokens=[];a=f.tokenizer.exec(f.regex);)switch(b=a[0],b.charAt(0)){case"(":d.push(new g((!0)));break;case")":k=d.pop(),d.length>0?d[d.length-1].matches.push(k):c.matches.push(k);break;case"{":case"+":case"*":var e=new g((!1),(!0));b=b.replace(/[{}]/g,"");var h=b.split(","),i=isNaN(h[0])?h[0]:parseInt(h[0]),j=1===h.length?i:isNaN(h[1])?h[1]:parseInt(h[1]);if(e.quantifier={min:i,max:j},d.length>0){var l=d[d.length-1].matches;a=l.pop(),a.isGroup||(k=new g((!0)),k.matches.push(a),a=k),l.push(a),l.push(e)}else a=c.matches.pop(),a.isGroup||(k=new g((!0)),k.matches.push(a),a=k),c.matches.push(a),c.matches.push(e);break;default:d.length>0?d[d.length-1].matches.push(b):c.matches.push(b)}c.matches.length>0&&f.regexTokens.push(c)}function i(b,c){var d=!1;c&&(m+="(",o++);for(var e=0;e<b.matches.length;e++){var g=b.matches[e];if(g.isGroup===!0)d=i(g,!0);else if(g.isQuantifier===!0){var h=a.inArray(g,b.matches),k=b.matches[h-1],l=m;if(isNaN(g.quantifier.max)){for(;g.repeaterPart&&g.repeaterPart!==m&&g.repeaterPart.length>m.length&&!(d=i(k,!0)););d=d||i(k,!0),d&&(g.repeaterPart=m),m=l+g.quantifier.max}else{for(var n=0,p=g.quantifier.max-1;n<p&&!(d=i(k,!0));n++);m=l+"{"+g.quantifier.min+","+g.quantifier.max+"}"}}else if(void 0!==g.matches)for(var q=0;q<g.length&&!(d=i(g[q],c));q++);else{var r;if("["==g.charAt(0)){r=m,r+=g;for(var s=0;s<o;s++)r+=")";var t=new RegExp("^("+r+")$",f.casing?"i":"");d=t.test(j)}else for(var u=0,v=g.length;u<v;u++)if("\\"!==g.charAt(u)){r=m,r+=g.substr(0,u+1),r=r.replace(/\|$/,"");for(var s=0;s<o;s++)r+=")";var t=new RegExp("^("+r+")$",f.casing?"i":"");if(d=t.test(j))break}m+=g}if(d)break}return c&&(m+=")",o--),d}var j,k,l=c.buffer.slice(),m="",n=!1,o=0;null===f.regexTokens&&h(),l.splice(d,0,b),j=l.join("");for(var p=0;p<f.regexTokens.length;p++){var q=f.regexTokens[p];if(n=i(q,q.isGroup))break}return n},cardinality:1}}}}),b}(jQuery,Inputmask);!function(t){t.masksLoad=function(e){var s;return t.ajax({url:e,async:!1,dataType:"json",success:function(t){s=t}}),s},t.masksSort=function(e,s,i,n){return e.sort(function(e,a){for(var r=0,o=0;r<e[n].length&&o<a[n].length;){var h=e[n].charAt(r),c=a[n].charAt(o);if(i.test(h))if(i.test(c)){if(-1!=t.inArray(h,s)&&-1==t.inArray(c,s))return 1;if(-1==t.inArray(h,s)&&-1!=t.inArray(c,s))return-1;if(-1==t.inArray(h,s)&&-1==t.inArray(c,s)&&h!=c)return c>h?-1:1;r++,o++}else o++;else r++}for(;r<e[n].length||o<a[n].length;)if(r<e[n].length&&!i.test(e[n].charAt(r)))r++;else if(o<a[n].length&&!i.test(a[n].charAt(o)))o++;else{if(r<e[n].length)return 1;if(o<a[n].length)return-1}return 0}),e};var e=function(t,e){if("number"!=typeof t){if(this.setSelectionRange)t=this.selectionStart,e=this.selectionEnd;else if(document.selection&&document.selection.createRange){var s=document.selection.createRange();t=0-s.duplicate().moveStart("character",-1e5),e=t+s.text.length}return{begin:t,end:e}}if(e="number"==typeof e?e:t,this.setSelectionRange)this.setSelectionRange(t,e);else if(this.createTextRange){var s=this.createTextRange();s.collapse(!0),s.moveEnd("character",e),s.moveStart("character",t),s.select()}},s=Object.keys||function(t){if(t!==Object(t))throw new TypeError("Invalid object");var e=[];for(var s in t)e[e.length]=s;return e},i=function(t){for(var e=this.inputmasks.options,i="",n=0;n<t.length;n++){var a=t.charAt(n);if(a==this.inputmasks.placeholder)break;e.match.test(a)&&(i+=a)}for(var r in e.list){for(var o=e.list[r][e.listKey],h=!0,c=0,u=0;c<i.length&&u<o.length;){var l=o.charAt(u),p=i.charAt(c);if(e.match.test(l)||l in this.inputmasks.defs){if(!(l in this.inputmasks.defs&&this.inputmasks.defs[l].test(p)||p==l)){h=!1;break}c++,u++}else u++}if(h&&c==i.length){var m=-1==o.substr(u).search(e.match);o=o.replace(new RegExp([e.match.source].concat(s(this.inputmasks.defs)).join("|"),"g"),e.replace);var d=-1==o.substr(u).search(e.replace);return{mask:o,obj:e.list[r],determined:m,completed:d}}}return!1},n=function(t,e,s){var i=this.inputmasks.options;if(!t)return 0;for(var n=0,a=0;n<s.begin;n++)t.charAt(n)==i.replace&&a++;for(var r=0;n<s.end;n++)t.charAt(n)==i.replace&&r++;for(n=0;n<e.length&&(a>0||e.charAt(n)!=i.replace);n++)e.charAt(n)==i.replace&&a--;for(a=n;n<e.length&&r>0;n++)e.charAt(n)==i.replace&&r--;return r=n,{begin:a,end:r}},a=function(){t(this).off(".inputmasks")},r=function(){events=t._data(this,"events");var e=["keydown","keypress","paste","dragdrop","drop","setvalue","reset","cut","blur"],s=this;t.each(e,function(e,i){t.each(s.inputmask.events[i],function(e,n){t(s).off(i,n)})})},o=function(e){var s=this;t.each(this.inputmask.events[e.type],function(t,i){i.call(s,e)})},h=function(){t(this).on("keydown.inputmasks",l).on("keypress.inputmasks",p).on("paste.inputmasks",d).on("dragdrop.inputmasks",d).on("drop.inputmasks",d).on("cut.inputmasks",d).on("setvalue.inputmasks",m).on("blur.inputmasks",m).on("reset.inputmasks",m)},c=function(s,i){var a=this.inputmasks.options;if(s&&(void 0!==i||s.mask!=this.inputmasks.oldmatch.mask)){var o;void 0===i?o=n.call(this,this.inputmasks.oldmatch.mask,s.mask,e.call(this)):(this.inputmask&&this.inputmask.remove(),this.value=i),t(this).inputmask(s.mask,t.extend(!0,a.inputmask,{insertMode:this.inputmasks.insertMode})),r.call(this),void 0===i&&e.call(this,o.begin,o.end)}this.inputmasks.oldmatch=s,a.onMaskChange.call(this,s.obj,s.determined)},u=function(t,e,s){var n=i.call(this,e);return n&&n.obj==this.inputmasks.oldmatch.obj&&n.determined==this.inputmasks.oldmatch.determined?(o.call(this,t),!0):(n?s?(c.call(this,n),o.call(this,t)):(o.call(this,t),c.call(this,n)):s&&this.inputmasks.insertMode||f.call(this,e),!1)},l=function(t){if(t.metaKey)return o.call(this,t),!0;var s=this.inputmasks.options;t=t||window.event;var i=t.which||t.charCode||t.keyCode;if(8==i||46==i||this.inputmasks.iphone&&127==i){var n=this.inputmask._valueGet(),a=e.call(this);if(a.begin==a.end){var r=a.begin;do{46!=i&&r--;var h=n.charAt(r);n=n.substring(0,r)+n.substring(r+1)}while(r>0&&r<n.length&&h!=this.inputmasks.placeholder&&!s.match.test(h))}else n=n.substring(0,a.begin)+n.substring(a.end);return u.call(this,t,n,!1)}return 45==i&&(this.inputmasks.insertMode=!this.inputmasks.insertMode),o.call(this,t),!0},p=function(t){if(t.metaKey)return o.call(this,t),!0;var s=this.inputmask._valueGet();t=t||window.event;var i=t.which||t.charCode||t.keyCode,n=String.fromCharCode(i);return caretPos=e.call(this),s=caretPos.begin==caretPos.end&&s.charAt(caretPos.begin)==this.inputmasks.placeholder?s.substring(0,caretPos.begin)+n+s.substring(caretPos.end+1):s.substring(0,caretPos.begin)+n+s.substring(caretPos.end),u.call(this,t,s,!0)},m=function(t){return f.call(this),!0},d=function(t){var e=this;return setTimeout(function(){f.call(e)},0),!0},f=function(t){void 0===t&&(t=this.inputmask&&this.inputmask._valueGet?this.inputmask._valueGet():this.value);for(var e=i.call(this,t);!e&&t.length>0;)t=t.substr(0,t.length-1),e=i.call(this,t);c.call(this,e,t)},k=function(e){e=t.extend(!0,{onMaskChange:t.noop},e);var s={};for(var i in e.inputmask.definitions){var n=e.inputmask.definitions[i].validator;switch(typeof n){case"string":s[i]=new RegExp(n);break;case"object":"test"in e.definitions[i].validator&&(s[i]=n);break;case"function":s[i]={test:n}}}e.inputmask.definitions[e.replace]={validator:e.match.source,cardinality:1},this.inputmasks&&t(this).inputmasks("remove"),this.inputmasks={},this.inputmasks.options=e,this.inputmasks.defs=s,this.inputmasks.iphone=null!=navigator.userAgent.match(/iphone/i),this.inputmasks.oldmatch=!1,this.inputmasks.placeholder=e.inputmask.placeholder||Inputmask.prototype.defaults.placeholder,this.inputmasks.insertMode=void 0!==e.inputmask.insertMode?e.inputmask.insertMode:Inputmask.prototype.defaults.insertMode,f.call(this)};t.fn.inputmasks=function(e){switch(e){case"remove":a.call(this),this.inputmasks=void 0,t(this).inputmask("remove");break;case"isCompleted":var s=i.call(this[0],this[0].inputmask&&this[0].inputmask._valueGet()||this[0].value);return s&&s.completed;default:return this.each(function(){k.call(this,e),h.call(this)}),this}}}(jQuery);(function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)})(function(t){t.ui=t.ui||{},t.ui.version="1.12.1";var e=0,i=Array.prototype.slice;t.cleanData=function(e){return function(i){var s,n,o;for(o=0;null!=(n=i[o]);o++)try{s=t._data(n,"events"),s&&s.remove&&t(n).triggerHandler("remove")}catch(a){}e(i)}}(t.cleanData),t.widget=function(e,i,s){var n,o,a,r={},l=e.split(".")[0];e=e.split(".")[1];var h=l+"-"+e;return s||(s=i,i=t.Widget),t.isArray(s)&&(s=t.extend.apply(null,[{}].concat(s))),t.expr[":"][h.toLowerCase()]=function(e){return!!t.data(e,h)},t[l]=t[l]||{},n=t[l][e],o=t[l][e]=function(t,e){return this._createWidget?(arguments.length&&this._createWidget(t,e),void 0):new o(t,e)},t.extend(o,n,{version:s.version,_proto:t.extend({},s),_childConstructors:[]}),a=new i,a.options=t.widget.extend({},a.options),t.each(s,function(e,s){return t.isFunction(s)?(r[e]=function(){function t(){return i.prototype[e].apply(this,arguments)}function n(t){return i.prototype[e].apply(this,t)}return function(){var e,i=this._super,o=this._superApply;return this._super=t,this._superApply=n,e=s.apply(this,arguments),this._super=i,this._superApply=o,e}}(),void 0):(r[e]=s,void 0)}),o.prototype=t.widget.extend(a,{widgetEventPrefix:n?a.widgetEventPrefix||e:e},r,{constructor:o,namespace:l,widgetName:e,widgetFullName:h}),n?(t.each(n._childConstructors,function(e,i){var s=i.prototype;t.widget(s.namespace+"."+s.widgetName,o,i._proto)}),delete n._childConstructors):i._childConstructors.push(o),t.widget.bridge(e,o),o},t.widget.extend=function(e){for(var s,n,o=i.call(arguments,1),a=0,r=o.length;r>a;a++)for(s in o[a])n=o[a][s],o[a].hasOwnProperty(s)&&void 0!==n&&(e[s]=t.isPlainObject(n)?t.isPlainObject(e[s])?t.widget.extend({},e[s],n):t.widget.extend({},n):n);return e},t.widget.bridge=function(e,s){var n=s.prototype.widgetFullName||e;t.fn[e]=function(o){var a="string"==typeof o,r=i.call(arguments,1),l=this;return a?this.length||"instance"!==o?this.each(function(){var i,s=t.data(this,n);return"instance"===o?(l=s,!1):s?t.isFunction(s[o])&&"_"!==o.charAt(0)?(i=s[o].apply(s,r),i!==s&&void 0!==i?(l=i&&i.jquery?l.pushStack(i.get()):i,!1):void 0):t.error("no such method '"+o+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; "+"attempted to call method '"+o+"'")}):l=void 0:(r.length&&(o=t.widget.extend.apply(null,[o].concat(r))),this.each(function(){var e=t.data(this,n);e?(e.option(o||{}),e._init&&e._init()):t.data(this,n,new s(o,this))})),l}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(i,s){s=t(s||this.defaultElement||this)[0],this.element=t(s),this.uuid=e++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),this.classesElementLookup={},s!==this&&(t.data(s,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===s&&this.destroy()}}),this.document=t(s.style?s.ownerDocument:s.document||s),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),i),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){var e=this;this._destroy(),t.each(this.classesElementLookup,function(t,i){e._removeClass(i,t)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:t.noop,widget:function(){return this.element},option:function(e,i){var s,n,o,a=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(a={},s=e.split("."),e=s.shift(),s.length){for(n=a[e]=t.widget.extend({},this.options[e]),o=0;s.length-1>o;o++)n[s[o]]=n[s[o]]||{},n=n[s[o]];if(e=s.pop(),1===arguments.length)return void 0===n[e]?null:n[e];n[e]=i}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];a[e]=i}return this._setOptions(a),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return"classes"===t&&this._setOptionClasses(e),this.options[t]=e,"disabled"===t&&this._setOptionDisabled(e),this},_setOptionClasses:function(e){var i,s,n;for(i in e)n=this.classesElementLookup[i],e[i]!==this.options.classes[i]&&n&&n.length&&(s=t(n.get()),this._removeClass(n,i),s.addClass(this._classes({element:s,keys:i,classes:e,add:!0})))},_setOptionDisabled:function(t){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!t),t&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(e){function i(i,o){var a,r;for(r=0;i.length>r;r++)a=n.classesElementLookup[i[r]]||t(),a=e.add?t(t.unique(a.get().concat(e.element.get()))):t(a.not(e.element).get()),n.classesElementLookup[i[r]]=a,s.push(i[r]),o&&e.classes[i[r]]&&s.push(e.classes[i[r]])}var s=[],n=this;return e=t.extend({element:this.element,classes:this.options.classes||{}},e),this._on(e.element,{remove:"_untrackClassesElement"}),e.keys&&i(e.keys.match(/\S+/g)||[],!0),e.extra&&i(e.extra.match(/\S+/g)||[]),s.join(" ")},_untrackClassesElement:function(e){var i=this;t.each(i.classesElementLookup,function(s,n){-1!==t.inArray(e.target,n)&&(i.classesElementLookup[s]=t(n.not(e.target).get()))})},_removeClass:function(t,e,i){return this._toggleClass(t,e,i,!1)},_addClass:function(t,e,i){return this._toggleClass(t,e,i,!0)},_toggleClass:function(t,e,i,s){s="boolean"==typeof s?s:i;var n="string"==typeof t||null===t,o={extra:n?e:i,keys:n?t:e,element:n?this.element:t,add:s};return o.element.toggleClass(this._classes(o),s),this},_on:function(e,i,s){var n,o=this;"boolean"!=typeof e&&(s=i,i=e,e=!1),s?(i=n=t(i),this.bindings=this.bindings.add(i)):(s=i,i=this.element,n=this.widget()),t.each(s,function(s,a){function r(){return e||o.options.disabled!==!0&&!t(this).hasClass("ui-state-disabled")?("string"==typeof a?o[a]:a).apply(o,arguments):void 0}"string"!=typeof a&&(r.guid=a.guid=a.guid||r.guid||t.guid++);var l=s.match(/^([\w:-]*)\s*(.*)$/),h=l[1]+o.eventNamespace,c=l[2];c?n.on(h,c,r):i.on(h,r)})},_off:function(e,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.off(i).off(i),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){function i(){return("string"==typeof t?s[t]:t).apply(s,arguments)}var s=this;return setTimeout(i,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){this._addClass(t(e.currentTarget),null,"ui-state-hover")},mouseleave:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){this._addClass(t(e.currentTarget),null,"ui-state-focus")},focusout:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-focus")}})},_trigger:function(e,i,s){var n,o,a=this.options[e];if(s=s||{},i=t.Event(i),i.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],o=i.originalEvent)for(n in o)n in i||(i[n]=o[n]);return this.element.trigger(i,s),!(t.isFunction(a)&&a.apply(this.element[0],[i].concat(s))===!1||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,i){t.Widget.prototype["_"+e]=function(s,n,o){"string"==typeof n&&(n={effect:n});var a,r=n?n===!0||"number"==typeof n?i:n.effect||i:e;n=n||{},"number"==typeof n&&(n={duration:n}),a=!t.isEmptyObject(n),n.complete=o,n.delay&&s.delay(n.delay),a&&t.effects&&t.effects.effect[r]?s[e](n):r!==e&&s[r]?s[r](n.duration,n.easing,o):s.queue(function(i){t(this)[e](),o&&o.call(s[0]),i()})}}),t.widget,t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(i){return!!t.data(i,e)}}):function(e,i,s){return!!t.data(e,s[3])}}),t.fn.scrollParent=function(e){var i=this.css("position"),s="absolute"===i,n=e?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter(function(){var e=t(this);return s&&"static"===e.css("position")?!1:n.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==i&&o.length?o:t(this[0].ownerDocument||document)},t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());var s=!1;t(document).on("mouseup",function(){s=!1}),t.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.on("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).on("click."+this.widgetName,function(i){return!0===t.data(i.target,e.widgetName+".preventClickEvent")?(t.removeData(i.target,e.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!s){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var i=this,n=1===e.which,o="string"==typeof this.options.cancel&&e.target.nodeName?t(e.target).closest(this.options.cancel).length:!1;return n&&!o&&this._mouseCapture(e)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(e)!==!1,!this._mouseStarted)?(e.preventDefault(),!0):(!0===t.data(e.target,this.widgetName+".preventClickEvent")&&t.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return i._mouseMove(t)},this._mouseUpDelegate=function(t){return i._mouseUp(t)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),s=!0,!0)):!0}},_mouseMove:function(e){if(this._mouseMoved){if(t.ui.ie&&(!document.documentMode||9>document.documentMode)&&!e.button)return this._mouseUp(e);if(!e.which)if(e.originalEvent.altKey||e.originalEvent.ctrlKey||e.originalEvent.metaKey||e.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==!1,this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,s=!1,e.preventDefault()},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),t.ui.plugin={add:function(e,i,s){var n,o=t.ui[e].prototype;for(n in s)o.plugins[n]=o.plugins[n]||[],o.plugins[n].push([i,s[n]])},call:function(t,e,i,s){var n,o=t.plugins[e];if(o&&(s||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(n=0;o.length>n;n++)t.options[o[n][0]]&&o[n][1].apply(t.element,i)}},t.ui.safeActiveElement=function(t){var e;try{e=t.activeElement}catch(i){e=t.body}return e||(e=t.body),e.nodeName||(e=t.body),e},t.ui.safeBlur=function(e){e&&"body"!==e.nodeName.toLowerCase()&&t(e).trigger("blur")},t.widget("ui.draggable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(t,e){this._super(t,e),"handle"===t&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?(this.destroyOnClear=!0,void 0):(this._removeHandleClassName(),this._mouseDestroy(),void 0)},_mouseCapture:function(e){var i=this.options;return this.helper||i.disabled||t(e.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(e),this.handle?(this._blurActiveElement(e),this._blockFrames(i.iframeFix===!0?"iframe":i.iframeFix),!0):!1)},_blockFrames:function(e){this.iframeBlocks=this.document.find(e).map(function(){var e=t(this);return t("<div>").css("position","absolute").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(e){var i=t.ui.safeActiveElement(this.document[0]),s=t(e.target);s.closest(i).length||t.ui.safeBlur(i)},_mouseStart:function(e){var i=this.options;return this.helper=this._createHelper(e),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===t(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(e),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),this._trigger("start",e)===!1?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!i.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_refreshOffsets:function(t){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:t.pageX-this.offset.left,top:t.pageY-this.offset.top}},_mouseDrag:function(e,i){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!i){var s=this._uiHash();if(this._trigger("drag",e,s)===!1)return this._mouseUp(new t.Event("mouseup",e)),!1;this.position=s.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var i=this,s=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(s=t.ui.ddmanager.drop(this,e)),this.dropped&&(s=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!s||"valid"===this.options.revert&&s||this.options.revert===!0||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,s)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){i._trigger("stop",e)!==!1&&i._clear()}):this._trigger("stop",e)!==!1&&this._clear(),!1},_mouseUp:function(e){return this._unblockFrames(),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),this.handleElement.is(e.target)&&this.element.trigger("focus"),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new t.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(e){return this.options.handle?!!t(e.target).closest(this.element.find(this.options.handle)).length:!0},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(e){var i=this.options,s=t.isFunction(i.helper),n=s?t(i.helper.apply(this.element[0],[e])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return n.parents("body").length||n.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),s&&n[0]===this.element[0]&&this._setPositionRelative(),n[0]===this.element[0]||/(fixed|absolute)/.test(n.css("position"))||n.css("position","absolute"),n},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),i=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==i&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(e?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,s,n=this.options,o=this.document[0];return this.relativeContainer=null,n.containment?"window"===n.containment?(this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):"document"===n.containment?(this.containment=[0,0,t(o).width()-this.helperProportions.width-this.margins.left,(t(o).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):n.containment.constructor===Array?(this.containment=n.containment,void 0):("parent"===n.containment&&(n.containment=this.helper[0].parentNode),i=t(n.containment),s=i[0],s&&(e=/(scroll|auto)/.test(i.css("overflow")),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(e?Math.max(s.scrollWidth,s.offsetWidth):s.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(s.scrollHeight,s.offsetHeight):s.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=i),void 0):(this.containment=null,void 0)},_convertPositionTo:function(t,e){e||(e=this.position);var i="absolute"===t?1:-1,s=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.offset.scroll.top:s?0:this.offset.scroll.top)*i,left:e.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.offset.scroll.left:s?0:this.offset.scroll.left)*i}},_generatePosition:function(t,e){var i,s,n,o,a=this.options,r=this._isRootNode(this.scrollParent[0]),l=t.pageX,h=t.pageY;return r&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(this.relativeContainer?(s=this.relativeContainer.offset(),i=[this.containment[0]+s.left,this.containment[1]+s.top,this.containment[2]+s.left,this.containment[3]+s.top]):i=this.containment,t.pageX-this.offset.click.left<i[0]&&(l=i[0]+this.offset.click.left),t.pageY-this.offset.click.top<i[1]&&(h=i[1]+this.offset.click.top),t.pageX-this.offset.click.left>i[2]&&(l=i[2]+this.offset.click.left),t.pageY-this.offset.click.top>i[3]&&(h=i[3]+this.offset.click.top)),a.grid&&(n=a.grid[1]?this.originalPageY+Math.round((h-this.originalPageY)/a.grid[1])*a.grid[1]:this.originalPageY,h=i?n-this.offset.click.top>=i[1]||n-this.offset.click.top>i[3]?n:n-this.offset.click.top>=i[1]?n-a.grid[1]:n+a.grid[1]:n,o=a.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/a.grid[0])*a.grid[0]:this.originalPageX,l=i?o-this.offset.click.left>=i[0]||o-this.offset.click.left>i[2]?o:o-this.offset.click.left>=i[0]?o-a.grid[0]:o+a.grid[0]:o),"y"===a.axis&&(l=this.originalPageX),"x"===a.axis&&(h=this.originalPageY)),{top:h-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:r?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:r?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(e,i,s){return s=s||this._uiHash(),t.ui.plugin.call(this,e,[i,s,this],!0),/^(drag|start|stop)/.test(e)&&(this.positionAbs=this._convertPositionTo("absolute"),s.offset=this.positionAbs),t.Widget.prototype._trigger.call(this,e,i,s)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,i,s){var n=t.extend({},i,{item:s.element});s.sortables=[],t(s.options.connectToSortable).each(function(){var i=t(this).sortable("instance");i&&!i.options.disabled&&(s.sortables.push(i),i.refreshPositions(),i._trigger("activate",e,n))})},stop:function(e,i,s){var n=t.extend({},i,{item:s.element});s.cancelHelperRemoval=!1,t.each(s.sortables,function(){var t=this;t.isOver?(t.isOver=0,s.cancelHelperRemoval=!0,t.cancelHelperRemoval=!1,t._storedCSS={position:t.placeholder.css("position"),top:t.placeholder.css("top"),left:t.placeholder.css("left")},t._mouseStop(e),t.options.helper=t.options._helper):(t.cancelHelperRemoval=!0,t._trigger("deactivate",e,n))})},drag:function(e,i,s){t.each(s.sortables,function(){var n=!1,o=this;o.positionAbs=s.positionAbs,o.helperProportions=s.helperProportions,o.offset.click=s.offset.click,o._intersectsWith(o.containerCache)&&(n=!0,t.each(s.sortables,function(){return this.positionAbs=s.positionAbs,this.helperProportions=s.helperProportions,this.offset.click=s.offset.click,this!==o&&this._intersectsWith(this.containerCache)&&t.contains(o.element[0],this.element[0])&&(n=!1),n})),n?(o.isOver||(o.isOver=1,s._parent=i.helper.parent(),o.currentItem=i.helper.appendTo(o.element).data("ui-sortable-item",!0),o.options._helper=o.options.helper,o.options.helper=function(){return i.helper[0]},e.target=o.currentItem[0],o._mouseCapture(e,!0),o._mouseStart(e,!0,!0),o.offset.click.top=s.offset.click.top,o.offset.click.left=s.offset.click.left,o.offset.parent.left-=s.offset.parent.left-o.offset.parent.left,o.offset.parent.top-=s.offset.parent.top-o.offset.parent.top,s._trigger("toSortable",e),s.dropped=o.element,t.each(s.sortables,function(){this.refreshPositions()}),s.currentItem=s.element,o.fromOutside=s),o.currentItem&&(o._mouseDrag(e),i.position=o.position)):o.isOver&&(o.isOver=0,o.cancelHelperRemoval=!0,o.options._revert=o.options.revert,o.options.revert=!1,o._trigger("out",e,o._uiHash(o)),o._mouseStop(e,!0),o.options.revert=o.options._revert,o.options.helper=o.options._helper,o.placeholder&&o.placeholder.remove(),i.helper.appendTo(s._parent),s._refreshOffsets(e),i.position=s._generatePosition(e,!0),s._trigger("fromSortable",e),s.dropped=!1,t.each(s.sortables,function(){this.refreshPositions()}))})}}),t.ui.plugin.add("draggable","cursor",{start:function(e,i,s){var n=t("body"),o=s.options;n.css("cursor")&&(o._cursor=n.css("cursor")),n.css("cursor",o.cursor)},stop:function(e,i,s){var n=s.options;n._cursor&&t("body").css("cursor",n._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,i,s){var n=t(i.helper),o=s.options;n.css("opacity")&&(o._opacity=n.css("opacity")),n.css("opacity",o.opacity)},stop:function(e,i,s){var n=s.options;n._opacity&&t(i.helper).css("opacity",n._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(t,e,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1)),i.scrollParentNotHidden[0]!==i.document[0]&&"HTML"!==i.scrollParentNotHidden[0].tagName&&(i.overflowOffset=i.scrollParentNotHidden.offset())},drag:function(e,i,s){var n=s.options,o=!1,a=s.scrollParentNotHidden[0],r=s.document[0];a!==r&&"HTML"!==a.tagName?(n.axis&&"x"===n.axis||(s.overflowOffset.top+a.offsetHeight-e.pageY<n.scrollSensitivity?a.scrollTop=o=a.scrollTop+n.scrollSpeed:e.pageY-s.overflowOffset.top<n.scrollSensitivity&&(a.scrollTop=o=a.scrollTop-n.scrollSpeed)),n.axis&&"y"===n.axis||(s.overflowOffset.left+a.offsetWidth-e.pageX<n.scrollSensitivity?a.scrollLeft=o=a.scrollLeft+n.scrollSpeed:e.pageX-s.overflowOffset.left<n.scrollSensitivity&&(a.scrollLeft=o=a.scrollLeft-n.scrollSpeed))):(n.axis&&"x"===n.axis||(e.pageY-t(r).scrollTop()<n.scrollSensitivity?o=t(r).scrollTop(t(r).scrollTop()-n.scrollSpeed):t(window).height()-(e.pageY-t(r).scrollTop())<n.scrollSensitivity&&(o=t(r).scrollTop(t(r).scrollTop()+n.scrollSpeed))),n.axis&&"y"===n.axis||(e.pageX-t(r).scrollLeft()<n.scrollSensitivity?o=t(r).scrollLeft(t(r).scrollLeft()-n.scrollSpeed):t(window).width()-(e.pageX-t(r).scrollLeft())<n.scrollSensitivity&&(o=t(r).scrollLeft(t(r).scrollLeft()+n.scrollSpeed)))),o!==!1&&t.ui.ddmanager&&!n.dropBehaviour&&t.ui.ddmanager.prepareOffsets(s,e)}}),t.ui.plugin.add("draggable","snap",{start:function(e,i,s){var n=s.options;s.snapElements=[],t(n.snap.constructor!==String?n.snap.items||":data(ui-draggable)":n.snap).each(function(){var e=t(this),i=e.offset();this!==s.element[0]&&s.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:i.top,left:i.left})})},drag:function(e,i,s){var n,o,a,r,l,h,c,u,d,p,f=s.options,g=f.snapTolerance,m=i.offset.left,_=m+s.helperProportions.width,v=i.offset.top,b=v+s.helperProportions.height;for(d=s.snapElements.length-1;d>=0;d--)l=s.snapElements[d].left-s.margins.left,h=l+s.snapElements[d].width,c=s.snapElements[d].top-s.margins.top,u=c+s.snapElements[d].height,l-g>_||m>h+g||c-g>b||v>u+g||!t.contains(s.snapElements[d].item.ownerDocument,s.snapElements[d].item)?(s.snapElements[d].snapping&&s.options.snap.release&&s.options.snap.release.call(s.element,e,t.extend(s._uiHash(),{snapItem:s.snapElements[d].item})),s.snapElements[d].snapping=!1):("inner"!==f.snapMode&&(n=g>=Math.abs(c-b),o=g>=Math.abs(u-v),a=g>=Math.abs(l-_),r=g>=Math.abs(h-m),n&&(i.position.top=s._convertPositionTo("relative",{top:c-s.helperProportions.height,left:0}).top),o&&(i.position.top=s._convertPositionTo("relative",{top:u,left:0}).top),a&&(i.position.left=s._convertPositionTo("relative",{top:0,left:l-s.helperProportions.width}).left),r&&(i.position.left=s._convertPositionTo("relative",{top:0,left:h}).left)),p=n||o||a||r,"outer"!==f.snapMode&&(n=g>=Math.abs(c-v),o=g>=Math.abs(u-b),a=g>=Math.abs(l-m),r=g>=Math.abs(h-_),n&&(i.position.top=s._convertPositionTo("relative",{top:c,left:0}).top),o&&(i.position.top=s._convertPositionTo("relative",{top:u-s.helperProportions.height,left:0}).top),a&&(i.position.left=s._convertPositionTo("relative",{top:0,left:l}).left),r&&(i.position.left=s._convertPositionTo("relative",{top:0,left:h-s.helperProportions.width}).left)),!s.snapElements[d].snapping&&(n||o||a||r||p)&&s.options.snap.snap&&s.options.snap.snap.call(s.element,e,t.extend(s._uiHash(),{snapItem:s.snapElements[d].item})),s.snapElements[d].snapping=n||o||a||r||p)}}),t.ui.plugin.add("draggable","stack",{start:function(e,i,s){var n,o=s.options,a=t.makeArray(t(o.stack)).sort(function(e,i){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(i).css("zIndex"),10)||0)});a.length&&(n=parseInt(t(a[0]).css("zIndex"),10)||0,t(a).each(function(e){t(this).css("zIndex",n+e)}),this.css("zIndex",n+a.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,i,s){var n=t(i.helper),o=s.options;n.css("zIndex")&&(o._zIndex=n.css("zIndex")),n.css("zIndex",o.zIndex)},stop:function(e,i,s){var n=s.options;n._zIndex&&t(i.helper).css("zIndex",n._zIndex)}}),t.ui.draggable,t.widget("ui.droppable",{version:"1.12.1",widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e,i=this.options,s=i.accept;this.isover=!1,this.isout=!0,this.accept=t.isFunction(s)?s:function(t){return t.is(s)},this.proportions=function(){return arguments.length?(e=arguments[0],void 0):e?e:e={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}},this._addToManager(i.scope),i.addClasses&&this._addClass("ui-droppable")},_addToManager:function(e){t.ui.ddmanager.droppables[e]=t.ui.ddmanager.droppables[e]||[],t.ui.ddmanager.droppables[e].push(this)},_splice:function(t){for(var e=0;t.length>e;e++)t[e]===this&&t.splice(e,1)},_destroy:function(){var e=t.ui.ddmanager.droppables[this.options.scope];this._splice(e)},_setOption:function(e,i){if("accept"===e)this.accept=t.isFunction(i)?i:function(t){return t.is(i)};else if("scope"===e){var s=t.ui.ddmanager.droppables[this.options.scope];this._splice(s),this._addToManager(i)}this._super(e,i)},_activate:function(e){var i=t.ui.ddmanager.current;this._addActiveClass(),i&&this._trigger("activate",e,this.ui(i))},_deactivate:function(e){var i=t.ui.ddmanager.current;this._removeActiveClass(),i&&this._trigger("deactivate",e,this.ui(i))},_over:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this._addHoverClass(),this._trigger("over",e,this.ui(i)))},_out:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this._removeHoverClass(),this._trigger("out",e,this.ui(i)))},_drop:function(e,i){var s=i||t.ui.ddmanager.current,o=!1;return s&&(s.currentItem||s.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var i=t(this).droppable("instance");return i.options.greedy&&!i.options.disabled&&i.options.scope===s.options.scope&&i.accept.call(i.element[0],s.currentItem||s.element)&&n(s,t.extend(i,{offset:i.element.offset()}),i.options.tolerance,e)?(o=!0,!1):void 0}),o?!1:this.accept.call(this.element[0],s.currentItem||s.element)?(this._removeActiveClass(),this._removeHoverClass(),this._trigger("drop",e,this.ui(s)),this.element):!1):!1},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}});var n=t.ui.intersect=function(){function t(t,e,i){return t>=e&&e+i>t}return function(e,i,s,n){if(!i.offset)return!1;var o=(e.positionAbs||e.position.absolute).left+e.margins.left,a=(e.positionAbs||e.position.absolute).top+e.margins.top,r=o+e.helperProportions.width,l=a+e.helperProportions.height,h=i.offset.left,c=i.offset.top,u=h+i.proportions().width,d=c+i.proportions().height;switch(s){case"fit":return o>=h&&u>=r&&a>=c&&d>=l;case"intersect":return o+e.helperProportions.width/2>h&&u>r-e.helperProportions.width/2&&a+e.helperProportions.height/2>c&&d>l-e.helperProportions.height/2;case"pointer":return t(n.pageY,c,i.proportions().height)&&t(n.pageX,h,i.proportions().width);case"touch":return(a>=c&&d>=a||l>=c&&d>=l||c>a&&l>d)&&(o>=h&&u>=o||r>=h&&u>=r||h>o&&r>u);default:return!1}}}();t.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(e,i){var s,n,o=t.ui.ddmanager.droppables[e.options.scope]||[],a=i?i.type:null,r=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();t:for(s=0;o.length>s;s++)if(!(o[s].options.disabled||e&&!o[s].accept.call(o[s].element[0],e.currentItem||e.element))){for(n=0;r.length>n;n++)if(r[n]===o[s].element[0]){o[s].proportions().height=0;continue t}o[s].visible="none"!==o[s].element.css("display"),o[s].visible&&("mousedown"===a&&o[s]._activate.call(o[s],i),o[s].offset=o[s].element.offset(),o[s].proportions({width:o[s].element[0].offsetWidth,height:o[s].element[0].offsetHeight}))}},drop:function(e,i){var s=!1;return t.each((t.ui.ddmanager.droppables[e.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&n(e,this,this.options.tolerance,i)&&(s=this._drop.call(this,i)||s),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))}),s},dragStart:function(e,i){e.element.parentsUntil("body").on("scroll.droppable",function(){e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)})},drag:function(e,i){e.options.refreshPositions&&t.ui.ddmanager.prepareOffsets(e,i),t.each(t.ui.ddmanager.droppables[e.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var s,o,a,r=n(e,this,this.options.tolerance,i),l=!r&&this.isover?"isout":r&&!this.isover?"isover":null;l&&(this.options.greedy&&(o=this.options.scope,a=this.element.parents(":data(ui-droppable)").filter(function(){return t(this).droppable("instance").options.scope===o}),a.length&&(s=t(a[0]).droppable("instance"),s.greedyChild="isover"===l)),s&&"isover"===l&&(s.isover=!1,s.isout=!0,s._out.call(s,i)),this[l]=!0,this["isout"===l?"isover":"isout"]=!1,this["isover"===l?"_over":"_out"].call(this,i),s&&"isout"===l&&(s.isout=!1,s.isover=!0,s._over.call(s,i)))}})},dragStop:function(e,i){e.element.parentsUntil("body").off("scroll.droppable"),e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)}},t.uiBackCompat!==!1&&t.widget("ui.droppable",t.ui.droppable,{options:{hoverClass:!1,activeClass:!1},_addActiveClass:function(){this._super(),this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super(),this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super(),this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super(),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}}),t.ui.droppable});(function($){$.xhrPool={};$.xhrPool.abortAll=function(){$.each(this,function(pool,map){$.each(map,function(idx,jqXHR){if(jqXHR&&jqXHR.readystate!=4){jqXHR.abort();}
    $.xhrPool[pool].splice(idx,1);});});};$.xhrPool.abort=function(pool){if(typeof this[pool]!="undefined"){$.each(this[pool],function(idx,jqXHR){try{jqXHR.abort();}catch(e){}
    $.xhrPool[pool].splice(idx,1);});}};$.ajaxPrefilter(function(options,originalOptions,jqXHR){var pool=options.xhrpool||"global";if(!$.xhrPool[pool]){$.xhrPool[pool]=[];}
    $.xhrPool[pool].push(jqXHR);});})(jQuery);(function(factory){'use strict';if(typeof define==='function'&&define.amd){define(['jquery'],factory);}else if(typeof exports!=='undefined'){module.exports=factory(require('jquery'));}else{factory(jQuery);}}(function($){'use strict';var Slick=window.Slick||{};Slick=(function(){var instanceUid=0;function Slick(element,settings){var _=this,dataSettings;_.defaults={accessibility:true,adaptiveHeight:false,appendArrows:$(element),appendDots:$(element),arrows:true,asNavFor:null,prevArrow:'<button type="button" data-role="none" class="slick-prev" aria-label="Previous" tabindex="0" role="button"></button>',nextArrow:'<button type="button" data-role="none" class="slick-next" aria-label="Next" tabindex="0" role="button"></button>',autoplay:false,autoplaySpeed:3000,centerMode:false,centerPadding:'50px',cssEase:'ease',customPaging:function(slider,i){return'<button type="button" data-role="none" role="button" aria-required="false" tabindex="0">'+(i+1)+'</button>';},dots:false,dotsClass:'slick-dots',draggable:true,easing:'linear',edgeFriction:0.35,fade:false,focusOnSelect:false,infinite:true,initialSlide:0,lazyLoad:'ondemand',mobileFirst:false,pauseOnHover:true,pauseOnDotsHover:false,respondTo:'window',responsive:null,rows:1,rtl:false,slide:'',slidesPerRow:1,slidesToShow:1,slidesToScroll:1,speed:500,swipe:true,swipeToSlide:false,touchMove:true,touchThreshold:5,useCSS:true,useTransform:false,variableWidth:false,vertical:false,verticalSwiping:false,waitForAnimate:true,zIndex:1000};_.initials={animating:false,dragging:false,autoPlayTimer:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:false,slideOffset:0,swipeLeft:null,$list:null,touchObject:{},transformsEnabled:false,unslicked:false};$.extend(_,_.initials);_.activeBreakpoint=null;_.animType=null;_.animProp=null;_.breakpoints=[];_.breakpointSettings=[];_.cssTransitions=false;_.hidden='hidden';_.paused=false;_.positionProp=null;_.respondTo=null;_.rowCount=1;_.shouldClick=true;_.$slider=$(element);_.$slidesCache=null;_.transformType=null;_.transitionType=null;_.visibilityChange='visibilitychange';_.windowWidth=0;_.windowTimer=null;dataSettings=$(element).data('slick')||{};_.options=$.extend({},_.defaults,dataSettings,settings);_.currentSlide=_.options.initialSlide;_.originalSettings=_.options;if(typeof document.mozHidden!=='undefined'){_.hidden='mozHidden';_.visibilityChange='mozvisibilitychange';}else if(typeof document.webkitHidden!=='undefined'){_.hidden='webkitHidden';_.visibilityChange='webkitvisibilitychange';}
    _.autoPlay=$.proxy(_.autoPlay,_);_.autoPlayClear=$.proxy(_.autoPlayClear,_);_.changeSlide=$.proxy(_.changeSlide,_);_.clickHandler=$.proxy(_.clickHandler,_);_.selectHandler=$.proxy(_.selectHandler,_);_.setPosition=$.proxy(_.setPosition,_);_.swipeHandler=$.proxy(_.swipeHandler,_);_.dragHandler=$.proxy(_.dragHandler,_);_.keyHandler=$.proxy(_.keyHandler,_);_.autoPlayIterator=$.proxy(_.autoPlayIterator,_);_.instanceUid=instanceUid++;_.htmlExpr=/^(?:\s*(<[\w\W]+>)[^>]*)$/;_.registerBreakpoints();_.init(true);_.checkResponsive(true);}
    return Slick;}());Slick.prototype.addSlide=Slick.prototype.slickAdd=function(markup,index,addBefore){var _=this;if(typeof(index)==='boolean'){addBefore=index;index=null;}else if(index<0||(index>=_.slideCount)){return false;}
    _.unload();if(typeof(index)==='number'){if(index===0&&_.$slides.length===0){$(markup).appendTo(_.$slideTrack);}else if(addBefore){$(markup).insertBefore(_.$slides.eq(index));}else{$(markup).insertAfter(_.$slides.eq(index));}}else{if(addBefore===true){$(markup).prependTo(_.$slideTrack);}else{$(markup).appendTo(_.$slideTrack);}}
    _.$slides=_.$slideTrack.children(this.options.slide);_.$slideTrack.children(this.options.slide).detach();_.$slideTrack.append(_.$slides);_.$slides.each(function(index,element){$(element).attr('data-slick-index',index);});_.$slidesCache=_.$slides;_.reinit();};Slick.prototype.animateHeight=function(){var _=this;if(_.options.slidesToShow===1&&_.options.adaptiveHeight===true&&_.options.vertical===false){var targetHeight=_.$slides.eq(_.currentSlide).outerHeight(true);_.$list.animate({height:targetHeight},_.options.speed);}};Slick.prototype.animateSlide=function(targetLeft,callback){var animProps={},_=this;_.animateHeight();if(_.options.rtl===true&&_.options.vertical===false){targetLeft=-targetLeft;}
    if(_.transformsEnabled===false){if(_.options.vertical===false){_.$slideTrack.animate({left:targetLeft},_.options.speed,_.options.easing,callback);}else{_.$slideTrack.animate({top:targetLeft},_.options.speed,_.options.easing,callback);}}else{if(_.cssTransitions===false){if(_.options.rtl===true){_.currentLeft=-(_.currentLeft);}
        $({animStart:_.currentLeft}).animate({animStart:targetLeft},{duration:_.options.speed,easing:_.options.easing,step:function(now){now=Math.ceil(now);if(_.options.vertical===false){animProps[_.animType]='translate('+
                now+'px, 0px)';_.$slideTrack.css(animProps);}else{animProps[_.animType]='translate(0px,'+
                now+'px)';_.$slideTrack.css(animProps);}},complete:function(){if(callback){callback.call();}}});}else{_.applyTransition();targetLeft=Math.ceil(targetLeft);if(_.options.vertical===false){animProps[_.animType]='translate3d('+targetLeft+'px, 0px, 0px)';}else{animProps[_.animType]='translate3d(0px,'+targetLeft+'px, 0px)';}
        _.$slideTrack.css(animProps);if(callback){setTimeout(function(){_.disableTransition();callback.call();},_.options.speed);}}}};Slick.prototype.asNavFor=function(index){var _=this,asNavFor=_.options.asNavFor;if(asNavFor&&asNavFor!==null){asNavFor=$(asNavFor).not(_.$slider);}
    if(asNavFor!==null&&typeof asNavFor==='object'){asNavFor.each(function(){var target=$(this).slick('getSlick');if(!target.unslicked){target.slideHandler(index,true);}});}};Slick.prototype.applyTransition=function(slide){var _=this,transition={};if(_.options.fade===false){transition[_.transitionType]=_.transformType+' '+_.options.speed+'ms '+_.options.cssEase;}else{transition[_.transitionType]='opacity '+_.options.speed+'ms '+_.options.cssEase;}
    if(_.options.fade===false){_.$slideTrack.css(transition);}else{_.$slides.eq(slide).css(transition);}};Slick.prototype.autoPlay=function(){var _=this;if(_.autoPlayTimer){clearInterval(_.autoPlayTimer);}
    if(_.slideCount>_.options.slidesToShow&&_.paused!==true){_.autoPlayTimer=setInterval(_.autoPlayIterator,_.options.autoplaySpeed);}};Slick.prototype.autoPlayClear=function(){var _=this;if(_.autoPlayTimer){clearInterval(_.autoPlayTimer);}};Slick.prototype.autoPlayIterator=function(){var _=this;if(_.options.infinite===false){if(_.direction===1){if((_.currentSlide+1)===_.slideCount-
    1){_.direction=0;}
    _.slideHandler(_.currentSlide+_.options.slidesToScroll);}else{if((_.currentSlide-1===0)){_.direction=1;}
    _.slideHandler(_.currentSlide-_.options.slidesToScroll);}}else{_.slideHandler(_.currentSlide+_.options.slidesToScroll);}};Slick.prototype.buildArrows=function(){var _=this;if(_.options.arrows===true){_.$prevArrow=$(_.options.prevArrow).addClass('slick-arrow');_.$nextArrow=$(_.options.nextArrow).addClass('slick-arrow');if(_.slideCount>_.options.slidesToShow){_.$prevArrow.removeClass('slick-hidden').removeAttr('aria-hidden tabindex');_.$nextArrow.removeClass('slick-hidden').removeAttr('aria-hidden tabindex');if(_.htmlExpr.test(_.options.prevArrow)){_.$prevArrow.prependTo(_.options.appendArrows);}
    if(_.htmlExpr.test(_.options.nextArrow)){_.$nextArrow.appendTo(_.options.appendArrows);}
    if(_.options.infinite!==true){_.$prevArrow.addClass('slick-disabled').attr('aria-disabled','true');}}else{_.$prevArrow.add(_.$nextArrow).addClass('slick-hidden').attr({'aria-disabled':'true','tabindex':'-1'});}}};Slick.prototype.buildDots=function(){var _=this,i,dotString;if(_.options.dots===true&&_.slideCount>_.options.slidesToShow){dotString='<ul class="'+_.options.dotsClass+'">';for(i=0;i<=_.getDotCount();i+=1){dotString+='<li>'+_.options.customPaging.call(this,_,i)+'</li>';}
    dotString+='</ul>';_.$dots=$(dotString).appendTo(_.options.appendDots);_.$dots.find('li').first().addClass('slick-active').attr('aria-hidden','false');}};Slick.prototype.buildOut=function(){var _=this;_.$slides=_.$slider.children(_.options.slide+':not(.slick-cloned)').addClass('slick-slide');_.slideCount=_.$slides.length;_.$slides.each(function(index,element){$(element).attr('data-slick-index',index).data('originalStyling',$(element).attr('style')||'');});_.$slider.addClass('slick-slider');_.$slideTrack=(_.slideCount===0)?$('<div class="slick-track"/>').appendTo(_.$slider):_.$slides.wrapAll('<div class="slick-track"/>').parent();_.$list=_.$slideTrack.wrap('<div aria-live="polite" class="slick-list"/>').parent();_.$slideTrack.css('opacity',0);if(_.options.centerMode===true||_.options.swipeToSlide===true){_.options.slidesToScroll=1;}
    $('img[data-lazy]',_.$slider).not('[src]').addClass('slick-loading');_.setupInfinite();_.buildArrows();_.buildDots();_.updateDots();_.setSlideClasses(typeof _.currentSlide==='number'?_.currentSlide:0);if(_.options.draggable===true){_.$list.addClass('draggable');}};Slick.prototype.buildRows=function(){var _=this,a,b,c,newSlides,numOfSlides,originalSlides,slidesPerSection;newSlides=document.createDocumentFragment();originalSlides=_.$slider.children();if(_.options.rows>1){slidesPerSection=_.options.slidesPerRow*_.options.rows;numOfSlides=Math.ceil(originalSlides.length/slidesPerSection);for(a=0;a<numOfSlides;a++){var slide=document.createElement('div');for(b=0;b<_.options.rows;b++){var row=document.createElement('div');for(c=0;c<_.options.slidesPerRow;c++){var target=(a*slidesPerSection+((b*_.options.slidesPerRow)+c));if(originalSlides.get(target)){row.appendChild(originalSlides.get(target));}}
    slide.appendChild(row);}
    newSlides.appendChild(slide);}
    _.$slider.html(newSlides);_.$slider.children().children().children().css({'width':(100/_.options.slidesPerRow)+'%','display':'inline-block'});}};Slick.prototype.checkResponsive=function(initial,forceUpdate){var _=this,breakpoint,targetBreakpoint,respondToWidth,triggerBreakpoint=false;var sliderWidth=_.$slider.width();var windowWidth=window.innerWidth||$(window).width();if(_.respondTo==='window'){respondToWidth=windowWidth;}else if(_.respondTo==='slider'){respondToWidth=sliderWidth;}else if(_.respondTo==='min'){respondToWidth=Math.min(windowWidth,sliderWidth);}
    if(_.options.responsive&&_.options.responsive.length&&_.options.responsive!==null){targetBreakpoint=null;for(breakpoint in _.breakpoints){if(_.breakpoints.hasOwnProperty(breakpoint)){if(_.originalSettings.mobileFirst===false){if(respondToWidth<_.breakpoints[breakpoint]){targetBreakpoint=_.breakpoints[breakpoint];}}else{if(respondToWidth>_.breakpoints[breakpoint]){targetBreakpoint=_.breakpoints[breakpoint];}}}}
        if(targetBreakpoint!==null){if(_.activeBreakpoint!==null){if(targetBreakpoint!==_.activeBreakpoint||forceUpdate){_.activeBreakpoint=targetBreakpoint;if(_.breakpointSettings[targetBreakpoint]==='unslick'){_.unslick(targetBreakpoint);}else{_.options=$.extend({},_.originalSettings,_.breakpointSettings[targetBreakpoint]);if(initial===true){_.currentSlide=_.options.initialSlide;}
            _.refresh(initial);}
            triggerBreakpoint=targetBreakpoint;}}else{_.activeBreakpoint=targetBreakpoint;if(_.breakpointSettings[targetBreakpoint]==='unslick'){_.unslick(targetBreakpoint);}else{_.options=$.extend({},_.originalSettings,_.breakpointSettings[targetBreakpoint]);if(initial===true){_.currentSlide=_.options.initialSlide;}
            _.refresh(initial);}
            triggerBreakpoint=targetBreakpoint;}}else{if(_.activeBreakpoint!==null){_.activeBreakpoint=null;_.options=_.originalSettings;if(initial===true){_.currentSlide=_.options.initialSlide;}
            _.refresh(initial);triggerBreakpoint=targetBreakpoint;}}
        if(!initial&&triggerBreakpoint!==false){_.$slider.trigger('breakpoint',[_,triggerBreakpoint]);}}};Slick.prototype.changeSlide=function(event,dontAnimate){var _=this,$target=$(event.target),indexOffset,slideOffset,unevenOffset;if($target.is('a')){event.preventDefault();}
    if(!$target.is('li')){$target=$target.closest('li');}
    unevenOffset=(_.slideCount%_.options.slidesToScroll!==0);indexOffset=unevenOffset?0:(_.slideCount-_.currentSlide)%_.options.slidesToScroll;switch(event.data.message){case'previous':slideOffset=indexOffset===0?_.options.slidesToScroll:_.options.slidesToShow-indexOffset;if(_.slideCount>_.options.slidesToShow){_.slideHandler(_.currentSlide-slideOffset,false,dontAnimate);}
        break;case'next':slideOffset=indexOffset===0?_.options.slidesToScroll:indexOffset;if(_.slideCount>_.options.slidesToShow){_.slideHandler(_.currentSlide+slideOffset,false,dontAnimate);}
        break;case'index':var index=event.data.index===0?0:event.data.index||$target.index()*_.options.slidesToScroll;_.slideHandler(_.checkNavigable(index),false,dontAnimate);$target.children().trigger('focus');break;default:return;}};Slick.prototype.checkNavigable=function(index){var _=this,navigables,prevNavigable;navigables=_.getNavigableIndexes();prevNavigable=0;if(index>navigables[navigables.length-1]){index=navigables[navigables.length-1];}else{for(var n in navigables){if(index<navigables[n]){index=prevNavigable;break;}
    prevNavigable=navigables[n];}}
    return index;};Slick.prototype.cleanUpEvents=function(){var _=this;if(_.options.dots&&_.$dots!==null){$('li',_.$dots).off('click.slick',_.changeSlide);if(_.options.pauseOnDotsHover===true&&_.options.autoplay===true){$('li',_.$dots).off('mouseenter.slick',$.proxy(_.setPaused,_,true)).off('mouseleave.slick',$.proxy(_.setPaused,_,false));}}
    if(_.options.arrows===true&&_.slideCount>_.options.slidesToShow){_.$prevArrow&&_.$prevArrow.off('click.slick',_.changeSlide);_.$nextArrow&&_.$nextArrow.off('click.slick',_.changeSlide);}
    _.$list.off('touchstart.slick mousedown.slick',_.swipeHandler);_.$list.off('touchmove.slick mousemove.slick',_.swipeHandler);_.$list.off('touchend.slick mouseup.slick',_.swipeHandler);_.$list.off('touchcancel.slick mouseleave.slick',_.swipeHandler);_.$list.off('click.slick',_.clickHandler);$(document).off(_.visibilityChange,_.visibility);_.$list.off('mouseenter.slick',$.proxy(_.setPaused,_,true));_.$list.off('mouseleave.slick',$.proxy(_.setPaused,_,false));if(_.options.accessibility===true){_.$list.off('keydown.slick',_.keyHandler);}
    if(_.options.focusOnSelect===true){$(_.$slideTrack).children().off('click.slick',_.selectHandler);}
    $(window).off('orientationchange.slick.slick-'+_.instanceUid,_.orientationChange);$(window).off('resize.slick.slick-'+_.instanceUid,_.resize);$('[draggable!=true]',_.$slideTrack).off('dragstart',_.preventDefault);$(window).off('load.slick.slick-'+_.instanceUid,_.setPosition);$(document).off('ready.slick.slick-'+_.instanceUid,_.setPosition);};Slick.prototype.cleanUpRows=function(){var _=this,originalSlides;if(_.options.rows>1){originalSlides=_.$slides.children().children();originalSlides.removeAttr('style');_.$slider.html(originalSlides);}};Slick.prototype.clickHandler=function(event){var _=this;if(_.shouldClick===false){event.stopImmediatePropagation();event.stopPropagation();event.preventDefault();}};Slick.prototype.destroy=function(refresh){var _=this;_.autoPlayClear();_.touchObject={};_.cleanUpEvents();$('.slick-cloned',_.$slider).detach();if(_.$dots){_.$dots.remove();}
    if(_.$prevArrow&&_.$prevArrow.length){_.$prevArrow.removeClass('slick-disabled slick-arrow slick-hidden').removeAttr('aria-hidden aria-disabled tabindex').css("display","");if(_.htmlExpr.test(_.options.prevArrow)){_.$prevArrow.remove();}}
    if(_.$nextArrow&&_.$nextArrow.length){_.$nextArrow.removeClass('slick-disabled slick-arrow slick-hidden').removeAttr('aria-hidden aria-disabled tabindex').css("display","");if(_.htmlExpr.test(_.options.nextArrow)){_.$nextArrow.remove();}}
    if(_.$slides){_.$slides.removeClass('slick-slide slick-active slick-center slick-visible slick-current').removeAttr('aria-hidden').removeAttr('data-slick-index').each(function(){$(this).attr('style',$(this).data('originalStyling'));});_.$slideTrack.children(this.options.slide).detach();_.$slideTrack.detach();_.$list.detach();_.$slider.append(_.$slides);}
    _.cleanUpRows();_.$slider.removeClass('slick-slider');_.$slider.removeClass('slick-initialized');_.unslicked=true;if(!refresh){_.$slider.trigger('destroy',[_]);}};Slick.prototype.disableTransition=function(slide){var _=this,transition={};transition[_.transitionType]='';if(_.options.fade===false){_.$slideTrack.css(transition);}else{_.$slides.eq(slide).css(transition);}};Slick.prototype.fadeSlide=function(slideIndex,callback){var _=this;if(_.cssTransitions===false){_.$slides.eq(slideIndex).css({zIndex:_.options.zIndex});_.$slides.eq(slideIndex).animate({opacity:1},_.options.speed,_.options.easing,callback);}else{_.applyTransition(slideIndex);_.$slides.eq(slideIndex).css({opacity:1,zIndex:_.options.zIndex});if(callback){setTimeout(function(){_.disableTransition(slideIndex);callback.call();},_.options.speed);}}};Slick.prototype.fadeSlideOut=function(slideIndex){var _=this;if(_.cssTransitions===false){_.$slides.eq(slideIndex).animate({opacity:0,zIndex:_.options.zIndex-2},_.options.speed,_.options.easing);}else{_.applyTransition(slideIndex);_.$slides.eq(slideIndex).css({opacity:0,zIndex:_.options.zIndex-2});}};Slick.prototype.filterSlides=Slick.prototype.slickFilter=function(filter){var _=this;if(filter!==null){_.$slidesCache=_.$slides;_.unload();_.$slideTrack.children(this.options.slide).detach();_.$slidesCache.filter(filter).appendTo(_.$slideTrack);_.reinit();}};Slick.prototype.getCurrent=Slick.prototype.slickCurrentSlide=function(){var _=this;return _.currentSlide;};Slick.prototype.getDotCount=function(){var _=this;var breakPoint=0;var counter=0;var pagerQty=0;if(_.options.infinite===true){while(breakPoint<_.slideCount){++pagerQty;breakPoint=counter+_.options.slidesToScroll;counter+=_.options.slidesToScroll<=_.options.slidesToShow?_.options.slidesToScroll:_.options.slidesToShow;}}else if(_.options.centerMode===true){pagerQty=_.slideCount;}else{while(breakPoint<_.slideCount){++pagerQty;breakPoint=counter+_.options.slidesToScroll;counter+=_.options.slidesToScroll<=_.options.slidesToShow?_.options.slidesToScroll:_.options.slidesToShow;}}
    return pagerQty-1;};Slick.prototype.getLeft=function(slideIndex){var _=this,targetLeft,verticalHeight,verticalOffset=0,targetSlide;_.slideOffset=0;verticalHeight=_.$slides.first().outerHeight(true);if(_.options.infinite===true){if(_.slideCount>_.options.slidesToShow){_.slideOffset=(_.slideWidth*_.options.slidesToShow)*-1;verticalOffset=(verticalHeight*_.options.slidesToShow)*-1;}
    if(_.slideCount%_.options.slidesToScroll!==0){if(slideIndex+_.options.slidesToScroll>_.slideCount&&_.slideCount>_.options.slidesToShow){if(slideIndex>_.slideCount){_.slideOffset=((_.options.slidesToShow-(slideIndex-_.slideCount))*_.slideWidth)*-1;verticalOffset=((_.options.slidesToShow-(slideIndex-_.slideCount))*verticalHeight)*-1;}else{_.slideOffset=((_.slideCount%_.options.slidesToScroll)*_.slideWidth)*-1;verticalOffset=((_.slideCount%_.options.slidesToScroll)*verticalHeight)*-1;}}}}else{if(slideIndex+_.options.slidesToShow>_.slideCount){_.slideOffset=((slideIndex+_.options.slidesToShow)-_.slideCount)*_.slideWidth;verticalOffset=((slideIndex+_.options.slidesToShow)-_.slideCount)*verticalHeight;}}
    if(_.slideCount<=_.options.slidesToShow){_.slideOffset=0;verticalOffset=0;}
    if(_.options.centerMode===true&&_.options.infinite===true){_.slideOffset+=_.slideWidth*Math.floor(_.options.slidesToShow/2)-_.slideWidth;}else if(_.options.centerMode===true){_.slideOffset=0;_.slideOffset+=_.slideWidth*Math.floor(_.options.slidesToShow/2);}
    if(_.options.vertical===false){targetLeft=((slideIndex*_.slideWidth)*-1)+_.slideOffset;}else{targetLeft=((slideIndex*verticalHeight)*-1)+verticalOffset;}
    if(_.options.variableWidth===true){if(_.slideCount<=_.options.slidesToShow||_.options.infinite===false){targetSlide=_.$slideTrack.children('.slick-slide').eq(slideIndex);}else{targetSlide=_.$slideTrack.children('.slick-slide').eq(slideIndex+_.options.slidesToShow);}
        if(_.options.rtl===true){if(targetSlide[0]){targetLeft=(_.$slideTrack.width()-targetSlide[0].offsetLeft-targetSlide.width())*-1;}else{targetLeft=0;}}else{targetLeft=targetSlide[0]?targetSlide[0].offsetLeft*-1:0;}
        if(_.options.centerMode===true){if(_.slideCount<=_.options.slidesToShow||_.options.infinite===false){targetSlide=_.$slideTrack.children('.slick-slide').eq(slideIndex);}else{targetSlide=_.$slideTrack.children('.slick-slide').eq(slideIndex+_.options.slidesToShow+1);}
            if(_.options.rtl===true){if(targetSlide[0]){targetLeft=(_.$slideTrack.width()-targetSlide[0].offsetLeft-targetSlide.width())*-1;}else{targetLeft=0;}}else{targetLeft=targetSlide[0]?targetSlide[0].offsetLeft*-1:0;}
            targetLeft+=(_.$list.width()-targetSlide.outerWidth())/2;}}
    return targetLeft;};Slick.prototype.getOption=Slick.prototype.slickGetOption=function(option){var _=this;return _.options[option];};Slick.prototype.getNavigableIndexes=function(){var _=this,breakPoint=0,counter=0,indexes=[],max;if(_.options.infinite===false){max=_.slideCount;}else{breakPoint=_.options.slidesToScroll*-1;counter=_.options.slidesToScroll*-1;max=_.slideCount*2;}
    while(breakPoint<max){indexes.push(breakPoint);breakPoint=counter+_.options.slidesToScroll;counter+=_.options.slidesToScroll<=_.options.slidesToShow?_.options.slidesToScroll:_.options.slidesToShow;}
    return indexes;};Slick.prototype.getSlick=function(){return this;};Slick.prototype.getSlideCount=function(){var _=this,slidesTraversed,swipedSlide,centerOffset;centerOffset=_.options.centerMode===true?_.slideWidth*Math.floor(_.options.slidesToShow/2):0;if(_.options.swipeToSlide===true){_.$slideTrack.find('.slick-slide').each(function(index,slide){if(slide.offsetLeft-centerOffset+($(slide).outerWidth()/2)>(_.swipeLeft*-1)){swipedSlide=slide;return false;}});slidesTraversed=Math.abs($(swipedSlide).attr('data-slick-index')-_.currentSlide)||1;return slidesTraversed;}else{return _.options.slidesToScroll;}};Slick.prototype.goTo=Slick.prototype.slickGoTo=function(slide,dontAnimate){var _=this;_.changeSlide({data:{message:'index',index:parseInt(slide)}},dontAnimate);};Slick.prototype.init=function(creation){var _=this;if(!$(_.$slider).hasClass('slick-initialized')){$(_.$slider).addClass('slick-initialized');_.buildRows();_.buildOut();_.setProps();_.startLoad();_.loadSlider();_.initializeEvents();_.updateArrows();_.updateDots();}
    if(creation){_.$slider.trigger('init',[_]);}
    if(_.options.accessibility===true){_.initADA();}};Slick.prototype.initArrowEvents=function(){var _=this;if(_.options.arrows===true&&_.slideCount>_.options.slidesToShow){_.$prevArrow.on('click.slick',{message:'previous'},_.changeSlide);_.$nextArrow.on('click.slick',{message:'next'},_.changeSlide);}};Slick.prototype.initDotEvents=function(){var _=this;if(_.options.dots===true&&_.slideCount>_.options.slidesToShow){$('li',_.$dots).on('click.slick',{message:'index'},_.changeSlide);}
    if(_.options.dots===true&&_.options.pauseOnDotsHover===true&&_.options.autoplay===true){$('li',_.$dots).on('mouseenter.slick',$.proxy(_.setPaused,_,true)).on('mouseleave.slick',$.proxy(_.setPaused,_,false));}};Slick.prototype.initializeEvents=function(){var _=this;_.initArrowEvents();_.initDotEvents();_.$list.on('touchstart.slick mousedown.slick',{action:'start'},_.swipeHandler);_.$list.on('touchmove.slick mousemove.slick',{action:'move'},_.swipeHandler);_.$list.on('touchend.slick mouseup.slick',{action:'end'},_.swipeHandler);_.$list.on('touchcancel.slick mouseleave.slick',{action:'end'},_.swipeHandler);_.$list.on('click.slick',_.clickHandler);$(document).on(_.visibilityChange,$.proxy(_.visibility,_));_.$list.on('mouseenter.slick',$.proxy(_.setPaused,_,true));_.$list.on('mouseleave.slick',$.proxy(_.setPaused,_,false));if(_.options.accessibility===true){_.$list.on('keydown.slick',_.keyHandler);}
    if(_.options.focusOnSelect===true){$(_.$slideTrack).children().on('click.slick',_.selectHandler);}
    $(window).on('orientationchange.slick.slick-'+_.instanceUid,$.proxy(_.orientationChange,_));$(window).on('resize.slick.slick-'+_.instanceUid,$.proxy(_.resize,_));$('[draggable!=true]',_.$slideTrack).on('dragstart',_.preventDefault);$(window).on('load.slick.slick-'+_.instanceUid,_.setPosition);$(document).on('ready.slick.slick-'+_.instanceUid,_.setPosition);};Slick.prototype.initUI=function(){var _=this;if(_.options.arrows===true&&_.slideCount>_.options.slidesToShow){_.$prevArrow.show();_.$nextArrow.show();}
    if(_.options.dots===true&&_.slideCount>_.options.slidesToShow){_.$dots.show();}
    if(_.options.autoplay===true){_.autoPlay();}};Slick.prototype.keyHandler=function(event){var _=this;if(!event.target.tagName.match('TEXTAREA|INPUT|SELECT')){if(event.keyCode===37&&_.options.accessibility===true){_.changeSlide({data:{message:'previous'}});}else if(event.keyCode===39&&_.options.accessibility===true){_.changeSlide({data:{message:'next'}});}}};Slick.prototype.lazyLoad=function(){var _=this,loadRange,cloneRange,rangeStart,rangeEnd;function loadImages(imagesScope){$('img[data-lazy]',imagesScope).each(function(){var image=$(this),imageSource=$(this).attr('data-lazy'),imageToLoad=document.createElement('img');imageToLoad.onload=function(){image.animate({opacity:0},100,function(){image.attr('src',imageSource).animate({opacity:1},200,function(){image.removeAttr('data-lazy').removeClass('slick-loading');});});};imageToLoad.src=imageSource;});}
    if(_.options.centerMode===true){if(_.options.infinite===true){rangeStart=_.currentSlide+(_.options.slidesToShow/2+1);rangeEnd=rangeStart+_.options.slidesToShow+2;}else{rangeStart=Math.max(0,_.currentSlide-(_.options.slidesToShow/2+1));rangeEnd=2+(_.options.slidesToShow/2+1)+_.currentSlide;}}else{rangeStart=_.options.infinite?_.options.slidesToShow+_.currentSlide:_.currentSlide;rangeEnd=rangeStart+_.options.slidesToShow;if(_.options.fade===true){if(rangeStart>0)rangeStart--;if(rangeEnd<=_.slideCount)rangeEnd++;}}
    loadRange=_.$slider.find('.slick-slide').slice(rangeStart,rangeEnd);loadImages(loadRange);if(_.slideCount<=_.options.slidesToShow){cloneRange=_.$slider.find('.slick-slide');loadImages(cloneRange);}else if(_.currentSlide>=_.slideCount-_.options.slidesToShow){cloneRange=_.$slider.find('.slick-cloned').slice(0,_.options.slidesToShow);loadImages(cloneRange);}else if(_.currentSlide===0){cloneRange=_.$slider.find('.slick-cloned').slice(_.options.slidesToShow*-1);loadImages(cloneRange);}};Slick.prototype.loadSlider=function(){var _=this;_.setPosition();_.$slideTrack.css({opacity:1});_.$slider.removeClass('slick-loading');_.initUI();if(_.options.lazyLoad==='progressive'){_.progressiveLazyLoad();}};Slick.prototype.next=Slick.prototype.slickNext=function(){var _=this;_.changeSlide({data:{message:'next'}});};Slick.prototype.orientationChange=function(){var _=this;_.checkResponsive();_.setPosition();};Slick.prototype.pause=Slick.prototype.slickPause=function(){var _=this;_.autoPlayClear();_.paused=true;};Slick.prototype.play=Slick.prototype.slickPlay=function(){var _=this;_.paused=false;_.autoPlay();};Slick.prototype.postSlide=function(index){var _=this;_.$slider.trigger('afterChange',[_,index]);_.animating=false;_.setPosition();_.swipeLeft=null;if(_.options.autoplay===true&&_.paused===false){_.autoPlay();}
    if(_.options.accessibility===true){_.initADA();}};Slick.prototype.prev=Slick.prototype.slickPrev=function(){var _=this;_.changeSlide({data:{message:'previous'}});};Slick.prototype.preventDefault=function(event){event.preventDefault();};Slick.prototype.progressiveLazyLoad=function(){var _=this,imgCount,targetImage;imgCount=$('img[data-lazy]',_.$slider).length;if(imgCount>0){targetImage=$('img[data-lazy]',_.$slider).first();targetImage.attr('src',null);targetImage.attr('src',targetImage.attr('data-lazy')).removeClass('slick-loading').load(function(){targetImage.removeAttr('data-lazy');_.progressiveLazyLoad();if(_.options.adaptiveHeight===true){_.setPosition();}}).error(function(){targetImage.removeAttr('data-lazy');_.progressiveLazyLoad();});}};Slick.prototype.refresh=function(initializing){var _=this,currentSlide,firstVisible;firstVisible=_.slideCount-_.options.slidesToShow;if(!_.options.infinite){if(_.slideCount<=_.options.slidesToShow){_.currentSlide=0;}else if(_.currentSlide>firstVisible){_.currentSlide=firstVisible;}}
    currentSlide=_.currentSlide;_.destroy(true);$.extend(_,_.initials,{currentSlide:currentSlide});_.init();if(!initializing){_.changeSlide({data:{message:'index',index:currentSlide}},false);}};Slick.prototype.registerBreakpoints=function(){var _=this,breakpoint,currentBreakpoint,l,responsiveSettings=_.options.responsive||null;if($.type(responsiveSettings)==="array"&&responsiveSettings.length){_.respondTo=_.options.respondTo||'window';for(breakpoint in responsiveSettings){l=_.breakpoints.length-1;currentBreakpoint=responsiveSettings[breakpoint].breakpoint;if(responsiveSettings.hasOwnProperty(breakpoint)){while(l>=0){if(_.breakpoints[l]&&_.breakpoints[l]===currentBreakpoint){_.breakpoints.splice(l,1);}
    l--;}
    _.breakpoints.push(currentBreakpoint);_.breakpointSettings[currentBreakpoint]=responsiveSettings[breakpoint].settings;}}
    _.breakpoints.sort(function(a,b){return(_.options.mobileFirst)?a-b:b-a;});}};Slick.prototype.reinit=function(){var _=this;_.$slides=_.$slideTrack.children(_.options.slide).addClass('slick-slide');_.slideCount=_.$slides.length;if(_.currentSlide>=_.slideCount&&_.currentSlide!==0){_.currentSlide=_.currentSlide-_.options.slidesToScroll;}
    if(_.slideCount<=_.options.slidesToShow){_.currentSlide=0;}
    _.registerBreakpoints();_.setProps();_.setupInfinite();_.buildArrows();_.updateArrows();_.initArrowEvents();_.buildDots();_.updateDots();_.initDotEvents();_.checkResponsive(false,true);if(_.options.focusOnSelect===true){$(_.$slideTrack).children().on('click.slick',_.selectHandler);}
    _.setSlideClasses(0);_.setPosition();_.$slider.trigger('reInit',[_]);if(_.options.autoplay===true){_.focusHandler();}};Slick.prototype.resize=function(){var _=this;if($(window).width()!==_.windowWidth){clearTimeout(_.windowDelay);_.windowDelay=window.setTimeout(function(){_.windowWidth=$(window).width();_.checkResponsive();if(!_.unslicked){_.setPosition();}},50);}};Slick.prototype.removeSlide=Slick.prototype.slickRemove=function(index,removeBefore,removeAll){var _=this;if(typeof(index)==='boolean'){removeBefore=index;index=removeBefore===true?0:_.slideCount-1;}else{index=removeBefore===true?--index:index;}
    if(_.slideCount<1||index<0||index>_.slideCount-1){return false;}
    _.unload();if(removeAll===true){_.$slideTrack.children().remove();}else{_.$slideTrack.children(this.options.slide).eq(index).remove();}
    _.$slides=_.$slideTrack.children(this.options.slide);_.$slideTrack.children(this.options.slide).detach();_.$slideTrack.append(_.$slides);_.$slidesCache=_.$slides;_.reinit();};Slick.prototype.setCSS=function(position){var _=this,positionProps={},x,y;if(_.options.rtl===true){position=-position;}
    x=_.positionProp=='left'?Math.ceil(position)+'px':'0px';y=_.positionProp=='top'?Math.ceil(position)+'px':'0px';positionProps[_.positionProp]=position;if(_.transformsEnabled===false){_.$slideTrack.css(positionProps);}else{positionProps={};if(_.cssTransitions===false){positionProps[_.animType]='translate('+x+', '+y+')';_.$slideTrack.css(positionProps);}else{positionProps[_.animType]='translate3d('+x+', '+y+', 0px)';_.$slideTrack.css(positionProps);}}};Slick.prototype.setDimensions=function(){var _=this;if(_.options.vertical===false){if(_.options.centerMode===true){_.$list.css({padding:('0px '+_.options.centerPadding)});}}else{_.$list.height(_.$slides.first().outerHeight(true)*_.options.slidesToShow);if(_.options.centerMode===true){_.$list.css({padding:(_.options.centerPadding+' 0px')});}}
    _.listWidth=_.$list.width();_.listHeight=_.$list.height();if(_.options.vertical===false&&_.options.variableWidth===false){_.slideWidth=Math.ceil(_.listWidth/_.options.slidesToShow);_.$slideTrack.width(Math.ceil((_.slideWidth*_.$slideTrack.children('.slick-slide').length)));}else if(_.options.variableWidth===true){_.$slideTrack.width(5000*_.slideCount);}else{_.slideWidth=Math.ceil(_.listWidth);_.$slideTrack.height(Math.ceil((_.$slides.first().outerHeight(true)*_.$slideTrack.children('.slick-slide').length)));}
    var offset=_.$slides.first().outerWidth(true)-_.$slides.first().width();if(_.options.variableWidth===false)_.$slideTrack.children('.slick-slide').width(_.slideWidth-offset);};Slick.prototype.setFade=function(){var _=this,targetLeft;_.$slides.each(function(index,element){targetLeft=(_.slideWidth*index)*-1;if(_.options.rtl===true){$(element).css({position:'relative',right:targetLeft,top:0,zIndex:_.options.zIndex-2,opacity:0});}else{$(element).css({position:'relative',left:targetLeft,top:0,zIndex:_.options.zIndex-2,opacity:0});}});_.$slides.eq(_.currentSlide).css({zIndex:_.options.zIndex-1,opacity:1});};Slick.prototype.setHeight=function(){var _=this;if(_.options.slidesToShow===1&&_.options.adaptiveHeight===true&&_.options.vertical===false){var targetHeight=_.$slides.eq(_.currentSlide).outerHeight(true);_.$list.css('height',targetHeight);}};Slick.prototype.setOption=Slick.prototype.slickSetOption=function(option,value,refresh){var _=this,l,item;if(option==="responsive"&&$.type(value)==="array"){for(item in value){if($.type(_.options.responsive)!=="array"){_.options.responsive=[value[item]];}else{l=_.options.responsive.length-1;while(l>=0){if(_.options.responsive[l].breakpoint===value[item].breakpoint){_.options.responsive.splice(l,1);}
    l--;}
    _.options.responsive.push(value[item]);}}}else{_.options[option]=value;}
    if(refresh===true){_.unload();_.reinit();}};Slick.prototype.setPosition=function(){var _=this;_.setDimensions();_.setHeight();if(_.options.fade===false){_.setCSS(_.getLeft(_.currentSlide));}else{_.setFade();}
    _.$slider.trigger('setPosition',[_]);};Slick.prototype.setProps=function(){var _=this,bodyStyle=document.body.style;_.positionProp=_.options.vertical===true?'top':'left';if(_.positionProp==='top'){_.$slider.addClass('slick-vertical');}else{_.$slider.removeClass('slick-vertical');}
    if(bodyStyle.WebkitTransition!==undefined||bodyStyle.MozTransition!==undefined||bodyStyle.msTransition!==undefined){if(_.options.useCSS===true){_.cssTransitions=true;}}
    if(_.options.fade){if(typeof _.options.zIndex==='number'){if(_.options.zIndex<3){_.options.zIndex=3;}}else{_.options.zIndex=_.defaults.zIndex;}}
    if(bodyStyle.OTransform!==undefined){_.animType='OTransform';_.transformType='-o-transform';_.transitionType='OTransition';if(bodyStyle.perspectiveProperty===undefined&&bodyStyle.webkitPerspective===undefined)_.animType=false;}
    if(bodyStyle.MozTransform!==undefined){_.animType='MozTransform';_.transformType='-moz-transform';_.transitionType='MozTransition';if(bodyStyle.perspectiveProperty===undefined&&bodyStyle.MozPerspective===undefined)_.animType=false;}
    if(bodyStyle.webkitTransform!==undefined){_.animType='webkitTransform';_.transformType='-webkit-transform';_.transitionType='webkitTransition';if(bodyStyle.perspectiveProperty===undefined&&bodyStyle.webkitPerspective===undefined)_.animType=false;}
    if(bodyStyle.msTransform!==undefined){_.animType='msTransform';_.transformType='-ms-transform';_.transitionType='msTransition';if(bodyStyle.msTransform===undefined)_.animType=false;}
    if(bodyStyle.transform!==undefined&&_.animType!==false){_.animType='transform';_.transformType='transform';_.transitionType='transition';}
    _.transformsEnabled=_.options.useTransform&&(_.animType!==null&&_.animType!==false);};Slick.prototype.setSlideClasses=function(index){var _=this,centerOffset,allSlides,indexOffset,remainder;allSlides=_.$slider.find('.slick-slide').removeClass('slick-active slick-center slick-current').attr('aria-hidden','true');_.$slides.eq(index).addClass('slick-current');if(_.options.centerMode===true){centerOffset=Math.floor(_.options.slidesToShow/2);if(_.options.infinite===true){if(index>=centerOffset&&index<=(_.slideCount-1)-centerOffset){_.$slides.slice(index-centerOffset,index+centerOffset+1).addClass('slick-active').attr('aria-hidden','false');}else{indexOffset=_.options.slidesToShow+index;allSlides.slice(indexOffset-centerOffset+1,indexOffset+centerOffset+2).addClass('slick-active').attr('aria-hidden','false');}
    if(index===0){allSlides.eq(allSlides.length-1-_.options.slidesToShow).addClass('slick-center');}else if(index===_.slideCount-1){allSlides.eq(_.options.slidesToShow).addClass('slick-center');}}
    _.$slides.eq(index).addClass('slick-center');}else{if(index>=0&&index<=(_.slideCount-_.options.slidesToShow)){_.$slides.slice(index,index+_.options.slidesToShow).addClass('slick-active').attr('aria-hidden','false');}else if(allSlides.length<=_.options.slidesToShow){allSlides.addClass('slick-active').attr('aria-hidden','false');}else{remainder=_.slideCount%_.options.slidesToShow;indexOffset=_.options.infinite===true?_.options.slidesToShow+index:index;if(_.options.slidesToShow==_.options.slidesToScroll&&(_.slideCount-index)<_.options.slidesToShow){allSlides.slice(indexOffset-(_.options.slidesToShow-remainder),indexOffset+remainder).addClass('slick-active').attr('aria-hidden','false');}else{allSlides.slice(indexOffset,indexOffset+_.options.slidesToShow).addClass('slick-active').attr('aria-hidden','false');}}}
    if(_.options.lazyLoad==='ondemand'){_.lazyLoad();}};Slick.prototype.setupInfinite=function(){var _=this,i,slideIndex,infiniteCount;if(_.options.fade===true){_.options.centerMode=false;}
    if(_.options.infinite===true&&_.options.fade===false){slideIndex=null;if(_.slideCount>_.options.slidesToShow){if(_.options.centerMode===true){infiniteCount=_.options.slidesToShow+1;}else{infiniteCount=_.options.slidesToShow;}
        for(i=_.slideCount;i>(_.slideCount-
            infiniteCount);i-=1){slideIndex=i-1;$(_.$slides[slideIndex]).clone(true).attr('id','').attr('data-slick-index',slideIndex-_.slideCount).prependTo(_.$slideTrack).addClass('slick-cloned');}
        for(i=0;i<infiniteCount;i+=1){slideIndex=i;$(_.$slides[slideIndex]).clone(true).attr('id','').attr('data-slick-index',slideIndex+_.slideCount).appendTo(_.$slideTrack).addClass('slick-cloned');}
        _.$slideTrack.find('.slick-cloned').find('[id]').each(function(){$(this).attr('id','');});}}};Slick.prototype.setPaused=function(paused){var _=this;if(_.options.autoplay===true&&_.options.pauseOnHover===true){_.paused=paused;if(!paused){_.autoPlay();}else{_.autoPlayClear();}}};Slick.prototype.selectHandler=function(event){var _=this;var targetElement=$(event.target).is('.slick-slide')?$(event.target):$(event.target).parents('.slick-slide');var index=parseInt(targetElement.attr('data-slick-index'));if(!index)index=0;if(_.slideCount<=_.options.slidesToShow){_.setSlideClasses(index);_.asNavFor(index);return;}
    _.slideHandler(index);};Slick.prototype.slideHandler=function(index,sync,dontAnimate){var targetSlide,animSlide,oldSlide,slideLeft,targetLeft=null,_=this;sync=sync||false;if(_.animating===true&&_.options.waitForAnimate===true){return;}
    if(_.options.fade===true&&_.currentSlide===index){return;}
    if(_.slideCount<=_.options.slidesToShow){return;}
    if(sync===false){_.asNavFor(index);}
    targetSlide=index;targetLeft=_.getLeft(targetSlide);slideLeft=_.getLeft(_.currentSlide);_.currentLeft=_.swipeLeft===null?slideLeft:_.swipeLeft;if(_.options.infinite===false&&_.options.centerMode===false&&(index<0||index>_.getDotCount()*_.options.slidesToScroll)){if(_.options.fade===false){targetSlide=_.currentSlide;if(dontAnimate!==true){_.animateSlide(slideLeft,function(){_.postSlide(targetSlide);});}else{_.postSlide(targetSlide);}}
        return;}else if(_.options.infinite===false&&_.options.centerMode===true&&(index<0||index>(_.slideCount-_.options.slidesToScroll))){if(_.options.fade===false){targetSlide=_.currentSlide;if(dontAnimate!==true){_.animateSlide(slideLeft,function(){_.postSlide(targetSlide);});}else{_.postSlide(targetSlide);}}
        return;}
    if(_.options.autoplay===true){clearInterval(_.autoPlayTimer);}
    if(targetSlide<0){if(_.slideCount%_.options.slidesToScroll!==0){animSlide=_.slideCount-(_.slideCount%_.options.slidesToScroll);}else{animSlide=_.slideCount+targetSlide;}}else if(targetSlide>=_.slideCount){if(_.slideCount%_.options.slidesToScroll!==0){animSlide=0;}else{animSlide=targetSlide-_.slideCount;}}else{animSlide=targetSlide;}
    _.animating=true;_.$slider.trigger('beforeChange',[_,_.currentSlide,animSlide]);oldSlide=_.currentSlide;_.currentSlide=animSlide;_.setSlideClasses(_.currentSlide);_.updateDots();_.updateArrows();if(_.options.fade===true){if(dontAnimate!==true){_.fadeSlideOut(oldSlide);_.fadeSlide(animSlide,function(){_.postSlide(animSlide);});}else{_.postSlide(animSlide);}
        _.animateHeight();return;}
    if(dontAnimate!==true){_.animateSlide(targetLeft,function(){_.postSlide(animSlide);});}else{_.postSlide(animSlide);}};Slick.prototype.startLoad=function(){var _=this;if(_.options.arrows===true&&_.slideCount>_.options.slidesToShow){_.$prevArrow.hide();_.$nextArrow.hide();}
    if(_.options.dots===true&&_.slideCount>_.options.slidesToShow){_.$dots.hide();}
    _.$slider.addClass('slick-loading');};Slick.prototype.swipeDirection=function(){var xDist,yDist,r,swipeAngle,_=this;xDist=_.touchObject.startX-_.touchObject.curX;yDist=_.touchObject.startY-_.touchObject.curY;r=Math.atan2(yDist,xDist);swipeAngle=Math.round(r*180/Math.PI);if(swipeAngle<0){swipeAngle=360-Math.abs(swipeAngle);}
    if((swipeAngle<=45)&&(swipeAngle>=0)){return(_.options.rtl===false?'left':'right');}
    if((swipeAngle<=360)&&(swipeAngle>=315)){return(_.options.rtl===false?'left':'right');}
    if((swipeAngle>=135)&&(swipeAngle<=225)){return(_.options.rtl===false?'right':'left');}
    if(_.options.verticalSwiping===true){if((swipeAngle>=35)&&(swipeAngle<=135)){return'left';}else{return'right';}}
    return'vertical';};Slick.prototype.swipeEnd=function(event){var _=this,slideCount;_.dragging=false;_.shouldClick=(_.touchObject.swipeLength>10)?false:true;if(_.touchObject.curX===undefined){return false;}
    if(_.touchObject.edgeHit===true){_.$slider.trigger('edge',[_,_.swipeDirection()]);}
    if(_.touchObject.swipeLength>=_.touchObject.minSwipe){switch(_.swipeDirection()){case'left':slideCount=_.options.swipeToSlide?_.checkNavigable(_.currentSlide+_.getSlideCount()):_.currentSlide+_.getSlideCount();_.slideHandler(slideCount);_.currentDirection=0;_.touchObject={};_.$slider.trigger('swipe',[_,'left']);break;case'right':slideCount=_.options.swipeToSlide?_.checkNavigable(_.currentSlide-_.getSlideCount()):_.currentSlide-_.getSlideCount();_.slideHandler(slideCount);_.currentDirection=1;_.touchObject={};_.$slider.trigger('swipe',[_,'right']);break;}}else{if(_.touchObject.startX!==_.touchObject.curX){_.slideHandler(_.currentSlide);_.touchObject={};}}};Slick.prototype.swipeHandler=function(event){var _=this;if((_.options.swipe===false)||('ontouchend'in document&&_.options.swipe===false)){return;}else if(_.options.draggable===false&&event.type.indexOf('mouse')!==-1){return;}
    _.touchObject.fingerCount=event.originalEvent&&event.originalEvent.touches!==undefined?event.originalEvent.touches.length:1;_.touchObject.minSwipe=_.listWidth/_.options.touchThreshold;if(_.options.verticalSwiping===true){_.touchObject.minSwipe=_.listHeight/_.options.touchThreshold;}
    switch(event.data.action){case'start':_.swipeStart(event);break;case'move':_.swipeMove(event);break;case'end':_.swipeEnd(event);break;}};Slick.prototype.swipeMove=function(event){var _=this,edgeWasHit=false,curLeft,swipeDirection,swipeLength,positionOffset,touches;touches=event.originalEvent!==undefined?event.originalEvent.touches:null;if(!_.dragging||touches&&touches.length!==1){return false;}
    curLeft=_.getLeft(_.currentSlide);_.touchObject.curX=touches!==undefined?touches[0].pageX:event.clientX;_.touchObject.curY=touches!==undefined?touches[0].pageY:event.clientY;_.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(_.touchObject.curX-_.touchObject.startX,2)));if(_.options.verticalSwiping===true){_.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(_.touchObject.curY-_.touchObject.startY,2)));}
    swipeDirection=_.swipeDirection();if(swipeDirection==='vertical'){return;}
    if(event.originalEvent!==undefined&&_.touchObject.swipeLength>4){event.preventDefault();}
    positionOffset=(_.options.rtl===false?1:-1)*(_.touchObject.curX>_.touchObject.startX?1:-1);if(_.options.verticalSwiping===true){positionOffset=_.touchObject.curY>_.touchObject.startY?1:-1;}
    swipeLength=_.touchObject.swipeLength;_.touchObject.edgeHit=false;if(_.options.infinite===false){if((_.currentSlide===0&&swipeDirection==='right')||(_.currentSlide>=_.getDotCount()&&swipeDirection==='left')){swipeLength=_.touchObject.swipeLength*_.options.edgeFriction;_.touchObject.edgeHit=true;}}
    if(_.options.vertical===false){_.swipeLeft=curLeft+swipeLength*positionOffset;}else{_.swipeLeft=curLeft+(swipeLength*(_.$list.height()/_.listWidth))*positionOffset;}
    if(_.options.verticalSwiping===true){_.swipeLeft=curLeft+swipeLength*positionOffset;}
    if(_.options.fade===true||_.options.touchMove===false){return false;}
    if(_.animating===true){_.swipeLeft=null;return false;}
    _.setCSS(_.swipeLeft);};Slick.prototype.swipeStart=function(event){var _=this,touches;if(_.touchObject.fingerCount!==1||_.slideCount<=_.options.slidesToShow){_.touchObject={};return false;}
    if(event.originalEvent!==undefined&&event.originalEvent.touches!==undefined){touches=event.originalEvent.touches[0];}
    _.touchObject.startX=_.touchObject.curX=touches!==undefined?touches.pageX:event.clientX;_.touchObject.startY=_.touchObject.curY=touches!==undefined?touches.pageY:event.clientY;_.dragging=true;};Slick.prototype.unfilterSlides=Slick.prototype.slickUnfilter=function(){var _=this;if(_.$slidesCache!==null){_.unload();_.$slideTrack.children(this.options.slide).detach();_.$slidesCache.appendTo(_.$slideTrack);_.reinit();}};Slick.prototype.unload=function(){var _=this;$('.slick-cloned',_.$slider).remove();if(_.$dots){_.$dots.remove();}
    if(_.$prevArrow&&_.htmlExpr.test(_.options.prevArrow)){_.$prevArrow.remove();}
    if(_.$nextArrow&&_.htmlExpr.test(_.options.nextArrow)){_.$nextArrow.remove();}
    _.$slides.removeClass('slick-slide slick-active slick-visible slick-current').attr('aria-hidden','true').css('width','');};Slick.prototype.unslick=function(fromBreakpoint){var _=this;_.$slider.trigger('unslick',[_,fromBreakpoint]);_.destroy();};Slick.prototype.updateArrows=function(){var _=this,centerOffset;centerOffset=Math.floor(_.options.slidesToShow/2);if(_.options.arrows===true&&_.slideCount>_.options.slidesToShow&&!_.options.infinite){_.$prevArrow.removeClass('slick-disabled').attr('aria-disabled','false');_.$nextArrow.removeClass('slick-disabled').attr('aria-disabled','false');if(_.currentSlide===0){_.$prevArrow.addClass('slick-disabled').attr('aria-disabled','true');_.$nextArrow.removeClass('slick-disabled').attr('aria-disabled','false');}else if(_.currentSlide>=_.slideCount-_.options.slidesToShow&&_.options.centerMode===false){_.$nextArrow.addClass('slick-disabled').attr('aria-disabled','true');_.$prevArrow.removeClass('slick-disabled').attr('aria-disabled','false');}else if(_.currentSlide>=_.slideCount-1&&_.options.centerMode===true){_.$nextArrow.addClass('slick-disabled').attr('aria-disabled','true');_.$prevArrow.removeClass('slick-disabled').attr('aria-disabled','false');}}};Slick.prototype.updateDots=function(){var _=this;if(_.$dots!==null){_.$dots.find('li').removeClass('slick-active').attr('aria-hidden','true');_.$dots.find('li').eq(Math.floor(_.currentSlide/_.options.slidesToScroll)).addClass('slick-active').attr('aria-hidden','false');}};Slick.prototype.visibility=function(){var _=this;if(document[_.hidden]){_.paused=true;_.autoPlayClear();}else{if(_.options.autoplay===true){_.paused=false;_.autoPlay();}}};Slick.prototype.initADA=function(){var _=this;_.$slides.add(_.$slideTrack.find('.slick-cloned')).attr({'aria-hidden':'true','tabindex':'-1'}).find('a, input, button, select').attr({'tabindex':'-1'});_.$slideTrack.attr('role','listbox');_.$slides.not(_.$slideTrack.find('.slick-cloned')).each(function(i){$(this).attr({'role':'option','aria-describedby':'slick-slide'+_.instanceUid+i+''});});if(_.$dots!==null){_.$dots.attr('role','tablist').find('li').each(function(i){$(this).attr({'role':'presentation','aria-selected':'false','aria-controls':'navigation'+_.instanceUid+i+'','id':'slick-slide'+_.instanceUid+i+''});}).first().attr('aria-selected','true').end().find('button').attr('role','button').end().closest('div').attr('role','toolbar');}
    _.activateADA();};Slick.prototype.activateADA=function(){var _=this;_.$slideTrack.find('.slick-active').attr({'aria-hidden':'false'}).find('a, input, button, select').attr({'tabindex':'0'});};Slick.prototype.focusHandler=function(){var _=this;_.$slider.on('focus.slick blur.slick','*',function(event){event.stopImmediatePropagation();var sf=$(this);setTimeout(function(){if(_.isPlay){if(sf.is(':focus')){_.autoPlayClear();_.paused=true;}else{_.paused=false;_.autoPlay();}}},0);});};$.fn.slick=function(){var _=this,opt=arguments[0],args=Array.prototype.slice.call(arguments,1),l=_.length,i,ret;for(i=0;i<l;i++){if(typeof opt=='object'||typeof opt=='undefined')
    _[i].slick=new Slick(_[i],opt);else
    ret=_[i].slick[opt].apply(_[i].slick,args);if(typeof ret!='undefined')return ret;}
    return _;};}));(function(global,factory){if(typeof define==='function'&&define.amd){define(['exports','module'],factory);}else if(typeof exports!=='undefined'&&typeof module!=='undefined'){factory(exports,module);}else{var mod={exports:{}};factory(mod.exports,mod);global.autosize=mod.exports;}})(this,function(exports,module){'use strict';var set=Set?new Set():(function(){var list=[];return{has:function has(key){return Boolean(list.indexOf(key)>-1);},add:function add(key){list.push(key);},'delete':function _delete(key){list.splice(list.indexOf(key),1);}};})();function assign(ta){var _ref=arguments[1]===undefined?{}:arguments[1];var _ref$setOverflowX=_ref.setOverflowX;var setOverflowX=_ref$setOverflowX===undefined?true:_ref$setOverflowX;var _ref$setOverflowY=_ref.setOverflowY;var setOverflowY=_ref$setOverflowY===undefined?true:_ref$setOverflowY;if(!ta||!ta.nodeName||ta.nodeName!=='TEXTAREA'||set.has(ta))return;var heightOffset=null;var overflowY='hidden';function init(){var style=window.getComputedStyle(ta,null);if(style.resize==='vertical'){ta.style.resize='none';}else if(style.resize==='both'){ta.style.resize='horizontal';}
    if(style.boxSizing==='content-box'){heightOffset=-(parseFloat(style.paddingTop)+parseFloat(style.paddingBottom));}else{heightOffset=parseFloat(style.borderTopWidth)+parseFloat(style.borderBottomWidth);}
    if(isNaN(heightOffset)){heightOffset=0;}
    update();}
    function changeOverflow(value){{var width=ta.style.width;ta.style.width='0px';ta.offsetWidth;ta.style.width=width;}
        overflowY=value;if(setOverflowY){ta.style.overflowY=value;}
        resize();}
    function resize(){var htmlTop=window.pageYOffset;var bodyTop=document.body.scrollTop;var originalHeight=ta.style.height;ta.style.height='auto';var endHeight=ta.scrollHeight+heightOffset;if(ta.scrollHeight===0){ta.style.height=originalHeight;return;}
        ta.style.height=endHeight+'px';document.documentElement.scrollTop=htmlTop;document.body.scrollTop=bodyTop;}
    function update(){var startHeight=ta.style.height;resize();var style=window.getComputedStyle(ta,null);if(style.height!==ta.style.height){if(overflowY!=='visible'){changeOverflow('visible');}}else{if(overflowY!=='hidden'){changeOverflow('hidden');}}
        if(startHeight!==ta.style.height){var evt=document.createEvent('Event');evt.initEvent('autosize:resized',true,false);ta.dispatchEvent(evt);}}
    var destroy=(function(style){window.removeEventListener('resize',update);ta.removeEventListener('input',update);ta.removeEventListener('keyup',update);ta.removeEventListener('autosize:destroy',destroy);set['delete'](ta);Object.keys(style).forEach(function(key){ta.style[key]=style[key];});}).bind(ta,{height:ta.style.height,resize:ta.style.resize,overflowY:ta.style.overflowY,overflowX:ta.style.overflowX,wordWrap:ta.style.wordWrap});ta.addEventListener('autosize:destroy',destroy);if('onpropertychange'in ta&&'oninput'in ta){ta.addEventListener('keyup',update);}
    window.addEventListener('resize',update);ta.addEventListener('input',update);ta.addEventListener('autosize:update',update);set.add(ta);if(setOverflowY){ta.style.overflowY='hidden';}
    if(setOverflowX){ta.style.overflowX='hidden';ta.style.wordWrap='break-word';}
    init();}
    function destroy(ta){if(!(ta&&ta.nodeName&&ta.nodeName==='TEXTAREA'))return;var evt=document.createEvent('Event');evt.initEvent('autosize:destroy',true,false);ta.dispatchEvent(evt);}
    function update(ta){if(!(ta&&ta.nodeName&&ta.nodeName==='TEXTAREA'))return;var evt=document.createEvent('Event');evt.initEvent('autosize:update',true,false);ta.dispatchEvent(evt);}
    var autosize=null;if(typeof window==='undefined'||typeof window.getComputedStyle!=='function'){autosize=function(el){return el;};autosize.destroy=function(el){return el;};autosize.update=function(el){return el;};}else{autosize=function(el,options){if(el){Array.prototype.forEach.call(el.length?el:[el],function(x){return assign(x,options);});}
        return el;};autosize.destroy=function(el){if(el){Array.prototype.forEach.call(el.length?el:[el],destroy);}
        return el;};autosize.update=function(el){if(el){Array.prototype.forEach.call(el.length?el:[el],update);}
        return el;};}
    module.exports=autosize;});!function(t,e){"use strict";"function"==typeof define&&define.amd?define("jquery-bridget/jquery-bridget",["jquery"],function(i){e(t,i)}):"object"==typeof module&&module.exports?module.exports=e(t,require("jquery")):t.jQueryBridget=e(t,t.jQuery)}(window,function(t,e){"use strict";function i(i,s,a){function h(t,e,n){var o,s="$()."+i+'("'+e+'")';return t.each(function(t,h){var u=a.data(h,i);if(!u)return void r(i+" not initialized. Cannot call methods, i.e. "+s);var c=u[e];if(!c||"_"==e.charAt(0))return void r(s+" is not a valid method");var d=c.apply(u,n);o=void 0===o?d:o}),void 0!==o?o:t}function u(t,e){t.each(function(t,n){var o=a.data(n,i);o?(o.option(e),o._init()):(o=new s(n,e),a.data(n,i,o))})}a=a||e||t.jQuery,a&&(s.prototype.option||(s.prototype.option=function(t){a.isPlainObject(t)&&(this.options=a.extend(!0,this.options,t))}),a.fn[i]=function(t){if("string"==typeof t){var e=o.call(arguments,1);return h(this,t,e)}return u(this,t),this},n(a))}function n(t){!t||t&&t.bridget||(t.bridget=i)}var o=Array.prototype.slice,s=t.console,r="undefined"==typeof s?function(){}:function(t){s.error(t)};return n(e||t.jQuery),i}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("get-size/get-size",[],function(){return e()}):"object"==typeof module&&module.exports?module.exports=e():t.getSize=e()}(window,function(){"use strict";function t(t){var e=parseFloat(t),i=-1==t.indexOf("%")&&!isNaN(e);return i&&e}function e(){}function i(){for(var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},e=0;u>e;e++){var i=h[e];t[i]=0}return t}function n(t){var e=getComputedStyle(t);return e||a("Style returned "+e+". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1"),e}function o(){if(!c){c=!0;var e=document.createElement("div");e.style.width="200px",e.style.padding="1px 2px 3px 4px",e.style.borderStyle="solid",e.style.borderWidth="1px 2px 3px 4px",e.style.boxSizing="border-box";var i=document.body||document.documentElement;i.appendChild(e);var o=n(e);s.isBoxSizeOuter=r=200==t(o.width),i.removeChild(e)}}function s(e){if(o(),"string"==typeof e&&(e=document.querySelector(e)),e&&"object"==typeof e&&e.nodeType){var s=n(e);if("none"==s.display)return i();var a={};a.width=e.offsetWidth,a.height=e.offsetHeight;for(var c=a.isBorderBox="border-box"==s.boxSizing,d=0;u>d;d++){var f=h[d],l=s[f],p=parseFloat(l);a[f]=isNaN(p)?0:p}var g=a.paddingLeft+a.paddingRight,m=a.paddingTop+a.paddingBottom,y=a.marginLeft+a.marginRight,v=a.marginTop+a.marginBottom,_=a.borderLeftWidth+a.borderRightWidth,x=a.borderTopWidth+a.borderBottomWidth,b=c&&r,E=t(s.width);E!==!1&&(a.width=E+(b?0:g+_));var T=t(s.height);return T!==!1&&(a.height=T+(b?0:m+x)),a.innerWidth=a.width-(g+_),a.innerHeight=a.height-(m+x),a.outerWidth=a.width+y,a.outerHeight=a.height+v,a}}var r,a="undefined"==typeof console?e:function(t){console.error(t)},h=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],u=h.length,c=!1;return s}),function(t,e){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",e):"object"==typeof module&&module.exports?module.exports=e():t.EvEmitter=e()}(this,function(){function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var i=this._events=this._events||{},n=i[t]=i[t]||[];return-1==n.indexOf(e)&&n.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var i=this._onceEvents=this._onceEvents||{},n=i[t]=i[t]||{};return n[e]=!0,this}},e.off=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){var n=i.indexOf(e);return-1!=n&&i.splice(n,1),this}},e.emitEvent=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){var n=0,o=i[n];e=e||[];for(var s=this._onceEvents&&this._onceEvents[t];o;){var r=s&&s[o];r&&(this.off(t,o),delete s[o]),o.apply(this,e),n+=r?0:1,o=i[n]}return this}},t}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("desandro-matches-selector/matches-selector",e):"object"==typeof module&&module.exports?module.exports=e():t.matchesSelector=e()}(window,function(){"use strict";var t=function(){var t=Element.prototype;if(t.matches)return"matches";if(t.matchesSelector)return"matchesSelector";for(var e=["webkit","moz","ms","o"],i=0;i<e.length;i++){var n=e[i],o=n+"MatchesSelector";if(t[o])return o}}();return function(e,i){return e[t](i)}}),function(t,e){"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["desandro-matches-selector/matches-selector"],function(i){return e(t,i)}):"object"==typeof module&&module.exports?module.exports=e(t,require("desandro-matches-selector")):t.fizzyUIUtils=e(t,t.matchesSelector)}(window,function(t,e){var i={};i.extend=function(t,e){for(var i in e)t[i]=e[i];return t},i.modulo=function(t,e){return(t%e+e)%e},i.makeArray=function(t){var e=[];if(Array.isArray(t))e=t;else if(t&&"number"==typeof t.length)for(var i=0;i<t.length;i++)e.push(t[i]);else e.push(t);return e},i.removeFrom=function(t,e){var i=t.indexOf(e);-1!=i&&t.splice(i,1)},i.getParent=function(t,i){for(;t!=document.body;)if(t=t.parentNode,e(t,i))return t},i.getQueryElement=function(t){return"string"==typeof t?document.querySelector(t):t},i.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},i.filterFindElements=function(t,n){t=i.makeArray(t);var o=[];return t.forEach(function(t){if(t instanceof HTMLElement){if(!n)return void o.push(t);e(t,n)&&o.push(t);for(var i=t.querySelectorAll(n),s=0;s<i.length;s++)o.push(i[s])}}),o},i.debounceMethod=function(t,e,i){var n=t.prototype[e],o=e+"Timeout";t.prototype[e]=function(){var t=this[o];t&&clearTimeout(t);var e=arguments,s=this;this[o]=setTimeout(function(){n.apply(s,e),delete s[o]},i||100)}},i.docReady=function(t){"complete"==document.readyState?t():document.addEventListener("DOMContentLoaded",t)},i.toDashed=function(t){return t.replace(/(.)([A-Z])/g,function(t,e,i){return e+"-"+i}).toLowerCase()};var n=t.console;return i.htmlInit=function(e,o){i.docReady(function(){var s=i.toDashed(o),r="data-"+s,a=document.querySelectorAll("["+r+"]"),h=document.querySelectorAll(".js-"+s),u=i.makeArray(a).concat(i.makeArray(h)),c=r+"-options",d=t.jQuery;u.forEach(function(t){var i,s=t.getAttribute(r)||t.getAttribute(c);try{i=s&&JSON.parse(s)}catch(a){return void(n&&n.error("Error parsing "+r+" on "+t.className+": "+a))}var h=new e(t,i);d&&d.data(t,o,h)})})},i}),function(t,e){"function"==typeof define&&define.amd?define("outlayer/item",["ev-emitter/ev-emitter","get-size/get-size"],e):"object"==typeof module&&module.exports?module.exports=e(require("ev-emitter"),require("get-size")):(t.Outlayer={},t.Outlayer.Item=e(t.EvEmitter,t.getSize))}(window,function(t,e){"use strict";function i(t){for(var e in t)return!1;return e=null,!0}function n(t,e){t&&(this.element=t,this.layout=e,this.position={x:0,y:0},this._create())}function o(t){return t.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}var s=document.documentElement.style,r="string"==typeof s.transition?"transition":"WebkitTransition",a="string"==typeof s.transform?"transform":"WebkitTransform",h={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[r],u={transform:a,transition:r,transitionDuration:r+"Duration",transitionProperty:r+"Property",transitionDelay:r+"Delay"},c=n.prototype=Object.create(t.prototype);c.constructor=n,c._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},c.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},c.getSize=function(){this.size=e(this.element)},c.css=function(t){var e=this.element.style;for(var i in t){var n=u[i]||i;e[n]=t[i]}},c.getPosition=function(){var t=getComputedStyle(this.element),e=this.layout._getOption("originLeft"),i=this.layout._getOption("originTop"),n=t[e?"left":"right"],o=t[i?"top":"bottom"],s=this.layout.size,r=-1!=n.indexOf("%")?parseFloat(n)/100*s.width:parseInt(n,10),a=-1!=o.indexOf("%")?parseFloat(o)/100*s.height:parseInt(o,10);r=isNaN(r)?0:r,a=isNaN(a)?0:a,r-=e?s.paddingLeft:s.paddingRight,a-=i?s.paddingTop:s.paddingBottom,this.position.x=r,this.position.y=a},c.layoutPosition=function(){var t=this.layout.size,e={},i=this.layout._getOption("originLeft"),n=this.layout._getOption("originTop"),o=i?"paddingLeft":"paddingRight",s=i?"left":"right",r=i?"right":"left",a=this.position.x+t[o];e[s]=this.getXValue(a),e[r]="";var h=n?"paddingTop":"paddingBottom",u=n?"top":"bottom",c=n?"bottom":"top",d=this.position.y+t[h];e[u]=this.getYValue(d),e[c]="",this.css(e),this.emitEvent("layout",[this])},c.getXValue=function(t){var e=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&!e?t/this.layout.size.width*100+"%":t+"px"},c.getYValue=function(t){var e=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&e?t/this.layout.size.height*100+"%":t+"px"},c._transitionTo=function(t,e){this.getPosition();var i=this.position.x,n=this.position.y,o=parseInt(t,10),s=parseInt(e,10),r=o===this.position.x&&s===this.position.y;if(this.setPosition(t,e),r&&!this.isTransitioning)return void this.layoutPosition();var a=t-i,h=e-n,u={};u.transform=this.getTranslate(a,h),this.transition({to:u,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})},c.getTranslate=function(t,e){var i=this.layout._getOption("originLeft"),n=this.layout._getOption("originTop");return t=i?t:-t,e=n?e:-e,"translate3d("+t+"px, "+e+"px, 0)"},c.goTo=function(t,e){this.setPosition(t,e),this.layoutPosition()},c.moveTo=c._transitionTo,c.setPosition=function(t,e){this.position.x=parseInt(t,10),this.position.y=parseInt(e,10)},c._nonTransition=function(t){this.css(t.to),t.isCleaning&&this._removeStyles(t.to);for(var e in t.onTransitionEnd)t.onTransitionEnd[e].call(this)},c.transition=function(t){if(!parseFloat(this.layout.options.transitionDuration))return void this._nonTransition(t);var e=this._transn;for(var i in t.onTransitionEnd)e.onEnd[i]=t.onTransitionEnd[i];for(i in t.to)e.ingProperties[i]=!0,t.isCleaning&&(e.clean[i]=!0);if(t.from){this.css(t.from);var n=this.element.offsetHeight;n=null}this.enableTransition(t.to),this.css(t.to),this.isTransitioning=!0};var d="opacity,"+o(a);c.enableTransition=function(){if(!this.isTransitioning){var t=this.layout.options.transitionDuration;t="number"==typeof t?t+"ms":t,this.css({transitionProperty:d,transitionDuration:t,transitionDelay:this.staggerDelay||0}),this.element.addEventListener(h,this,!1)}},c.onwebkitTransitionEnd=function(t){this.ontransitionend(t)},c.onotransitionend=function(t){this.ontransitionend(t)};var f={"-webkit-transform":"transform"};c.ontransitionend=function(t){if(t.target===this.element){var e=this._transn,n=f[t.propertyName]||t.propertyName;if(delete e.ingProperties[n],i(e.ingProperties)&&this.disableTransition(),n in e.clean&&(this.element.style[t.propertyName]="",delete e.clean[n]),n in e.onEnd){var o=e.onEnd[n];o.call(this),delete e.onEnd[n]}this.emitEvent("transitionEnd",[this])}},c.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(h,this,!1),this.isTransitioning=!1},c._removeStyles=function(t){var e={};for(var i in t)e[i]="";this.css(e)};var l={transitionProperty:"",transitionDuration:"",transitionDelay:""};return c.removeTransitionStyles=function(){this.css(l)},c.stagger=function(t){t=isNaN(t)?0:t,this.staggerDelay=t+"ms"},c.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},c.remove=function(){return r&&parseFloat(this.layout.options.transitionDuration)?(this.once("transitionEnd",function(){this.removeElem()}),void this.hide()):void this.removeElem()},c.reveal=function(){delete this.isHidden,this.css({display:""});var t=this.layout.options,e={},i=this.getHideRevealTransitionEndProperty("visibleStyle");e[i]=this.onRevealTransitionEnd,this.transition({from:t.hiddenStyle,to:t.visibleStyle,isCleaning:!0,onTransitionEnd:e})},c.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},c.getHideRevealTransitionEndProperty=function(t){var e=this.layout.options[t];if(e.opacity)return"opacity";for(var i in e)return i},c.hide=function(){this.isHidden=!0,this.css({display:""});var t=this.layout.options,e={},i=this.getHideRevealTransitionEndProperty("hiddenStyle");e[i]=this.onHideTransitionEnd,this.transition({from:t.visibleStyle,to:t.hiddenStyle,isCleaning:!0,onTransitionEnd:e})},c.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},c.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},n}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("outlayer/outlayer",["ev-emitter/ev-emitter","get-size/get-size","fizzy-ui-utils/utils","./item"],function(i,n,o,s){return e(t,i,n,o,s)}):"object"==typeof module&&module.exports?module.exports=e(t,require("ev-emitter"),require("get-size"),require("fizzy-ui-utils"),require("./item")):t.Outlayer=e(t,t.EvEmitter,t.getSize,t.fizzyUIUtils,t.Outlayer.Item)}(window,function(t,e,i,n,o){"use strict";function s(t,e){var i=n.getQueryElement(t);if(!i)return void(h&&h.error("Bad element for "+this.constructor.namespace+": "+(i||t)));this.element=i,u&&(this.$element=u(this.element)),this.options=n.extend({},this.constructor.defaults),this.option(e);var o=++d;this.element.outlayerGUID=o,f[o]=this,this._create();var s=this._getOption("initLayout");s&&this.layout()}function r(t){function e(){t.apply(this,arguments)}return e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e}function a(t){if("number"==typeof t)return t;var e=t.match(/(^\d*\.?\d*)(\w*)/),i=e&&e[1],n=e&&e[2];if(!i.length)return 0;i=parseFloat(i);var o=p[n]||1;return i*o}var h=t.console,u=t.jQuery,c=function(){},d=0,f={};s.namespace="outlayer",s.Item=o,s.defaults={containerStyle:{position:"relative"},initLayout:!0,originLeft:!0,originTop:!0,resize:!0,resizeContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}};var l=s.prototype;n.extend(l,e.prototype),l.option=function(t){n.extend(this.options,t)},l._getOption=function(t){var e=this.constructor.compatOptions[t];return e&&void 0!==this.options[e]?this.options[e]:this.options[t]},s.compatOptions={initLayout:"isInitLayout",horizontal:"isHorizontal",layoutInstant:"isLayoutInstant",originLeft:"isOriginLeft",originTop:"isOriginTop",resize:"isResizeBound",resizeContainer:"isResizingContainer"},l._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),n.extend(this.element.style,this.options.containerStyle);var t=this._getOption("resize");t&&this.bindResize()},l.reloadItems=function(){this.items=this._itemize(this.element.children)},l._itemize=function(t){for(var e=this._filterFindItemElements(t),i=this.constructor.Item,n=[],o=0;o<e.length;o++){var s=e[o],r=new i(s,this);n.push(r)}return n},l._filterFindItemElements=function(t){return n.filterFindElements(t,this.options.itemSelector)},l.getItemElements=function(){return this.items.map(function(t){return t.element})},l.layout=function(){this._resetLayout(),this._manageStamps();var t=this._getOption("layoutInstant"),e=void 0!==t?t:!this._isLayoutInited;this.layoutItems(this.items,e),this._isLayoutInited=!0},l._init=l.layout,l._resetLayout=function(){this.getSize()},l.getSize=function(){this.size=i(this.element)},l._getMeasurement=function(t,e){var n,o=this.options[t];o?("string"==typeof o?n=this.element.querySelector(o):o instanceof HTMLElement&&(n=o),this[t]=n?i(n)[e]:o):this[t]=0},l.layoutItems=function(t,e){t=this._getItemsForLayout(t),this._layoutItems(t,e),this._postLayout()},l._getItemsForLayout=function(t){return t.filter(function(t){return!t.isIgnored})},l._layoutItems=function(t,e){if(this._emitCompleteOnItems("layout",t),t&&t.length){var i=[];t.forEach(function(t){var n=this._getItemLayoutPosition(t);n.item=t,n.isInstant=e||t.isLayoutInstant,i.push(n)},this),this._processLayoutQueue(i)}},l._getItemLayoutPosition=function(){return{x:0,y:0}},l._processLayoutQueue=function(t){this.updateStagger(),t.forEach(function(t,e){this._positionItem(t.item,t.x,t.y,t.isInstant,e)},this)},l.updateStagger=function(){var t=this.options.stagger;return null===t||void 0===t?void(this.stagger=0):(this.stagger=a(t),this.stagger)},l._positionItem=function(t,e,i,n,o){n?t.goTo(e,i):(t.stagger(o*this.stagger),t.moveTo(e,i))},l._postLayout=function(){this.resizeContainer()},l.resizeContainer=function(){var t=this._getOption("resizeContainer");if(t){var e=this._getContainerSize();e&&(this._setContainerMeasure(e.width,!0),this._setContainerMeasure(e.height,!1))}},l._getContainerSize=c,l._setContainerMeasure=function(t,e){if(void 0!==t){var i=this.size;i.isBorderBox&&(t+=e?i.paddingLeft+i.paddingRight+i.borderLeftWidth+i.borderRightWidth:i.paddingBottom+i.paddingTop+i.borderTopWidth+i.borderBottomWidth),t=Math.max(t,0),this.element.style[e?"width":"height"]=t+"px"}},l._emitCompleteOnItems=function(t,e){function i(){o.dispatchEvent(t+"Complete",null,[e])}function n(){r++,r==s&&i()}var o=this,s=e.length;if(!e||!s)return void i();var r=0;e.forEach(function(e){e.once(t,n)})},l.dispatchEvent=function(t,e,i){var n=e?[e].concat(i):i;if(this.emitEvent(t,n),u)if(this.$element=this.$element||u(this.element),e){var o=u.Event(e);o.type=t,this.$element.trigger(o,i)}else this.$element.trigger(t,i)},l.ignore=function(t){var e=this.getItem(t);e&&(e.isIgnored=!0)},l.unignore=function(t){var e=this.getItem(t);e&&delete e.isIgnored},l.stamp=function(t){t=this._find(t),t&&(this.stamps=this.stamps.concat(t),t.forEach(this.ignore,this))},l.unstamp=function(t){t=this._find(t),t&&t.forEach(function(t){n.removeFrom(this.stamps,t),this.unignore(t)},this)},l._find=function(t){return t?("string"==typeof t&&(t=this.element.querySelectorAll(t)),t=n.makeArray(t)):void 0},l._manageStamps=function(){this.stamps&&this.stamps.length&&(this._getBoundingRect(),this.stamps.forEach(this._manageStamp,this))},l._getBoundingRect=function(){var t=this.element.getBoundingClientRect(),e=this.size;this._boundingRect={left:t.left+e.paddingLeft+e.borderLeftWidth,top:t.top+e.paddingTop+e.borderTopWidth,right:t.right-(e.paddingRight+e.borderRightWidth),bottom:t.bottom-(e.paddingBottom+e.borderBottomWidth)}},l._manageStamp=c,l._getElementOffset=function(t){var e=t.getBoundingClientRect(),n=this._boundingRect,o=i(t),s={left:e.left-n.left-o.marginLeft,top:e.top-n.top-o.marginTop,right:n.right-e.right-o.marginRight,bottom:n.bottom-e.bottom-o.marginBottom};return s},l.handleEvent=n.handleEvent,l.bindResize=function(){t.addEventListener("resize",this),this.isResizeBound=!0},l.unbindResize=function(){t.removeEventListener("resize",this),this.isResizeBound=!1},l.onresize=function(){this.resize()},n.debounceMethod(s,"onresize",100),l.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},l.needsResizeLayout=function(){var t=i(this.element),e=this.size&&t;return e&&t.innerWidth!==this.size.innerWidth},l.addItems=function(t){var e=this._itemize(t);return e.length&&(this.items=this.items.concat(e)),e},l.appended=function(t){var e=this.addItems(t);e.length&&(this.layoutItems(e,!0),this.reveal(e))},l.prepended=function(t){var e=this._itemize(t);if(e.length){var i=this.items.slice(0);this.items=e.concat(i),this._resetLayout(),this._manageStamps(),this.layoutItems(e,!0),this.reveal(e),this.layoutItems(i)}},l.reveal=function(t){if(this._emitCompleteOnItems("reveal",t),t&&t.length){var e=this.updateStagger();t.forEach(function(t,i){t.stagger(i*e),t.reveal()})}},l.hide=function(t){if(this._emitCompleteOnItems("hide",t),t&&t.length){var e=this.updateStagger();t.forEach(function(t,i){t.stagger(i*e),t.hide()})}},l.revealItemElements=function(t){var e=this.getItems(t);this.reveal(e)},l.hideItemElements=function(t){var e=this.getItems(t);this.hide(e)},l.getItem=function(t){for(var e=0;e<this.items.length;e++){var i=this.items[e];if(i.element==t)return i}},l.getItems=function(t){t=n.makeArray(t);var e=[];return t.forEach(function(t){var i=this.getItem(t);i&&e.push(i)},this),e},l.remove=function(t){var e=this.getItems(t);this._emitCompleteOnItems("remove",e),e&&e.length&&e.forEach(function(t){t.remove(),n.removeFrom(this.items,t)},this)},l.destroy=function(){var t=this.element.style;t.height="",t.position="",t.width="",this.items.forEach(function(t){t.destroy()}),this.unbindResize();var e=this.element.outlayerGUID;delete f[e],delete this.element.outlayerGUID,u&&u.removeData(this.element,this.constructor.namespace)},s.data=function(t){t=n.getQueryElement(t);var e=t&&t.outlayerGUID;return e&&f[e]},s.create=function(t,e){var i=r(s);return i.defaults=n.extend({},s.defaults),n.extend(i.defaults,e),i.compatOptions=n.extend({},s.compatOptions),i.namespace=t,i.data=s.data,i.Item=r(o),n.htmlInit(i,t),u&&u.bridget&&u.bridget(t,i),i};var p={ms:1,s:1e3};return s.Item=o,s}),function(t,e){"function"==typeof define&&define.amd?define("packery/js/rect",e):"object"==typeof module&&module.exports?module.exports=e():(t.Packery=t.Packery||{},t.Packery.Rect=e())}(window,function(){"use strict";function t(e){for(var i in t.defaults)this[i]=t.defaults[i];for(i in e)this[i]=e[i]}t.defaults={x:0,y:0,width:0,height:0};var e=t.prototype;return e.contains=function(t){var e=t.width||0,i=t.height||0;return this.x<=t.x&&this.y<=t.y&&this.x+this.width>=t.x+e&&this.y+this.height>=t.y+i},e.overlaps=function(t){var e=this.x+this.width,i=this.y+this.height,n=t.x+t.width,o=t.y+t.height;return this.x<n&&e>t.x&&this.y<o&&i>t.y},e.getMaximalFreeRects=function(e){if(!this.overlaps(e))return!1;var i,n=[],o=this.x+this.width,s=this.y+this.height,r=e.x+e.width,a=e.y+e.height;return this.y<e.y&&(i=new t({x:this.x,y:this.y,width:this.width,height:e.y-this.y}),n.push(i)),o>r&&(i=new t({x:r,y:this.y,width:o-r,height:this.height}),n.push(i)),s>a&&(i=new t({x:this.x,y:a,width:this.width,height:s-a}),n.push(i)),this.x<e.x&&(i=new t({x:this.x,y:this.y,width:e.x-this.x,height:this.height}),n.push(i)),n},e.canFit=function(t){return this.width>=t.width&&this.height>=t.height},t}),function(t,e){if("function"==typeof define&&define.amd)define("packery/js/packer",["./rect"],e);else if("object"==typeof module&&module.exports)module.exports=e(require("./rect"));else{var i=t.Packery=t.Packery||{};i.Packer=e(i.Rect)}}(window,function(t){"use strict";function e(t,e,i){this.width=t||0,this.height=e||0,this.sortDirection=i||"downwardLeftToRight",this.reset()}var i=e.prototype;i.reset=function(){this.spaces=[];var e=new t({x:0,y:0,width:this.width,height:this.height});this.spaces.push(e),this.sorter=n[this.sortDirection]||n.downwardLeftToRight},i.pack=function(t){for(var e=0;e<this.spaces.length;e++){var i=this.spaces[e];if(i.canFit(t)){this.placeInSpace(t,i);break}}},i.columnPack=function(t){for(var e=0;e<this.spaces.length;e++){var i=this.spaces[e],n=i.x<=t.x&&i.x+i.width>=t.x+t.width&&i.height>=t.height-.01;if(n){t.y=i.y,this.placed(t);break}}},i.rowPack=function(t){for(var e=0;e<this.spaces.length;e++){var i=this.spaces[e],n=i.y<=t.y&&i.y+i.height>=t.y+t.height&&i.width>=t.width-.01;if(n){t.x=i.x,this.placed(t);break}}},i.placeInSpace=function(t,e){t.x=e.x,t.y=e.y,this.placed(t)},i.placed=function(t){for(var e=[],i=0;i<this.spaces.length;i++){var n=this.spaces[i],o=n.getMaximalFreeRects(t);o?e.push.apply(e,o):e.push(n)}this.spaces=e,this.mergeSortSpaces()},i.mergeSortSpaces=function(){e.mergeRects(this.spaces),this.spaces.sort(this.sorter)},i.addSpace=function(t){this.spaces.push(t),this.mergeSortSpaces()},e.mergeRects=function(t){var e=0,i=t[e];t:for(;i;){for(var n=0,o=t[e+n];o;){if(o==i)n++;else{if(o.contains(i)){t.splice(e,1),i=t[e];continue t}i.contains(o)?t.splice(e+n,1):n++}o=t[e+n]}e++,i=t[e]}return t};var n={downwardLeftToRight:function(t,e){return t.y-e.y||t.x-e.x},rightwardTopToBottom:function(t,e){return t.x-e.x||t.y-e.y}};return e}),function(t,e){"function"==typeof define&&define.amd?define("packery/js/item",["outlayer/outlayer","./rect"],e):"object"==typeof module&&module.exports?module.exports=e(require("outlayer"),require("./rect")):t.Packery.Item=e(t.Outlayer,t.Packery.Rect)}(window,function(t,e){"use strict";var i=document.documentElement.style,n="string"==typeof i.transform?"transform":"WebkitTransform",o=function(){t.Item.apply(this,arguments)},s=o.prototype=Object.create(t.Item.prototype),r=s._create;s._create=function(){r.call(this),this.rect=new e};var a=s.moveTo;return s.moveTo=function(t,e){var i=Math.abs(this.position.x-t),n=Math.abs(this.position.y-e),o=this.layout.dragItemCount&&!this.isPlacing&&!this.isTransitioning&&1>i&&1>n;return o?void this.goTo(t,e):void a.apply(this,arguments)},s.enablePlacing=function(){this.removeTransitionStyles(),this.isTransitioning&&n&&(this.element.style[n]="none"),this.isTransitioning=!1,this.getSize(),this.layout._setRectSize(this.element,this.rect),this.isPlacing=!0},s.disablePlacing=function(){this.isPlacing=!1},s.removeElem=function(){this.element.parentNode.removeChild(this.element),this.layout.packer.addSpace(this.rect),this.emitEvent("remove",[this])},s.showDropPlaceholder=function(){var t=this.dropPlaceholder;t||(t=this.dropPlaceholder=document.createElement("div"),t.className="packery-drop-placeholder",t.style.position="absolute"),t.style.width=this.size.width+"px",t.style.height=this.size.height+"px",this.positionDropPlaceholder(),this.layout.element.appendChild(t)},s.positionDropPlaceholder=function(){this.dropPlaceholder.style[n]="translate("+this.rect.x+"px, "+this.rect.y+"px)"},s.hideDropPlaceholder=function(){var t=this.dropPlaceholder.parentNode;t&&t.removeChild(this.dropPlaceholder)},o}),function(t,e){"function"==typeof define&&define.amd?define(["get-size/get-size","outlayer/outlayer","packery/js/rect","packery/js/packer","packery/js/item"],e):"object"==typeof module&&module.exports?module.exports=e(require("get-size"),require("outlayer"),require("./rect"),require("./packer"),require("./item")):t.Packery=e(t.getSize,t.Outlayer,t.Packery.Rect,t.Packery.Packer,t.Packery.Item)}(window,function(t,e,i,n,o){"use strict";function s(t,e){return t.position.y-e.position.y||t.position.x-e.position.x}function r(t,e){return t.position.x-e.position.x||t.position.y-e.position.y}function a(t,e){var i=e.x-t.x,n=e.y-t.y;return Math.sqrt(i*i+n*n)}i.prototype.canFit=function(t){return this.width>=t.width-1&&this.height>=t.height-1};var h=e.create("packery");h.Item=o;var u=h.prototype;u._create=function(){e.prototype._create.call(this),this.packer=new n,this.shiftPacker=new n,this.isEnabled=!0,this.dragItemCount=0;var t=this;this.handleDraggabilly={dragStart:function(){t.itemDragStart(this.element)},dragMove:function(){t.itemDragMove(this.element,this.position.x,this.position.y)},dragEnd:function(){t.itemDragEnd(this.element)}},this.handleUIDraggable={start:function(e,i){i&&t.itemDragStart(e.currentTarget)},drag:function(e,i){i&&t.itemDragMove(e.currentTarget,i.position.left,i.position.top)},stop:function(e,i){i&&t.itemDragEnd(e.currentTarget)}}},u._resetLayout=function(){this.getSize(),this._getMeasurements();var t,e,i;this._getOption("horizontal")?(t=1/0,e=this.size.innerHeight+this.gutter,i="rightwardTopToBottom"):(t=this.size.innerWidth+this.gutter,e=1/0,i="downwardLeftToRight"),this.packer.width=this.shiftPacker.width=t,this.packer.height=this.shiftPacker.height=e,this.packer.sortDirection=this.shiftPacker.sortDirection=i,this.packer.reset(),this.maxY=0,this.maxX=0},u._getMeasurements=function(){this._getMeasurement("columnWidth","width"),this._getMeasurement("rowHeight","height"),this._getMeasurement("gutter","width")},u._getItemLayoutPosition=function(t){if(this._setRectSize(t.element,t.rect),this.isShifting||this.dragItemCount>0){var e=this._getPackMethod();this.packer[e](t.rect)}else this.packer.pack(t.rect);return this._setMaxXY(t.rect),t.rect},u.shiftLayout=function(){this.isShifting=!0,this.layout(),delete this.isShifting},u._getPackMethod=function(){return this._getOption("horizontal")?"rowPack":"columnPack"},u._setMaxXY=function(t){this.maxX=Math.max(t.x+t.width,this.maxX),this.maxY=Math.max(t.y+t.height,this.maxY)},u._setRectSize=function(e,i){var n=t(e),o=n.outerWidth,s=n.outerHeight;(o||s)&&(o=this._applyGridGutter(o,this.columnWidth),s=this._applyGridGutter(s,this.rowHeight)),i.width=Math.min(o,this.packer.width),i.height=Math.min(s,this.packer.height)},u._applyGridGutter=function(t,e){if(!e)return t+this.gutter;e+=this.gutter;var i=t%e,n=i&&1>i?"round":"ceil";return t=Math[n](t/e)*e},u._getContainerSize=function(){return this._getOption("horizontal")?{width:this.maxX-this.gutter}:{height:this.maxY-this.gutter}},u._manageStamp=function(t){var e,n=this.getItem(t);if(n&&n.isPlacing)e=n.rect;else{var o=this._getElementOffset(t);e=new i({x:this._getOption("originLeft")?o.left:o.right,y:this._getOption("originTop")?o.top:o.bottom})}this._setRectSize(t,e),this.packer.placed(e),this._setMaxXY(e)},u.sortItemsByPosition=function(){var t=this._getOption("horizontal")?r:s;this.items.sort(t)},u.fit=function(t,e,i){var n=this.getItem(t);n&&(this.stamp(n.element),n.enablePlacing(),this.updateShiftTargets(n),e=void 0===e?n.rect.x:e,i=void 0===i?n.rect.y:i,this.shift(n,e,i),this._bindFitEvents(n),n.moveTo(n.rect.x,n.rect.y),this.shiftLayout(),this.unstamp(n.element),this.sortItemsByPosition(),n.disablePlacing())},u._bindFitEvents=function(t){function e(){n++,2==n&&i.dispatchEvent("fitComplete",null,[t])}var i=this,n=0;t.once("layout",e),this.once("layoutComplete",e)},u.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&(this.options.shiftPercentResize?this.resizeShiftPercentLayout():this.layout())},u.needsResizeLayout=function(){var e=t(this.element),i=this._getOption("horizontal")?"innerHeight":"innerWidth";return e[i]!=this.size[i]},u.resizeShiftPercentLayout=function(){var e=this._getItemsForLayout(this.items),i=this._getOption("horizontal"),n=i?"y":"x",o=i?"height":"width",s=i?"rowHeight":"columnWidth",r=i?"innerHeight":"innerWidth",a=this[s];if(a=a&&a+this.gutter){this._getMeasurements();var h=this[s]+this.gutter;e.forEach(function(t){var e=Math.round(t.rect[n]/a);t.rect[n]=e*h})}else{var u=t(this.element)[r]+this.gutter,c=this.packer[o];e.forEach(function(t){t.rect[n]=t.rect[n]/c*u})}this.shiftLayout()},u.itemDragStart=function(t){if(this.isEnabled){this.stamp(t);var e=this.getItem(t);e&&(e.enablePlacing(),e.showDropPlaceholder(),this.dragItemCount++,this.updateShiftTargets(e))}},u.updateShiftTargets=function(t){this.shiftPacker.reset(),this._getBoundingRect();var e=this._getOption("originLeft"),n=this._getOption("originTop");this.stamps.forEach(function(t){var o=this.getItem(t);if(!o||!o.isPlacing){var s=this._getElementOffset(t),r=new i({x:e?s.left:s.right,y:n?s.top:s.bottom});this._setRectSize(t,r),this.shiftPacker.placed(r)}},this);var o=this._getOption("horizontal"),s=o?"rowHeight":"columnWidth",r=o?"height":"width";this.shiftTargetKeys=[],this.shiftTargets=[];var a,h=this[s];if(h=h&&h+this.gutter){var u=Math.ceil(t.rect[r]/h),c=Math.floor((this.shiftPacker[r]+this.gutter)/h);a=(c-u)*h;for(var d=0;c>d;d++){var f=o?0:d*h,l=o?d*h:0;this._addShiftTarget(f,l,a)}}else a=this.shiftPacker[r]+this.gutter-t.rect[r],this._addShiftTarget(0,0,a);var p=this._getItemsForLayout(this.items),g=this._getPackMethod();p.forEach(function(t){var e=t.rect;this._setRectSize(t.element,e),this.shiftPacker[g](e),this._addShiftTarget(e.x,e.y,a);var i=o?e.x+e.width:e.x,n=o?e.y:e.y+e.height;if(this._addShiftTarget(i,n,a),h)for(var s=Math.round(e[r]/h),u=1;s>u;u++){var c=o?i:e.x+h*u,d=o?e.y+h*u:n;this._addShiftTarget(c,d,a)}},this)},u._addShiftTarget=function(t,e,i){var n=this._getOption("horizontal")?e:t;if(!(0!==n&&n>i)){var o=t+","+e,s=-1!=this.shiftTargetKeys.indexOf(o);s||(this.shiftTargetKeys.push(o),this.shiftTargets.push({x:t,y:e}))}},u.shift=function(t,e,i){var n,o=1/0,s={x:e,y:i};this.shiftTargets.forEach(function(t){var e=a(t,s);o>e&&(n=t,o=e)}),t.rect.x=n.x,t.rect.y=n.y};var c=120;u.itemDragMove=function(t,e,i){function n(){s.shift(o,e,i),o.positionDropPlaceholder(),s.layout()}var o=this.isEnabled&&this.getItem(t);if(o){e-=this.size.paddingLeft,i-=this.size.paddingTop;var s=this,r=new Date;this._itemDragTime&&r-this._itemDragTime<c?(clearTimeout(this.dragTimeout),this.dragTimeout=setTimeout(n,c)):(n(),this._itemDragTime=r)}},u.itemDragEnd=function(t){function e(){n++,2==n&&(i.element.classList.remove("is-positioning-post-drag"),i.hideDropPlaceholder(),o.dispatchEvent("dragItemPositioned",null,[i]))}var i=this.isEnabled&&this.getItem(t);if(i){clearTimeout(this.dragTimeout),i.element.classList.add("is-positioning-post-drag");var n=0,o=this;i.once("layout",e),this.once("layoutComplete",e),i.moveTo(i.rect.x,i.rect.y),this.layout(),this.dragItemCount=Math.max(0,this.dragItemCount-1),this.sortItemsByPosition(),i.disablePlacing(),this.unstamp(i.element)}},u.bindDraggabillyEvents=function(t){this._bindDraggabillyEvents(t,"on")},u.unbindDraggabillyEvents=function(t){this._bindDraggabillyEvents(t,"off")},u._bindDraggabillyEvents=function(t,e){var i=this.handleDraggabilly;t[e]("dragStart",i.dragStart),t[e]("dragMove",i.dragMove),t[e]("dragEnd",i.dragEnd)},u.bindUIDraggableEvents=function(t){this._bindUIDraggableEvents(t,"on")},u.unbindUIDraggableEvents=function(t){this._bindUIDraggableEvents(t,"off")},u._bindUIDraggableEvents=function(t,e){var i=this.handleUIDraggable;t[e]("dragstart",i.start)[e]("drag",i.drag)[e]("dragstop",i.stop)};var d=u.destroy;return u.destroy=function(){d.apply(this,arguments),this.isEnabled=!1},h.Rect=i,h.Packer=n,h});!function(a,b){"function"==typeof define&&define.amd?define(["jquery"],function(a){return b(a)}):"object"==typeof exports?module.exports=b(require("jquery")):b(a.jQuery)}(this,function(a){!function(){"use strict";function b(b,d){if(this.el=b,this.$el=a(b),this.s=a.extend({},c,d),this.s.dynamic&&"undefined"!==this.s.dynamicEl&&this.s.dynamicEl.constructor===Array&&!this.s.dynamicEl.length)throw"When using dynamic mode, you must also define dynamicEl as an Array.";return this.modules={},this.lGalleryOn=!1,this.lgBusy=!1,this.hideBartimeout=!1,this.isTouch="ontouchstart"in document.documentElement,this.s.slideEndAnimatoin&&(this.s.hideControlOnEnd=!1),this.s.dynamic?this.$items=this.s.dynamicEl:"this"===this.s.selector?this.$items=this.$el:""!==this.s.selector?this.s.selectWithin?this.$items=a(this.s.selectWithin).find(this.s.selector):this.$items=this.$el.find(a(this.s.selector)):this.$items=this.$el.children(),this.$slide="",this.$outer="",this.init(),this}var c={mode:"lg-slide",cssEasing:"ease",easing:"linear",speed:600,height:"100%",width:"100%",addClass:"",startClass:"lg-start-zoom",backdropDuration:150,hideBarsDelay:6e3,useLeft:!1,closable:!0,loop:!0,escKey:!0,keyPress:!0,controls:!0,slideEndAnimatoin:!0,hideControlOnEnd:!1,mousewheel:!0,getCaptionFromTitleOrAlt:!0,appendSubHtmlTo:".lg-sub-html",subHtmlSelectorRelative:!1,preload:1,showAfterLoad:!0,selector:"",selectWithin:"",nextHtml:"",prevHtml:"",index:!1,iframeMaxWidth:"100%",download:!0,counter:!0,appendCounterTo:".lg-toolbar",swipeThreshold:50,enableSwipe:!0,enableDrag:!0,dynamic:!1,dynamicEl:[],galleryId:1};b.prototype.init=function(){var b=this;b.s.preload>b.$items.length&&(b.s.preload=b.$items.length);var c=window.location.hash;c.indexOf("lg="+this.s.galleryId)>0&&(b.index=parseInt(c.split("&slide=")[1],10),a("body").addClass("lg-from-hash"),a("body").hasClass("lg-on")||(setTimeout(function(){b.build(b.index)}),a("body").addClass("lg-on"))),b.s.dynamic?(b.$el.trigger("onBeforeOpen.lg"),b.index=b.s.index||0,a("body").hasClass("lg-on")||setTimeout(function(){b.build(b.index),a("body").addClass("lg-on")})):b.$items.on("click.lgcustom",function(c){try{c.preventDefault(),c.preventDefault()}catch(a){c.returnValue=!1}b.$el.trigger("onBeforeOpen.lg"),b.index=b.s.index||b.$items.index(this),a("body").hasClass("lg-on")||(b.build(b.index),a("body").addClass("lg-on"))})},b.prototype.build=function(b){var c=this;c.structure(),a.each(a.fn.lightGallery.modules,function(b){c.modules[b]=new a.fn.lightGallery.modules[b](c.el)}),c.slide(b,!1,!1,!1),c.s.keyPress&&c.keyPress(),c.$items.length>1&&(c.arrow(),setTimeout(function(){c.enableDrag(),c.enableSwipe()},50),c.s.mousewheel&&c.mousewheel()),c.counter(),c.closeGallery(),c.$el.trigger("onAfterOpen.lg"),c.$outer.on("mousemove.lg click.lg touchstart.lg",function(){c.$outer.removeClass("lg-hide-items"),clearTimeout(c.hideBartimeout),c.hideBartimeout=setTimeout(function(){c.$outer.addClass("lg-hide-items")},c.s.hideBarsDelay)}),c.$outer.trigger("mousemove.lg")},b.prototype.structure=function(){var b,c="",d="",e=0,f="",g=this;for(a("body").append('<div class="lg-backdrop"></div>'),a(".lg-backdrop").css("transition-duration",this.s.backdropDuration+"ms"),e=0;e<this.$items.length;e++)c+='<div class="lg-item"></div>';if(this.s.controls&&this.$items.length>1&&(d='<div class="lg-actions"><div class="lg-prev lg-icon">'+this.s.prevHtml+'</div><div class="lg-next lg-icon">'+this.s.nextHtml+"</div></div>"),".lg-sub-html"===this.s.appendSubHtmlTo&&(f='<div class="lg-sub-html"></div>'),b='<div class="lg-outer '+this.s.addClass+" "+this.s.startClass+'"><div class="lg" style="width:'+this.s.width+"; height:"+this.s.height+'"><div class="lg-inner">'+c+'</div><div class="lg-toolbar lg-group"><span class="lg-close lg-icon"></span></div>'+d+f+"</div></div>",a("body").append(b),this.$outer=a(".lg-outer"),this.$slide=this.$outer.find(".lg-item"),this.s.useLeft?(this.$outer.addClass("lg-use-left"),this.s.mode="lg-slide"):this.$outer.addClass("lg-use-css3"),g.setTop(),a(window).on("resize.lg orientationchange.lg",function(){setTimeout(function(){g.setTop()},100)}),this.$slide.eq(this.index).addClass("lg-current"),this.doCss()?this.$outer.addClass("lg-css3"):(this.$outer.addClass("lg-css"),this.s.speed=0),this.$outer.addClass(this.s.mode),this.s.enableDrag&&this.$items.length>1&&this.$outer.addClass("lg-grab"),this.s.showAfterLoad&&this.$outer.addClass("lg-show-after-load"),this.doCss()){var h=this.$outer.find(".lg-inner");h.css("transition-timing-function",this.s.cssEasing),h.css("transition-duration",this.s.speed+"ms")}setTimeout(function(){a(".lg-backdrop").addClass("in")}),setTimeout(function(){g.$outer.addClass("lg-visible")},this.s.backdropDuration),this.s.download&&this.$outer.find(".lg-toolbar").append('<a id="lg-download" target="_blank" download class="lg-download lg-icon"></a>'),this.prevScrollTop=a(window).scrollTop()},b.prototype.setTop=function(){if("100%"!==this.s.height){var b=a(window).height(),c=(b-parseInt(this.s.height,10))/2,d=this.$outer.find(".lg");b>=parseInt(this.s.height,10)?d.css("top",c+"px"):d.css("top","0px")}},b.prototype.doCss=function(){var a=function(){var a=["transition","MozTransition","WebkitTransition","OTransition","msTransition","KhtmlTransition"],b=document.documentElement,c=0;for(c=0;c<a.length;c++)if(a[c]in b.style)return!0};return!!a()},b.prototype.isVideo=function(a,b){var c;if(c=this.s.dynamic?this.s.dynamicEl[b].html:this.$items.eq(b).attr("data-html"),!a&&c)return{html5:!0};var d=a.match(/\/\/(?:www\.)?youtu(?:\.be|be\.com)\/(?:watch\?v=|embed\/)?([a-z0-9\-\_\%]+)/i),e=a.match(/\/\/(?:www\.)?vimeo.com\/([0-9a-z\-_]+)/i),f=a.match(/\/\/(?:www\.)?dai.ly\/([0-9a-z\-_]+)/i),g=a.match(/\/\/(?:www\.)?(?:vk\.com|vkontakte\.ru)\/(?:video_ext\.php\?)(.*)/i);return d?{youtube:d}:e?{vimeo:e}:f?{dailymotion:f}:g?{vk:g}:void 0},b.prototype.counter=function(){this.s.counter&&a(this.s.appendCounterTo).append('<div id="lg-counter"><span id="lg-counter-current">'+(parseInt(this.index,10)+1)+'</span> / <span id="lg-counter-all">'+this.$items.length+"</span></div>")},b.prototype.addHtml=function(b){var c,d,e=null;if(this.s.dynamic?this.s.dynamicEl[b].subHtmlUrl?c=this.s.dynamicEl[b].subHtmlUrl:e=this.s.dynamicEl[b].subHtml:(d=this.$items.eq(b),d.attr("data-sub-html-url")?c=d.attr("data-sub-html-url"):(e=d.attr("data-sub-html"),this.s.getCaptionFromTitleOrAlt&&!e&&(e=d.attr("title")||d.find("img").first().attr("alt")))),!c)if("undefined"!=typeof e&&null!==e){var f=e.substring(0,1);"."!==f&&"#"!==f||(e=this.s.subHtmlSelectorRelative&&!this.s.dynamic?d.find(e).html():a(e).html())}else e="";".lg-sub-html"===this.s.appendSubHtmlTo?c?this.$outer.find(this.s.appendSubHtmlTo).load(c):this.$outer.find(this.s.appendSubHtmlTo).html(e):c?this.$slide.eq(b).load(c):this.$slide.eq(b).append(e),"undefined"!=typeof e&&null!==e&&(""===e?this.$outer.find(this.s.appendSubHtmlTo).addClass("lg-empty-html"):this.$outer.find(this.s.appendSubHtmlTo).removeClass("lg-empty-html")),this.$el.trigger("onAfterAppendSubHtml.lg",[b])},b.prototype.preload=function(a){var b=1,c=1;for(b=1;b<=this.s.preload&&!(b>=this.$items.length-a);b++)this.loadContent(a+b,!1,0);for(c=1;c<=this.s.preload&&!(a-c<0);c++)this.loadContent(a-c,!1,0)},b.prototype.loadContent=function(b,c,d){var e,f,g,h,i,j,k=this,l=!1,m=function(b){for(var c=[],d=[],e=0;e<b.length;e++){var g=b[e].split(" ");""===g[0]&&g.splice(0,1),d.push(g[0]),c.push(g[1])}for(var h=a(window).width(),i=0;i<c.length;i++)if(parseInt(c[i],10)>h){f=d[i];break}};if(k.s.dynamic){if(k.s.dynamicEl[b].poster&&(l=!0,g=k.s.dynamicEl[b].poster),j=k.s.dynamicEl[b].html,f=k.s.dynamicEl[b].src,k.s.dynamicEl[b].responsive){var n=k.s.dynamicEl[b].responsive.split(",");m(n)}h=k.s.dynamicEl[b].srcset,i=k.s.dynamicEl[b].sizes}else{if(k.$items.eq(b).attr("data-poster")&&(l=!0,g=k.$items.eq(b).attr("data-poster")),j=k.$items.eq(b).attr("data-html"),f=k.$items.eq(b).attr("href")||k.$items.eq(b).attr("data-src"),k.$items.eq(b).attr("data-responsive")){var o=k.$items.eq(b).attr("data-responsive").split(",");m(o)}h=k.$items.eq(b).attr("data-srcset"),i=k.$items.eq(b).attr("data-sizes")}var p=!1;k.s.dynamic?k.s.dynamicEl[b].iframe&&(p=!0):"true"===k.$items.eq(b).attr("data-iframe")&&(p=!0);var q=k.isVideo(f,b);if(!k.$slide.eq(b).hasClass("lg-loaded")){if(p)k.$slide.eq(b).prepend('<div class="lg-video-cont" style="max-width:'+k.s.iframeMaxWidth+'"><div class="lg-video"><iframe class="lg-object" frameborder="0" src="'+f+'"  allowfullscreen="true"></iframe></div></div>');else if(l){var r="";r=q&&q.youtube?"lg-has-youtube":q&&q.vimeo?"lg-has-vimeo":"lg-has-html5",k.$slide.eq(b).prepend('<div class="lg-video-cont '+r+' "><div class="lg-video"><span class="lg-video-play"></span><img class="lg-object lg-has-poster" src="'+g+'" /></div></div>')}else q?(k.$slide.eq(b).prepend('<div class="lg-video-cont "><div class="lg-video"></div></div>'),k.$el.trigger("hasVideo.lg",[b,f,j])):k.$slide.eq(b).prepend('<div class="lg-img-wrap"><img class="lg-object lg-image" src="'+f+'" /></div>');if(k.$el.trigger("onAferAppendSlide.lg",[b]),e=k.$slide.eq(b).find(".lg-object"),i&&e.attr("sizes",i),h){e.attr("srcset",h);try{picturefill({elements:[e[0]]})}catch(a){console.error("Make sure you have included Picturefill version 2")}}".lg-sub-html"!==this.s.appendSubHtmlTo&&k.addHtml(b),k.$slide.eq(b).addClass("lg-loaded")}k.$slide.eq(b).find(".lg-object").on("load.lg error.lg",function(){var c=0;d&&!a("body").hasClass("lg-from-hash")&&(c=d),setTimeout(function(){k.$slide.eq(b).addClass("lg-complete"),k.$el.trigger("onSlideItemLoad.lg",[b,d||0])},c)}),q&&q.html5&&!l&&k.$slide.eq(b).addClass("lg-complete"),c===!0&&(k.$slide.eq(b).hasClass("lg-complete")?k.preload(b):k.$slide.eq(b).find(".lg-object").on("load.lg error.lg",function(){k.preload(b)}))},b.prototype.slide=function(b,c,d,e){var f=this.$outer.find(".lg-current").index(),g=this;if(!g.lGalleryOn||f!==b){var h=this.$slide.length,i=g.lGalleryOn?this.s.speed:0;if(!g.lgBusy){if(this.s.download){var j;j=g.s.dynamic?g.s.dynamicEl[b].downloadUrl!==!1&&(g.s.dynamicEl[b].downloadUrl||g.s.dynamicEl[b].src):"false"!==g.$items.eq(b).attr("data-download-url")&&(g.$items.eq(b).attr("data-download-url")||g.$items.eq(b).attr("href")||g.$items.eq(b).attr("data-src")),j?(a("#lg-download").attr("href",j),g.$outer.removeClass("lg-hide-download")):g.$outer.addClass("lg-hide-download")}if(this.$el.trigger("onBeforeSlide.lg",[f,b,c,d]),g.lgBusy=!0,clearTimeout(g.hideBartimeout),".lg-sub-html"===this.s.appendSubHtmlTo&&setTimeout(function(){g.addHtml(b)},i),this.arrowDisable(b),e||(b<f?e="prev":b>f&&(e="next")),c){this.$slide.removeClass("lg-prev-slide lg-current lg-next-slide");var k,l;h>2?(k=b-1,l=b+1,0===b&&f===h-1?(l=0,k=h-1):b===h-1&&0===f&&(l=0,k=h-1)):(k=0,l=1),"prev"===e?g.$slide.eq(l).addClass("lg-next-slide"):g.$slide.eq(k).addClass("lg-prev-slide"),g.$slide.eq(b).addClass("lg-current")}else g.$outer.addClass("lg-no-trans"),this.$slide.removeClass("lg-prev-slide lg-next-slide"),"prev"===e?(this.$slide.eq(b).addClass("lg-prev-slide"),this.$slide.eq(f).addClass("lg-next-slide")):(this.$slide.eq(b).addClass("lg-next-slide"),this.$slide.eq(f).addClass("lg-prev-slide")),setTimeout(function(){g.$slide.removeClass("lg-current"),g.$slide.eq(b).addClass("lg-current"),g.$outer.removeClass("lg-no-trans")},50);g.lGalleryOn?(setTimeout(function(){g.loadContent(b,!0,0)},this.s.speed+50),setTimeout(function(){g.lgBusy=!1,g.$el.trigger("onAfterSlide.lg",[f,b,c,d])},this.s.speed)):(g.loadContent(b,!0,g.s.backdropDuration),g.lgBusy=!1,g.$el.trigger("onAfterSlide.lg",[f,b,c,d])),g.lGalleryOn=!0,this.s.counter&&a("#lg-counter-current").text(b+1)}}},b.prototype.goToNextSlide=function(a){var b=this,c=b.s.loop;a&&b.$slide.length<3&&(c=!1),b.lgBusy||(b.index+1<b.$slide.length?(b.index++,b.$el.trigger("onBeforeNextSlide.lg",[b.index]),b.slide(b.index,a,!1,"next")):c?(b.index=0,b.$el.trigger("onBeforeNextSlide.lg",[b.index]),b.slide(b.index,a,!1,"next")):b.s.slideEndAnimatoin&&!a&&(b.$outer.addClass("lg-right-end"),setTimeout(function(){b.$outer.removeClass("lg-right-end")},400)))},b.prototype.goToPrevSlide=function(a){var b=this,c=b.s.loop;a&&b.$slide.length<3&&(c=!1),b.lgBusy||(b.index>0?(b.index--,b.$el.trigger("onBeforePrevSlide.lg",[b.index,a]),b.slide(b.index,a,!1,"prev")):c?(b.index=b.$items.length-1,b.$el.trigger("onBeforePrevSlide.lg",[b.index,a]),b.slide(b.index,a,!1,"prev")):b.s.slideEndAnimatoin&&!a&&(b.$outer.addClass("lg-left-end"),setTimeout(function(){b.$outer.removeClass("lg-left-end")},400)))},b.prototype.keyPress=function(){var b=this;this.$items.length>1&&a(window).on("keyup.lg",function(a){b.$items.length>1&&(37===a.keyCode&&(a.preventDefault(),b.goToPrevSlide()),39===a.keyCode&&(a.preventDefault(),b.goToNextSlide()))}),a(window).on("keydown.lg",function(a){b.s.escKey===!0&&27===a.keyCode&&(a.preventDefault(),b.$outer.hasClass("lg-thumb-open")?b.$outer.removeClass("lg-thumb-open"):b.destroy())})},b.prototype.arrow=function(){var a=this;this.$outer.find(".lg-prev").on("click.lg",function(){a.goToPrevSlide()}),this.$outer.find(".lg-next").on("click.lg",function(){a.goToNextSlide()})},b.prototype.arrowDisable=function(a){!this.s.loop&&this.s.hideControlOnEnd&&(a+1<this.$slide.length?this.$outer.find(".lg-next").removeAttr("disabled").removeClass("disabled"):this.$outer.find(".lg-next").attr("disabled","disabled").addClass("disabled"),a>0?this.$outer.find(".lg-prev").removeAttr("disabled").removeClass("disabled"):this.$outer.find(".lg-prev").attr("disabled","disabled").addClass("disabled"))},b.prototype.setTranslate=function(a,b,c){this.s.useLeft?a.css("left",b):a.css({transform:"translate3d("+b+"px, "+c+"px, 0px)"})},b.prototype.touchMove=function(b,c){var d=c-b;Math.abs(d)>15&&(this.$outer.addClass("lg-dragging"),this.setTranslate(this.$slide.eq(this.index),d,0),this.setTranslate(a(".lg-prev-slide"),-this.$slide.eq(this.index).width()+d,0),this.setTranslate(a(".lg-next-slide"),this.$slide.eq(this.index).width()+d,0))},b.prototype.touchEnd=function(a){var b=this;"lg-slide"!==b.s.mode&&b.$outer.addClass("lg-slide"),this.$slide.not(".lg-current, .lg-prev-slide, .lg-next-slide").css("opacity","0"),setTimeout(function(){b.$outer.removeClass("lg-dragging"),a<0&&Math.abs(a)>b.s.swipeThreshold?b.goToNextSlide(!0):a>0&&Math.abs(a)>b.s.swipeThreshold?b.goToPrevSlide(!0):Math.abs(a)<5&&b.$el.trigger("onSlideClick.lg"),b.$slide.removeAttr("style")}),setTimeout(function(){b.$outer.hasClass("lg-dragging")||"lg-slide"===b.s.mode||b.$outer.removeClass("lg-slide")},b.s.speed+100)},b.prototype.enableSwipe=function(){var a=this,b=0,c=0,d=!1;a.s.enableSwipe&&a.isTouch&&a.doCss()&&(a.$slide.on("touchstart.lg",function(c){a.$outer.hasClass("lg-zoomed")||a.lgBusy||(c.preventDefault(),a.manageSwipeClass(),b=c.originalEvent.targetTouches[0].pageX)}),a.$slide.on("touchmove.lg",function(e){a.$outer.hasClass("lg-zoomed")||(e.preventDefault(),c=e.originalEvent.targetTouches[0].pageX,a.touchMove(b,c),d=!0)}),a.$slide.on("touchend.lg",function(){a.$outer.hasClass("lg-zoomed")||(d?(d=!1,a.touchEnd(c-b)):a.$el.trigger("onSlideClick.lg"))}))},b.prototype.enableDrag=function(){var b=this,c=0,d=0,e=!1,f=!1;b.s.enableDrag&&!b.isTouch&&b.doCss()&&(b.$slide.on("mousedown.lg",function(d){b.$outer.hasClass("lg-zoomed")||(a(d.target).hasClass("lg-object")||a(d.target).hasClass("lg-video-play"))&&(d.preventDefault(),b.lgBusy||(b.manageSwipeClass(),c=d.pageX,e=!0,b.$outer.scrollLeft+=1,b.$outer.scrollLeft-=1,b.$outer.removeClass("lg-grab").addClass("lg-grabbing"),b.$el.trigger("onDragstart.lg")))}),a(window).on("mousemove.lg",function(a){e&&(f=!0,d=a.pageX,b.touchMove(c,d),b.$el.trigger("onDragmove.lg"))}),a(window).on("mouseup.lg",function(g){f?(f=!1,b.touchEnd(d-c),b.$el.trigger("onDragend.lg")):(a(g.target).hasClass("lg-object")||a(g.target).hasClass("lg-video-play"))&&b.$el.trigger("onSlideClick.lg"),e&&(e=!1,b.$outer.removeClass("lg-grabbing").addClass("lg-grab"))}))},b.prototype.manageSwipeClass=function(){var a=this.index+1,b=this.index-1;this.s.loop&&this.$slide.length>2&&(0===this.index?b=this.$slide.length-1:this.index===this.$slide.length-1&&(a=0)),this.$slide.removeClass("lg-next-slide lg-prev-slide"),b>-1&&this.$slide.eq(b).addClass("lg-prev-slide"),this.$slide.eq(a).addClass("lg-next-slide")},b.prototype.mousewheel=function(){var a=this;a.$outer.on("mousewheel.lg",function(b){b.deltaY&&(b.deltaY>0?a.goToPrevSlide():a.goToNextSlide(),b.preventDefault())})},b.prototype.closeGallery=function(){var b=this,c=!1;this.$outer.find(".lg-close").on("click.lg",function(){b.destroy()}),b.s.closable&&(b.$outer.on("mousedown.lg",function(b){c=!!(a(b.target).is(".lg-outer")||a(b.target).is(".lg-item ")||a(b.target).is(".lg-img-wrap"))}),b.$outer.on("mouseup.lg",function(d){(a(d.target).is(".lg-outer")||a(d.target).is(".lg-item ")||a(d.target).is(".lg-img-wrap")&&c)&&(b.$outer.hasClass("lg-dragging")||b.destroy())}))},b.prototype.destroy=function(b){var c=this;b||(c.$el.trigger("onBeforeClose.lg"),a(window).scrollTop(c.prevScrollTop)),b&&(c.s.dynamic||this.$items.off("click.lg click.lgcustom"),a.removeData(c.el,"lightGallery")),this.$el.off(".lg.tm"),a.each(a.fn.lightGallery.modules,function(a){c.modules[a]&&c.modules[a].destroy()}),this.lGalleryOn=!1,clearTimeout(c.hideBartimeout),this.hideBartimeout=!1,a(window).off(".lg"),a("body").removeClass("lg-on lg-from-hash"),c.$outer&&c.$outer.removeClass("lg-visible"),a(".lg-backdrop").removeClass("in"),setTimeout(function(){c.$outer&&c.$outer.remove(),a(".lg-backdrop").remove(),b||c.$el.trigger("onCloseAfter.lg")},c.s.backdropDuration+50)},a.fn.lightGallery=function(c){return this.each(function(){if(a.data(this,"lightGallery"))try{a(this).data("lightGallery").init()}catch(a){console.error("lightGallery has not initiated properly")}else a.data(this,"lightGallery",new b(this,c))})},a.fn.lightGallery.modules={}}()});!function(a,b){"function"==typeof define&&define.amd?define(["jquery"],function(a){return b(a)}):"object"==typeof exports?module.exports=b(require("jquery")):b(jQuery)}(this,function(a){!function(){"use strict";var b={autoplay:!1,pause:5e3,progressBar:!0,fourceAutoplay:!1,autoplayControls:!0,appendAutoplayControlsTo:".lg-toolbar"},c=function(c){return this.core=a(c).data("lightGallery"),this.$el=a(c),!(this.core.$items.length<2)&&(this.core.s=a.extend({},b,this.core.s),this.interval=!1,this.fromAuto=!0,this.canceledOnTouch=!1,this.fourceAutoplayTemp=this.core.s.fourceAutoplay,this.core.doCss()||(this.core.s.progressBar=!1),this.init(),this)};c.prototype.init=function(){var a=this;a.core.s.autoplayControls&&a.controls(),a.core.s.progressBar&&a.core.$outer.find(".lg").append('<div class="lg-progress-bar"><div class="lg-progress"></div></div>'),a.progress(),a.core.s.autoplay&&a.startlAuto(),a.$el.on("onDragstart.lg.tm touchstart.lg.tm",function(){a.interval&&(a.cancelAuto(),a.canceledOnTouch=!0)}),a.$el.on("onDragend.lg.tm touchend.lg.tm onSlideClick.lg.tm",function(){!a.interval&&a.canceledOnTouch&&(a.startlAuto(),a.canceledOnTouch=!1)})},c.prototype.progress=function(){var a,b,c=this;c.$el.on("onBeforeSlide.lg.tm",function(){c.core.s.progressBar&&c.fromAuto&&(a=c.core.$outer.find(".lg-progress-bar"),b=c.core.$outer.find(".lg-progress"),c.interval&&(b.removeAttr("style"),a.removeClass("lg-start"),setTimeout(function(){b.css("transition","width "+(c.core.s.speed+c.core.s.pause)+"ms ease 0s"),a.addClass("lg-start")},20))),c.fromAuto||c.core.s.fourceAutoplay||c.cancelAuto(),c.fromAuto=!1})},c.prototype.controls=function(){var b=this,c='<span class="lg-autoplay-button lg-icon"></span>';a(this.core.s.appendAutoplayControlsTo).append(c),b.core.$outer.find(".lg-autoplay-button").on("click.lg",function(){a(b.core.$outer).hasClass("lg-show-autoplay")?(b.cancelAuto(),b.core.s.fourceAutoplay=!1):b.interval||(b.startlAuto(),b.core.s.fourceAutoplay=b.fourceAutoplayTemp)})},c.prototype.startlAuto=function(){var a=this;a.core.$outer.find(".lg-progress").css("transition","width "+(a.core.s.speed+a.core.s.pause)+"ms ease 0s"),a.core.$outer.addClass("lg-show-autoplay"),a.core.$outer.find(".lg-progress-bar").addClass("lg-start"),a.interval=setInterval(function(){a.core.index+1<a.core.$items.length?a.core.index++:a.core.index=0,a.fromAuto=!0,a.core.slide(a.core.index,!1,!1,"next")},a.core.s.speed+a.core.s.pause)},c.prototype.cancelAuto=function(){clearInterval(this.interval),this.interval=!1,this.core.$outer.find(".lg-progress").removeAttr("style"),this.core.$outer.removeClass("lg-show-autoplay"),this.core.$outer.find(".lg-progress-bar").removeClass("lg-start")},c.prototype.destroy=function(){this.cancelAuto(),this.core.$outer.find(".lg-progress-bar").remove()},a.fn.lightGallery.modules.autoplay=c}()});!function(a,b){"function"==typeof define&&define.amd?define(["jquery"],function(a){return b(a)}):"object"==typeof exports?module.exports=b(require("jquery")):b(jQuery)}(this,function(a){!function(){"use strict";var b={thumbnail:!0,animateThumb:!0,currentPagerPosition:"middle",thumbWidth:100,thumbContHeight:100,thumbMargin:5,exThumbImage:!1,showThumbByDefault:!0,toogleThumb:!0,pullCaptionUp:!0,enableThumbDrag:!0,enableThumbSwipe:!0,swipeThreshold:50,loadYoutubeThumbnail:!0,youtubeThumbSize:1,loadVimeoThumbnail:!0,vimeoThumbSize:"thumbnail_small",loadDailymotionThumbnail:!0},c=function(c){return this.core=a(c).data("lightGallery"),this.core.s=a.extend({},b,this.core.s),this.$el=a(c),this.$thumbOuter=null,this.thumbOuterWidth=0,this.thumbTotalWidth=this.core.$items.length*(this.core.s.thumbWidth+this.core.s.thumbMargin),this.thumbIndex=this.core.index,this.left=0,this.init(),this};c.prototype.init=function(){var a=this;this.core.s.thumbnail&&this.core.$items.length>1&&(this.core.s.showThumbByDefault&&setTimeout(function(){a.core.$outer.addClass("lg-thumb-open")},700),this.core.s.pullCaptionUp&&this.core.$outer.addClass("lg-pull-caption-up"),this.build(),this.core.s.animateThumb?(this.core.s.enableThumbDrag&&!this.core.isTouch&&this.core.doCss()&&this.enableThumbDrag(),this.core.s.enableThumbSwipe&&this.core.isTouch&&this.core.doCss()&&this.enableThumbSwipe(),this.thumbClickable=!1):this.thumbClickable=!0,this.toogle(),this.thumbkeyPress())},c.prototype.build=function(){function b(a,b,c){var g,h=d.core.isVideo(a,c)||{},i="";h.youtube||h.vimeo||h.dailymotion?h.youtube?g=d.core.s.loadYoutubeThumbnail?"//img.youtube.com/vi/"+h.youtube[1]+"/"+d.core.s.youtubeThumbSize+".jpg":b:h.vimeo?d.core.s.loadVimeoThumbnail?(g="//i.vimeocdn.com/video/error_"+f+".jpg",i=h.vimeo[1]):g=b:h.dailymotion&&(g=d.core.s.loadDailymotionThumbnail?"//www.dailymotion.com/thumbnail/video/"+h.dailymotion[1]:b):g=b,e+='<div data-vimeo-id="'+i+'" class="lg-thumb-item" style="width:'+d.core.s.thumbWidth+"px; margin-right: "+d.core.s.thumbMargin+'px"><img src="'+g+'" /></div>',i=""}var c,d=this,e="",f="",g='<div class="lg-thumb-outer"><div class="lg-thumb lg-group"></div></div>';switch(this.core.s.vimeoThumbSize){case"thumbnail_large":f="640";break;case"thumbnail_medium":f="200x150";break;case"thumbnail_small":f="100x75"}if(d.core.$outer.addClass("lg-has-thumb"),d.core.$outer.find(".lg").append(g),d.$thumbOuter=d.core.$outer.find(".lg-thumb-outer"),d.thumbOuterWidth=d.$thumbOuter.width(),d.core.s.animateThumb&&d.core.$outer.find(".lg-thumb").css({width:d.thumbTotalWidth+"px",position:"relative"}),this.core.s.animateThumb&&d.$thumbOuter.css("height",d.core.s.thumbContHeight+"px"),d.core.s.dynamic)for(var h=0;h<d.core.s.dynamicEl.length;h++)b(d.core.s.dynamicEl[h].src,d.core.s.dynamicEl[h].thumb,h);else d.core.$items.each(function(c){d.core.s.exThumbImage?b(a(this).attr("href")||a(this).attr("data-src"),a(this).attr(d.core.s.exThumbImage),c):b(a(this).attr("href")||a(this).attr("data-src"),a(this).find("img").attr("src"),c)});d.core.$outer.find(".lg-thumb").html(e),c=d.core.$outer.find(".lg-thumb-item"),c.each(function(){var b=a(this),c=b.attr("data-vimeo-id");c&&a.getJSON("//www.vimeo.com/api/v2/video/"+c+".json?callback=?",{format:"json"},function(a){b.find("img").attr("src",a[0][d.core.s.vimeoThumbSize])})}),c.eq(d.core.index).addClass("active"),d.core.$el.on("onBeforeSlide.lg.tm",function(){c.removeClass("active"),c.eq(d.core.index).addClass("active")}),c.on("click.lg touchend.lg",function(){var b=a(this);setTimeout(function(){(d.thumbClickable&&!d.core.lgBusy||!d.core.doCss())&&(d.core.index=b.index(),d.core.slide(d.core.index,!1,!0,!1))},50)}),d.core.$el.on("onBeforeSlide.lg.tm",function(){d.animateThumb(d.core.index)}),a(window).on("resize.lg.thumb orientationchange.lg.thumb",function(){setTimeout(function(){d.animateThumb(d.core.index),d.thumbOuterWidth=d.$thumbOuter.width()},200)})},c.prototype.setTranslate=function(a){this.core.$outer.find(".lg-thumb").css({transform:"translate3d(-"+a+"px, 0px, 0px)"})},c.prototype.animateThumb=function(a){var b=this.core.$outer.find(".lg-thumb");if(this.core.s.animateThumb){var c;switch(this.core.s.currentPagerPosition){case"left":c=0;break;case"middle":c=this.thumbOuterWidth/2-this.core.s.thumbWidth/2;break;case"right":c=this.thumbOuterWidth-this.core.s.thumbWidth}this.left=(this.core.s.thumbWidth+this.core.s.thumbMargin)*a-1-c,this.left>this.thumbTotalWidth-this.thumbOuterWidth&&(this.left=this.thumbTotalWidth-this.thumbOuterWidth),this.left<0&&(this.left=0),this.core.lGalleryOn?(b.hasClass("on")||this.core.$outer.find(".lg-thumb").css("transition-duration",this.core.s.speed+"ms"),this.core.doCss()||b.animate({left:-this.left+"px"},this.core.s.speed)):this.core.doCss()||b.css("left",-this.left+"px"),this.setTranslate(this.left)}},c.prototype.enableThumbDrag=function(){var b=this,c=0,d=0,e=!1,f=!1,g=0;b.$thumbOuter.addClass("lg-grab"),b.core.$outer.find(".lg-thumb").on("mousedown.lg.thumb",function(a){b.thumbTotalWidth>b.thumbOuterWidth&&(a.preventDefault(),c=a.pageX,e=!0,b.core.$outer.scrollLeft+=1,b.core.$outer.scrollLeft-=1,b.thumbClickable=!1,b.$thumbOuter.removeClass("lg-grab").addClass("lg-grabbing"))}),a(window).on("mousemove.lg.thumb",function(a){e&&(g=b.left,f=!0,d=a.pageX,b.$thumbOuter.addClass("lg-dragging"),g-=d-c,g>b.thumbTotalWidth-b.thumbOuterWidth&&(g=b.thumbTotalWidth-b.thumbOuterWidth),g<0&&(g=0),b.setTranslate(g))}),a(window).on("mouseup.lg.thumb",function(){f?(f=!1,b.$thumbOuter.removeClass("lg-dragging"),b.left=g,Math.abs(d-c)<b.core.s.swipeThreshold&&(b.thumbClickable=!0)):b.thumbClickable=!0,e&&(e=!1,b.$thumbOuter.removeClass("lg-grabbing").addClass("lg-grab"))})},c.prototype.enableThumbSwipe=function(){var a=this,b=0,c=0,d=!1,e=0;a.core.$outer.find(".lg-thumb").on("touchstart.lg",function(c){a.thumbTotalWidth>a.thumbOuterWidth&&(c.preventDefault(),b=c.originalEvent.targetTouches[0].pageX,a.thumbClickable=!1)}),a.core.$outer.find(".lg-thumb").on("touchmove.lg",function(f){a.thumbTotalWidth>a.thumbOuterWidth&&(f.preventDefault(),c=f.originalEvent.targetTouches[0].pageX,d=!0,a.$thumbOuter.addClass("lg-dragging"),e=a.left,e-=c-b,e>a.thumbTotalWidth-a.thumbOuterWidth&&(e=a.thumbTotalWidth-a.thumbOuterWidth),e<0&&(e=0),a.setTranslate(e))}),a.core.$outer.find(".lg-thumb").on("touchend.lg",function(){a.thumbTotalWidth>a.thumbOuterWidth&&d?(d=!1,a.$thumbOuter.removeClass("lg-dragging"),Math.abs(c-b)<a.core.s.swipeThreshold&&(a.thumbClickable=!0),a.left=e):a.thumbClickable=!0})},c.prototype.toogle=function(){var a=this;a.core.s.toogleThumb&&(a.core.$outer.addClass("lg-can-toggle"),a.$thumbOuter.append('<span class="lg-toogle-thumb lg-icon"></span>'),a.core.$outer.find(".lg-toogle-thumb").on("click.lg",function(){a.core.$outer.toggleClass("lg-thumb-open")}))},c.prototype.thumbkeyPress=function(){var b=this;a(window).on("keydown.lg.thumb",function(a){38===a.keyCode?(a.preventDefault(),b.core.$outer.addClass("lg-thumb-open")):40===a.keyCode&&(a.preventDefault(),b.core.$outer.removeClass("lg-thumb-open"))})},c.prototype.destroy=function(){this.core.s.thumbnail&&this.core.$items.length>1&&(a(window).off("resize.lg.thumb orientationchange.lg.thumb keydown.lg.thumb"),this.$thumbOuter.remove(),this.core.$outer.removeClass("lg-has-thumb"))},a.fn.lightGallery.modules.Thumbnail=c}()});!function(t,e){"function"==typeof define&&define.amd?define("jquery-bridget/jquery-bridget",["jquery"],function(i){return e(t,i)}):"object"==typeof module&&module.exports?module.exports=e(t,require("jquery")):t.jQueryBridget=e(t,t.jQuery)}(window,function(t,e){"use strict";function i(i,s,a){function u(t,e,n){var o,s="$()."+i+'("'+e+'")';return t.each(function(t,u){var h=a.data(u,i);if(!h)return void r(i+" not initialized. Cannot call methods, i.e. "+s);var d=h[e];if(!d||"_"==e.charAt(0))return void r(s+" is not a valid method");var l=d.apply(h,n);o=void 0===o?l:o}),void 0!==o?o:t}function h(t,e){t.each(function(t,n){var o=a.data(n,i);o?(o.option(e),o._init()):(o=new s(n,e),a.data(n,i,o))})}a=a||e||t.jQuery,a&&(s.prototype.option||(s.prototype.option=function(t){a.isPlainObject(t)&&(this.options=a.extend(!0,this.options,t))}),a.fn[i]=function(t){if("string"==typeof t){var e=o.call(arguments,1);return u(this,t,e)}return h(this,t),this},n(a))}function n(t){!t||t&&t.bridget||(t.bridget=i)}var o=Array.prototype.slice,s=t.console,r="undefined"==typeof s?function(){}:function(t){s.error(t)};return n(e||t.jQuery),i}),function(t,e){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",e):"object"==typeof module&&module.exports?module.exports=e():t.EvEmitter=e()}("undefined"!=typeof window?window:this,function(){function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var i=this._events=this._events||{},n=i[t]=i[t]||[];return n.indexOf(e)==-1&&n.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var i=this._onceEvents=this._onceEvents||{},n=i[t]=i[t]||{};return n[e]=!0,this}},e.off=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){var n=i.indexOf(e);return n!=-1&&i.splice(n,1),this}},e.emitEvent=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){var n=0,o=i[n];e=e||[];for(var s=this._onceEvents&&this._onceEvents[t];o;){var r=s&&s[o];r&&(this.off(t,o),delete s[o]),o.apply(this,e),n+=r?0:1,o=i[n]}return this}},t}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("get-size/get-size",[],function(){return e()}):"object"==typeof module&&module.exports?module.exports=e():t.getSize=e()}(window,function(){"use strict";function t(t){var e=parseFloat(t),i=t.indexOf("%")==-1&&!isNaN(e);return i&&e}function e(){}function i(){for(var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},e=0;e<h;e++){var i=u[e];t[i]=0}return t}function n(t){var e=getComputedStyle(t);return e||a("Style returned "+e+". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1"),e}function o(){if(!d){d=!0;var e=document.createElement("div");e.style.width="200px",e.style.padding="1px 2px 3px 4px",e.style.borderStyle="solid",e.style.borderWidth="1px 2px 3px 4px",e.style.boxSizing="border-box";var i=document.body||document.documentElement;i.appendChild(e);var o=n(e);s.isBoxSizeOuter=r=200==t(o.width),i.removeChild(e)}}function s(e){if(o(),"string"==typeof e&&(e=document.querySelector(e)),e&&"object"==typeof e&&e.nodeType){var s=n(e);if("none"==s.display)return i();var a={};a.width=e.offsetWidth,a.height=e.offsetHeight;for(var d=a.isBorderBox="border-box"==s.boxSizing,l=0;l<h;l++){var f=u[l],c=s[f],m=parseFloat(c);a[f]=isNaN(m)?0:m}var p=a.paddingLeft+a.paddingRight,y=a.paddingTop+a.paddingBottom,g=a.marginLeft+a.marginRight,v=a.marginTop+a.marginBottom,_=a.borderLeftWidth+a.borderRightWidth,I=a.borderTopWidth+a.borderBottomWidth,z=d&&r,x=t(s.width);x!==!1&&(a.width=x+(z?0:p+_));var S=t(s.height);return S!==!1&&(a.height=S+(z?0:y+I)),a.innerWidth=a.width-(p+_),a.innerHeight=a.height-(y+I),a.outerWidth=a.width+g,a.outerHeight=a.height+v,a}}var r,a="undefined"==typeof console?e:function(t){console.error(t)},u=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],h=u.length,d=!1;return s}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("desandro-matches-selector/matches-selector",e):"object"==typeof module&&module.exports?module.exports=e():t.matchesSelector=e()}(window,function(){"use strict";var t=function(){var t=Element.prototype;if(t.matches)return"matches";if(t.matchesSelector)return"matchesSelector";for(var e=["webkit","moz","ms","o"],i=0;i<e.length;i++){var n=e[i],o=n+"MatchesSelector";if(t[o])return o}}();return function(e,i){return e[t](i)}}),function(t,e){"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["desandro-matches-selector/matches-selector"],function(i){return e(t,i)}):"object"==typeof module&&module.exports?module.exports=e(t,require("desandro-matches-selector")):t.fizzyUIUtils=e(t,t.matchesSelector)}(window,function(t,e){var i={};i.extend=function(t,e){for(var i in e)t[i]=e[i];return t},i.modulo=function(t,e){return(t%e+e)%e},i.makeArray=function(t){var e=[];if(Array.isArray(t))e=t;else if(t&&"number"==typeof t.length)for(var i=0;i<t.length;i++)e.push(t[i]);else e.push(t);return e},i.removeFrom=function(t,e){var i=t.indexOf(e);i!=-1&&t.splice(i,1)},i.getParent=function(t,i){for(;t!=document.body;)if(t=t.parentNode,e(t,i))return t},i.getQueryElement=function(t){return"string"==typeof t?document.querySelector(t):t},i.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},i.filterFindElements=function(t,n){t=i.makeArray(t);var o=[];return t.forEach(function(t){if(t instanceof HTMLElement){if(!n)return void o.push(t);e(t,n)&&o.push(t);for(var i=t.querySelectorAll(n),s=0;s<i.length;s++)o.push(i[s])}}),o},i.debounceMethod=function(t,e,i){var n=t.prototype[e],o=e+"Timeout";t.prototype[e]=function(){var t=this[o];t&&clearTimeout(t);var e=arguments,s=this;this[o]=setTimeout(function(){n.apply(s,e),delete s[o]},i||100)}},i.docReady=function(t){var e=document.readyState;"complete"==e||"interactive"==e?setTimeout(t):document.addEventListener("DOMContentLoaded",t)},i.toDashed=function(t){return t.replace(/(.)([A-Z])/g,function(t,e,i){return e+"-"+i}).toLowerCase()};var n=t.console;return i.htmlInit=function(e,o){i.docReady(function(){var s=i.toDashed(o),r="data-"+s,a=document.querySelectorAll("["+r+"]"),u=document.querySelectorAll(".js-"+s),h=i.makeArray(a).concat(i.makeArray(u)),d=r+"-options",l=t.jQuery;h.forEach(function(t){var i,s=t.getAttribute(r)||t.getAttribute(d);try{i=s&&JSON.parse(s)}catch(a){return void(n&&n.error("Error parsing "+r+" on "+t.className+": "+a))}var u=new e(t,i);l&&l.data(t,o,u)})})},i}),function(t,e){"function"==typeof define&&define.amd?define("outlayer/item",["ev-emitter/ev-emitter","get-size/get-size"],e):"object"==typeof module&&module.exports?module.exports=e(require("ev-emitter"),require("get-size")):(t.Outlayer={},t.Outlayer.Item=e(t.EvEmitter,t.getSize))}(window,function(t,e){"use strict";function i(t){for(var e in t)return!1;return e=null,!0}function n(t,e){t&&(this.element=t,this.layout=e,this.position={x:0,y:0},this._create())}function o(t){return t.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}var s=document.documentElement.style,r="string"==typeof s.transition?"transition":"WebkitTransition",a="string"==typeof s.transform?"transform":"WebkitTransform",u={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[r],h={transform:a,transition:r,transitionDuration:r+"Duration",transitionProperty:r+"Property",transitionDelay:r+"Delay"},d=n.prototype=Object.create(t.prototype);d.constructor=n,d._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},d.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},d.getSize=function(){this.size=e(this.element)},d.css=function(t){var e=this.element.style;for(var i in t){var n=h[i]||i;e[n]=t[i]}},d.getPosition=function(){var t=getComputedStyle(this.element),e=this.layout._getOption("originLeft"),i=this.layout._getOption("originTop"),n=t[e?"left":"right"],o=t[i?"top":"bottom"],s=this.layout.size,r=n.indexOf("%")!=-1?parseFloat(n)/100*s.width:parseInt(n,10),a=o.indexOf("%")!=-1?parseFloat(o)/100*s.height:parseInt(o,10);r=isNaN(r)?0:r,a=isNaN(a)?0:a,r-=e?s.paddingLeft:s.paddingRight,a-=i?s.paddingTop:s.paddingBottom,this.position.x=r,this.position.y=a},d.layoutPosition=function(){var t=this.layout.size,e={},i=this.layout._getOption("originLeft"),n=this.layout._getOption("originTop"),o=i?"paddingLeft":"paddingRight",s=i?"left":"right",r=i?"right":"left",a=this.position.x+t[o];e[s]=this.getXValue(a),e[r]="";var u=n?"paddingTop":"paddingBottom",h=n?"top":"bottom",d=n?"bottom":"top",l=this.position.y+t[u];e[h]=this.getYValue(l),e[d]="",this.css(e),this.emitEvent("layout",[this])},d.getXValue=function(t){var e=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&!e?t/this.layout.size.width*100+"%":t+"px"},d.getYValue=function(t){var e=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&e?t/this.layout.size.height*100+"%":t+"px"},d._transitionTo=function(t,e){this.getPosition();var i=this.position.x,n=this.position.y,o=parseInt(t,10),s=parseInt(e,10),r=o===this.position.x&&s===this.position.y;if(this.setPosition(t,e),r&&!this.isTransitioning)return void this.layoutPosition();var a=t-i,u=e-n,h={};h.transform=this.getTranslate(a,u),this.transition({to:h,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})},d.getTranslate=function(t,e){var i=this.layout._getOption("originLeft"),n=this.layout._getOption("originTop");return t=i?t:-t,e=n?e:-e,"translate3d("+t+"px, "+e+"px, 0)"},d.goTo=function(t,e){this.setPosition(t,e),this.layoutPosition()},d.moveTo=d._transitionTo,d.setPosition=function(t,e){this.position.x=parseInt(t,10),this.position.y=parseInt(e,10)},d._nonTransition=function(t){this.css(t.to),t.isCleaning&&this._removeStyles(t.to);for(var e in t.onTransitionEnd)t.onTransitionEnd[e].call(this)},d.transition=function(t){if(!parseFloat(this.layout.options.transitionDuration))return void this._nonTransition(t);var e=this._transn;for(var i in t.onTransitionEnd)e.onEnd[i]=t.onTransitionEnd[i];for(i in t.to)e.ingProperties[i]=!0,t.isCleaning&&(e.clean[i]=!0);if(t.from){this.css(t.from);var n=this.element.offsetHeight;n=null}this.enableTransition(t.to),this.css(t.to),this.isTransitioning=!0};var l="opacity,"+o(a);d.enableTransition=function(){if(!this.isTransitioning){var t=this.layout.options.transitionDuration;t="number"==typeof t?t+"ms":t,this.css({transitionProperty:l,transitionDuration:t,transitionDelay:this.staggerDelay||0}),this.element.addEventListener(u,this,!1)}},d.onwebkitTransitionEnd=function(t){this.ontransitionend(t)},d.onotransitionend=function(t){this.ontransitionend(t)};var f={"-webkit-transform":"transform"};d.ontransitionend=function(t){if(t.target===this.element){var e=this._transn,n=f[t.propertyName]||t.propertyName;if(delete e.ingProperties[n],i(e.ingProperties)&&this.disableTransition(),n in e.clean&&(this.element.style[t.propertyName]="",delete e.clean[n]),n in e.onEnd){var o=e.onEnd[n];o.call(this),delete e.onEnd[n]}this.emitEvent("transitionEnd",[this])}},d.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(u,this,!1),this.isTransitioning=!1},d._removeStyles=function(t){var e={};for(var i in t)e[i]="";this.css(e)};var c={transitionProperty:"",transitionDuration:"",transitionDelay:""};return d.removeTransitionStyles=function(){this.css(c)},d.stagger=function(t){t=isNaN(t)?0:t,this.staggerDelay=t+"ms"},d.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},d.remove=function(){return r&&parseFloat(this.layout.options.transitionDuration)?(this.once("transitionEnd",function(){this.removeElem()}),void this.hide()):void this.removeElem()},d.reveal=function(){delete this.isHidden,this.css({display:""});var t=this.layout.options,e={},i=this.getHideRevealTransitionEndProperty("visibleStyle");e[i]=this.onRevealTransitionEnd,this.transition({from:t.hiddenStyle,to:t.visibleStyle,isCleaning:!0,onTransitionEnd:e})},d.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},d.getHideRevealTransitionEndProperty=function(t){var e=this.layout.options[t];if(e.opacity)return"opacity";for(var i in e)return i},d.hide=function(){this.isHidden=!0,this.css({display:""});var t=this.layout.options,e={},i=this.getHideRevealTransitionEndProperty("hiddenStyle");e[i]=this.onHideTransitionEnd,this.transition({from:t.visibleStyle,to:t.hiddenStyle,isCleaning:!0,onTransitionEnd:e})},d.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},d.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},n}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("outlayer/outlayer",["ev-emitter/ev-emitter","get-size/get-size","fizzy-ui-utils/utils","./item"],function(i,n,o,s){return e(t,i,n,o,s)}):"object"==typeof module&&module.exports?module.exports=e(t,require("ev-emitter"),require("get-size"),require("fizzy-ui-utils"),require("./item")):t.Outlayer=e(t,t.EvEmitter,t.getSize,t.fizzyUIUtils,t.Outlayer.Item)}(window,function(t,e,i,n,o){"use strict";function s(t,e){var i=n.getQueryElement(t);if(!i)return void(u&&u.error("Bad element for "+this.constructor.namespace+": "+(i||t)));this.element=i,h&&(this.$element=h(this.element)),this.options=n.extend({},this.constructor.defaults),this.option(e);var o=++l;this.element.outlayerGUID=o,f[o]=this,this._create();var s=this._getOption("initLayout");s&&this.layout()}function r(t){function e(){t.apply(this,arguments)}return e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e}function a(t){if("number"==typeof t)return t;var e=t.match(/(^\d*\.?\d*)(\w*)/),i=e&&e[1],n=e&&e[2];if(!i.length)return 0;i=parseFloat(i);var o=m[n]||1;return i*o}var u=t.console,h=t.jQuery,d=function(){},l=0,f={};s.namespace="outlayer",s.Item=o,s.defaults={containerStyle:{position:"relative"},initLayout:!0,originLeft:!0,originTop:!0,resize:!0,resizeContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}};var c=s.prototype;n.extend(c,e.prototype),c.option=function(t){n.extend(this.options,t)},c._getOption=function(t){var e=this.constructor.compatOptions[t];return e&&void 0!==this.options[e]?this.options[e]:this.options[t]},s.compatOptions={initLayout:"isInitLayout",horizontal:"isHorizontal",layoutInstant:"isLayoutInstant",originLeft:"isOriginLeft",originTop:"isOriginTop",resize:"isResizeBound",resizeContainer:"isResizingContainer"},c._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),n.extend(this.element.style,this.options.containerStyle);var t=this._getOption("resize");t&&this.bindResize()},c.reloadItems=function(){this.items=this._itemize(this.element.children)},c._itemize=function(t){for(var e=this._filterFindItemElements(t),i=this.constructor.Item,n=[],o=0;o<e.length;o++){var s=e[o],r=new i(s,this);n.push(r)}return n},c._filterFindItemElements=function(t){return n.filterFindElements(t,this.options.itemSelector)},c.getItemElements=function(){return this.items.map(function(t){return t.element})},c.layout=function(){this._resetLayout(),this._manageStamps();var t=this._getOption("layoutInstant"),e=void 0!==t?t:!this._isLayoutInited;this.layoutItems(this.items,e),this._isLayoutInited=!0},c._init=c.layout,c._resetLayout=function(){this.getSize()},c.getSize=function(){this.size=i(this.element)},c._getMeasurement=function(t,e){var n,o=this.options[t];o?("string"==typeof o?n=this.element.querySelector(o):o instanceof HTMLElement&&(n=o),this[t]=n?i(n)[e]:o):this[t]=0},c.layoutItems=function(t,e){t=this._getItemsForLayout(t),this._layoutItems(t,e),this._postLayout()},c._getItemsForLayout=function(t){return t.filter(function(t){return!t.isIgnored})},c._layoutItems=function(t,e){if(this._emitCompleteOnItems("layout",t),t&&t.length){var i=[];t.forEach(function(t){var n=this._getItemLayoutPosition(t);n.item=t,n.isInstant=e||t.isLayoutInstant,i.push(n)},this),this._processLayoutQueue(i)}},c._getItemLayoutPosition=function(){return{x:0,y:0}},c._processLayoutQueue=function(t){this.updateStagger(),t.forEach(function(t,e){this._positionItem(t.item,t.x,t.y,t.isInstant,e)},this)},c.updateStagger=function(){var t=this.options.stagger;return null===t||void 0===t?void(this.stagger=0):(this.stagger=a(t),this.stagger)},c._positionItem=function(t,e,i,n,o){n?t.goTo(e,i):(t.stagger(o*this.stagger),t.moveTo(e,i))},c._postLayout=function(){this.resizeContainer()},c.resizeContainer=function(){var t=this._getOption("resizeContainer");if(t){var e=this._getContainerSize();e&&(this._setContainerMeasure(e.width,!0),this._setContainerMeasure(e.height,!1))}},c._getContainerSize=d,c._setContainerMeasure=function(t,e){if(void 0!==t){var i=this.size;i.isBorderBox&&(t+=e?i.paddingLeft+i.paddingRight+i.borderLeftWidth+i.borderRightWidth:i.paddingBottom+i.paddingTop+i.borderTopWidth+i.borderBottomWidth),t=Math.max(t,0),this.element.style[e?"width":"height"]=t+"px"}},c._emitCompleteOnItems=function(t,e){function i(){o.dispatchEvent(t+"Complete",null,[e])}function n(){r++,r==s&&i()}var o=this,s=e.length;if(!e||!s)return void i();var r=0;e.forEach(function(e){e.once(t,n)})},c.dispatchEvent=function(t,e,i){var n=e?[e].concat(i):i;if(this.emitEvent(t,n),h)if(this.$element=this.$element||h(this.element),e){var o=h.Event(e);o.type=t,this.$element.trigger(o,i)}else this.$element.trigger(t,i)},c.ignore=function(t){var e=this.getItem(t);e&&(e.isIgnored=!0)},c.unignore=function(t){var e=this.getItem(t);e&&delete e.isIgnored},c.stamp=function(t){t=this._find(t),t&&(this.stamps=this.stamps.concat(t),t.forEach(this.ignore,this))},c.unstamp=function(t){t=this._find(t),t&&t.forEach(function(t){n.removeFrom(this.stamps,t),this.unignore(t)},this)},c._find=function(t){if(t)return"string"==typeof t&&(t=this.element.querySelectorAll(t)),t=n.makeArray(t)},c._manageStamps=function(){this.stamps&&this.stamps.length&&(this._getBoundingRect(),this.stamps.forEach(this._manageStamp,this))},c._getBoundingRect=function(){var t=this.element.getBoundingClientRect(),e=this.size;this._boundingRect={left:t.left+e.paddingLeft+e.borderLeftWidth,top:t.top+e.paddingTop+e.borderTopWidth,right:t.right-(e.paddingRight+e.borderRightWidth),bottom:t.bottom-(e.paddingBottom+e.borderBottomWidth)}},c._manageStamp=d,c._getElementOffset=function(t){var e=t.getBoundingClientRect(),n=this._boundingRect,o=i(t),s={left:e.left-n.left-o.marginLeft,top:e.top-n.top-o.marginTop,right:n.right-e.right-o.marginRight,bottom:n.bottom-e.bottom-o.marginBottom};return s},c.handleEvent=n.handleEvent,c.bindResize=function(){t.addEventListener("resize",this),this.isResizeBound=!0},c.unbindResize=function(){t.removeEventListener("resize",this),this.isResizeBound=!1},c.onresize=function(){this.resize()},n.debounceMethod(s,"onresize",100),c.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},c.needsResizeLayout=function(){var t=i(this.element),e=this.size&&t;return e&&t.innerWidth!==this.size.innerWidth},c.addItems=function(t){var e=this._itemize(t);return e.length&&(this.items=this.items.concat(e)),e},c.appended=function(t){var e=this.addItems(t);e.length&&(this.layoutItems(e,!0),this.reveal(e))},c.prepended=function(t){var e=this._itemize(t);if(e.length){var i=this.items.slice(0);this.items=e.concat(i),this._resetLayout(),this._manageStamps(),this.layoutItems(e,!0),this.reveal(e),this.layoutItems(i)}},c.reveal=function(t){if(this._emitCompleteOnItems("reveal",t),t&&t.length){var e=this.updateStagger();t.forEach(function(t,i){t.stagger(i*e),t.reveal()})}},c.hide=function(t){if(this._emitCompleteOnItems("hide",t),t&&t.length){var e=this.updateStagger();t.forEach(function(t,i){t.stagger(i*e),t.hide()})}},c.revealItemElements=function(t){var e=this.getItems(t);this.reveal(e)},c.hideItemElements=function(t){var e=this.getItems(t);this.hide(e)},c.getItem=function(t){for(var e=0;e<this.items.length;e++){var i=this.items[e];if(i.element==t)return i}},c.getItems=function(t){t=n.makeArray(t);var e=[];return t.forEach(function(t){var i=this.getItem(t);i&&e.push(i)},this),e},c.remove=function(t){var e=this.getItems(t);this._emitCompleteOnItems("remove",e),e&&e.length&&e.forEach(function(t){t.remove(),n.removeFrom(this.items,t)},this)},c.destroy=function(){var t=this.element.style;t.height="",t.position="",t.width="",this.items.forEach(function(t){t.destroy()}),this.unbindResize();var e=this.element.outlayerGUID;delete f[e],delete this.element.outlayerGUID,h&&h.removeData(this.element,this.constructor.namespace)},s.data=function(t){t=n.getQueryElement(t);var e=t&&t.outlayerGUID;return e&&f[e]},s.create=function(t,e){var i=r(s);return i.defaults=n.extend({},s.defaults),n.extend(i.defaults,e),i.compatOptions=n.extend({},s.compatOptions),i.namespace=t,i.data=s.data,i.Item=r(o),n.htmlInit(i,t),h&&h.bridget&&h.bridget(t,i),i};var m={ms:1,s:1e3};return s.Item=o,s}),function(t,e){"function"==typeof define&&define.amd?define("isotope/js/item",["outlayer/outlayer"],e):"object"==typeof module&&module.exports?module.exports=e(require("outlayer")):(t.Isotope=t.Isotope||{},t.Isotope.Item=e(t.Outlayer))}(window,function(t){"use strict";function e(){t.Item.apply(this,arguments)}var i=e.prototype=Object.create(t.Item.prototype),n=i._create;i._create=function(){this.id=this.layout.itemGUID++,n.call(this),this.sortData={}},i.updateSortData=function(){if(!this.isIgnored){this.sortData.id=this.id,this.sortData["original-order"]=this.id,this.sortData.random=Math.random();var t=this.layout.options.getSortData,e=this.layout._sorters;for(var i in t){var n=e[i];this.sortData[i]=n(this.element,this)}}};var o=i.destroy;return i.destroy=function(){o.apply(this,arguments),this.css({display:""})},e}),function(t,e){"function"==typeof define&&define.amd?define("isotope/js/layout-mode",["get-size/get-size","outlayer/outlayer"],e):"object"==typeof module&&module.exports?module.exports=e(require("get-size"),require("outlayer")):(t.Isotope=t.Isotope||{},t.Isotope.LayoutMode=e(t.getSize,t.Outlayer))}(window,function(t,e){"use strict";function i(t){this.isotope=t,t&&(this.options=t.options[this.namespace],this.element=t.element,this.items=t.filteredItems,this.size=t.size)}var n=i.prototype,o=["_resetLayout","_getItemLayoutPosition","_manageStamp","_getContainerSize","_getElementOffset","needsResizeLayout","_getOption"];return o.forEach(function(t){n[t]=function(){return e.prototype[t].apply(this.isotope,arguments)}}),n.needsVerticalResizeLayout=function(){var e=t(this.isotope.element),i=this.isotope.size&&e;return i&&e.innerHeight!=this.isotope.size.innerHeight},n._getMeasurement=function(){this.isotope._getMeasurement.apply(this,arguments)},n.getColumnWidth=function(){this.getSegmentSize("column","Width")},n.getRowHeight=function(){this.getSegmentSize("row","Height")},n.getSegmentSize=function(t,e){var i=t+e,n="outer"+e;if(this._getMeasurement(i,n),!this[i]){var o=this.getFirstItemSize();this[i]=o&&o[n]||this.isotope.size["inner"+e]}},n.getFirstItemSize=function(){var e=this.isotope.filteredItems[0];return e&&e.element&&t(e.element)},n.layout=function(){this.isotope.layout.apply(this.isotope,arguments)},n.getSize=function(){this.isotope.getSize(),this.size=this.isotope.size},i.modes={},i.create=function(t,e){function o(){i.apply(this,arguments)}return o.prototype=Object.create(n),o.prototype.constructor=o,e&&(o.options=e),o.prototype.namespace=t,i.modes[t]=o,o},i}),function(t,e){"function"==typeof define&&define.amd?define("masonry/masonry",["outlayer/outlayer","get-size/get-size"],e):"object"==typeof module&&module.exports?module.exports=e(require("outlayer"),require("get-size")):t.Masonry=e(t.Outlayer,t.getSize)}(window,function(t,e){var i=t.create("masonry");return i.compatOptions.fitWidth="isFitWidth",i.prototype._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns(),this.colYs=[];for(var t=0;t<this.cols;t++)this.colYs.push(0);this.maxY=0},i.prototype.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var t=this.items[0],i=t&&t.element;this.columnWidth=i&&e(i).outerWidth||this.containerWidth}var n=this.columnWidth+=this.gutter,o=this.containerWidth+this.gutter,s=o/n,r=n-o%n,a=r&&r<1?"round":"floor";s=Math[a](s),this.cols=Math.max(s,1)},i.prototype.getContainerWidth=function(){var t=this._getOption("fitWidth"),i=t?this.element.parentNode:this.element,n=e(i);this.containerWidth=n&&n.innerWidth},i.prototype._getItemLayoutPosition=function(t){t.getSize();var e=t.size.outerWidth%this.columnWidth,i=e&&e<1?"round":"ceil",n=Math[i](t.size.outerWidth/this.columnWidth);n=Math.min(n,this.cols);for(var o=this._getColGroup(n),s=Math.min.apply(Math,o),r=o.indexOf(s),a={x:this.columnWidth*r,y:s},u=s+t.size.outerHeight,h=this.cols+1-o.length,d=0;d<h;d++)this.colYs[r+d]=u;return a},i.prototype._getColGroup=function(t){if(t<2)return this.colYs;for(var e=[],i=this.cols+1-t,n=0;n<i;n++){var o=this.colYs.slice(n,n+t);e[n]=Math.max.apply(Math,o)}return e},i.prototype._manageStamp=function(t){var i=e(t),n=this._getElementOffset(t),o=this._getOption("originLeft"),s=o?n.left:n.right,r=s+i.outerWidth,a=Math.floor(s/this.columnWidth);a=Math.max(0,a);var u=Math.floor(r/this.columnWidth);u-=r%this.columnWidth?0:1,u=Math.min(this.cols-1,u);for(var h=this._getOption("originTop"),d=(h?n.top:n.bottom)+i.outerHeight,l=a;l<=u;l++)this.colYs[l]=Math.max(d,this.colYs[l])},i.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var t={height:this.maxY};return this._getOption("fitWidth")&&(t.width=this._getContainerFitWidth()),t},i.prototype._getContainerFitWidth=function(){for(var t=0,e=this.cols;--e&&0===this.colYs[e];)t++;return(this.cols-t)*this.columnWidth-this.gutter},i.prototype.needsResizeLayout=function(){var t=this.containerWidth;return this.getContainerWidth(),t!=this.containerWidth},i}),function(t,e){"function"==typeof define&&define.amd?define("isotope/js/layout-modes/masonry",["../layout-mode","masonry/masonry"],e):"object"==typeof module&&module.exports?module.exports=e(require("../layout-mode"),require("masonry-layout")):e(t.Isotope.LayoutMode,t.Masonry)}(window,function(t,e){"use strict";var i=t.create("masonry"),n=i.prototype,o={_getElementOffset:!0,layout:!0,_getMeasurement:!0};for(var s in e.prototype)o[s]||(n[s]=e.prototype[s]);var r=n.measureColumns;n.measureColumns=function(){this.items=this.isotope.filteredItems,r.call(this)};var a=n._getOption;return n._getOption=function(t){return"fitWidth"==t?void 0!==this.options.isFitWidth?this.options.isFitWidth:this.options.fitWidth:a.apply(this.isotope,arguments)},i}),function(t,e){"function"==typeof define&&define.amd?define("isotope/js/layout-modes/fit-rows",["../layout-mode"],e):"object"==typeof exports?module.exports=e(require("../layout-mode")):e(t.Isotope.LayoutMode)}(window,function(t){"use strict";var e=t.create("fitRows"),i=e.prototype;return i._resetLayout=function(){this.x=0,this.y=0,this.maxY=0,this._getMeasurement("gutter","outerWidth")},i._getItemLayoutPosition=function(t){t.getSize();var e=t.size.outerWidth+this.gutter,i=this.isotope.size.innerWidth+this.gutter;0!==this.x&&e+this.x>i&&(this.x=0,this.y=this.maxY);var n={x:this.x,y:this.y};return this.maxY=Math.max(this.maxY,this.y+t.size.outerHeight),this.x+=e,n},i._getContainerSize=function(){return{height:this.maxY}},e}),function(t,e){"function"==typeof define&&define.amd?define("isotope/js/layout-modes/vertical",["../layout-mode"],e):"object"==typeof module&&module.exports?module.exports=e(require("../layout-mode")):e(t.Isotope.LayoutMode)}(window,function(t){"use strict";var e=t.create("vertical",{horizontalAlignment:0}),i=e.prototype;return i._resetLayout=function(){this.y=0},i._getItemLayoutPosition=function(t){t.getSize();var e=(this.isotope.size.innerWidth-t.size.outerWidth)*this.options.horizontalAlignment,i=this.y;return this.y+=t.size.outerHeight,{x:e,y:i}},i._getContainerSize=function(){return{height:this.y}},e}),function(t,e){"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size","desandro-matches-selector/matches-selector","fizzy-ui-utils/utils","isotope/js/item","isotope/js/layout-mode","isotope/js/layout-modes/masonry","isotope/js/layout-modes/fit-rows","isotope/js/layout-modes/vertical"],function(i,n,o,s,r,a){return e(t,i,n,o,s,r,a)}):"object"==typeof module&&module.exports?module.exports=e(t,require("outlayer"),require("get-size"),require("desandro-matches-selector"),require("fizzy-ui-utils"),require("isotope/js/item"),require("isotope/js/layout-mode"),require("isotope/js/layout-modes/masonry"),require("isotope/js/layout-modes/fit-rows"),require("isotope/js/layout-modes/vertical")):t.Isotope=e(t,t.Outlayer,t.getSize,t.matchesSelector,t.fizzyUIUtils,t.Isotope.Item,t.Isotope.LayoutMode)}(window,function(t,e,i,n,o,s,r){function a(t,e){return function(i,n){for(var o=0;o<t.length;o++){var s=t[o],r=i.sortData[s],a=n.sortData[s];if(r>a||r<a){var u=void 0!==e[s]?e[s]:e,h=u?1:-1;return(r>a?1:-1)*h}}return 0}}var u=t.jQuery,h=String.prototype.trim?function(t){return t.trim()}:function(t){return t.replace(/^\s+|\s+$/g,"")},d=e.create("isotope",{layoutMode:"masonry",isJQueryFiltering:!0,sortAscending:!0});d.Item=s,d.LayoutMode=r;var l=d.prototype;l._create=function(){this.itemGUID=0,this._sorters={},this._getSorters(),e.prototype._create.call(this),this.modes={},this.filteredItems=this.items,this.sortHistory=["original-order"];for(var t in r.modes)this._initLayoutMode(t)},l.reloadItems=function(){this.itemGUID=0,e.prototype.reloadItems.call(this)},l._itemize=function(){for(var t=e.prototype._itemize.apply(this,arguments),i=0;i<t.length;i++){var n=t[i];n.id=this.itemGUID++}return this._updateItemsSortData(t),t},l._initLayoutMode=function(t){var e=r.modes[t],i=this.options[t]||{};this.options[t]=e.options?o.extend(e.options,i):i,this.modes[t]=new e(this)},l.layout=function(){return!this._isLayoutInited&&this._getOption("initLayout")?void this.arrange():void this._layout()},l._layout=function(){var t=this._getIsInstant();this._resetLayout(),this._manageStamps(),this.layoutItems(this.filteredItems,t),this._isLayoutInited=!0},l.arrange=function(t){this.option(t),this._getIsInstant();var e=this._filter(this.items);this.filteredItems=e.matches,this._bindArrangeComplete(),this._isInstant?this._noTransition(this._hideReveal,[e]):this._hideReveal(e),this._sort(),this._layout()},l._init=l.arrange,l._hideReveal=function(t){this.reveal(t.needReveal),this.hide(t.needHide)},l._getIsInstant=function(){var t=this._getOption("layoutInstant"),e=void 0!==t?t:!this._isLayoutInited;return this._isInstant=e,e},l._bindArrangeComplete=function(){function t(){e&&i&&n&&o.dispatchEvent("arrangeComplete",null,[o.filteredItems])}var e,i,n,o=this;this.once("layoutComplete",function(){e=!0,t()}),this.once("hideComplete",function(){i=!0,t()}),this.once("revealComplete",function(){n=!0,t()})},l._filter=function(t){var e=this.options.filter;e=e||"*";for(var i=[],n=[],o=[],s=this._getFilterTest(e),r=0;r<t.length;r++){var a=t[r];if(!a.isIgnored){var u=s(a);u&&i.push(a),u&&a.isHidden?n.push(a):u||a.isHidden||o.push(a)}}return{matches:i,needReveal:n,needHide:o}},l._getFilterTest=function(t){return u&&this.options.isJQueryFiltering?function(e){return u(e.element).is(t)}:"function"==typeof t?function(e){return t(e.element)}:function(e){return n(e.element,t)}},l.updateSortData=function(t){var e;t?(t=o.makeArray(t),e=this.getItems(t)):e=this.items,this._getSorters(),this._updateItemsSortData(e)},l._getSorters=function(){var t=this.options.getSortData;for(var e in t){var i=t[e];this._sorters[e]=f(i)}},l._updateItemsSortData=function(t){for(var e=t&&t.length,i=0;e&&i<e;i++){var n=t[i];n.updateSortData()}};var f=function(){function t(t){if("string"!=typeof t)return t;var i=h(t).split(" "),n=i[0],o=n.match(/^\[(.+)\]$/),s=o&&o[1],r=e(s,n),a=d.sortDataParsers[i[1]];return t=a?function(t){return t&&a(r(t))}:function(t){return t&&r(t)}}function e(t,e){return t?function(e){return e.getAttribute(t)}:function(t){var i=t.querySelector(e);return i&&i.textContent}}return t}();d.sortDataParsers={parseInt:function(t){return parseInt(t,10)},parseFloat:function(t){return parseFloat(t)}},l._sort=function(){var t=this.options.sortBy;if(t){var e=[].concat.apply(t,this.sortHistory),i=a(e,this.options.sortAscending);this.filteredItems.sort(i),t!=this.sortHistory[0]&&this.sortHistory.unshift(t)}},l._mode=function(){var t=this.options.layoutMode,e=this.modes[t];if(!e)throw new Error("No layout mode: "+t);return e.options=this.options[t],e},l._resetLayout=function(){e.prototype._resetLayout.call(this),this._mode()._resetLayout()},l._getItemLayoutPosition=function(t){return this._mode()._getItemLayoutPosition(t)},l._manageStamp=function(t){this._mode()._manageStamp(t)},l._getContainerSize=function(){return this._mode()._getContainerSize()},l.needsResizeLayout=function(){return this._mode().needsResizeLayout()},l.appended=function(t){var e=this.addItems(t);if(e.length){var i=this._filterRevealAdded(e);this.filteredItems=this.filteredItems.concat(i)}},l.prepended=function(t){var e=this._itemize(t);if(e.length){this._resetLayout(),this._manageStamps();var i=this._filterRevealAdded(e);this.layoutItems(this.filteredItems),this.filteredItems=i.concat(this.filteredItems),this.items=e.concat(this.items)}},l._filterRevealAdded=function(t){var e=this._filter(t);return this.hide(e.needHide),this.reveal(e.matches),this.layoutItems(e.matches,!0),e.matches},l.insert=function(t){var e=this.addItems(t);if(e.length){var i,n,o=e.length;for(i=0;i<o;i++)n=e[i],this.element.appendChild(n.element);var s=this._filter(e).matches;for(i=0;i<o;i++)e[i].isLayoutInstant=!0;for(this.arrange(),i=0;i<o;i++)delete e[i].isLayoutInstant;this.reveal(s)}};var c=l.remove;return l.remove=function(t){t=o.makeArray(t);var e=this.getItems(t);c.call(this,t);for(var i=e&&e.length,n=0;i&&n<i;n++){var s=e[n];o.removeFrom(this.filteredItems,s)}},l.shuffle=function(){for(var t=0;t<this.items.length;t++){var e=this.items[t];e.sortData.random=Math.random()}this.options.sortBy="random",this._sort(),this._layout()},l._noTransition=function(t,e){var i=this.options.transitionDuration;this.options.transitionDuration=0;var n=t.apply(this,e);return this.options.transitionDuration=i,n},l.getFilteredItemElements=function(){return this.filteredItems.map(function(t){return t.element})},d});!function(i){if("function"==typeof define&&define.amd)define(["jquery"],i);else if("object"==typeof module&&module.exports){var t=require("jquery");i(t),module.exports=t}else i(jQuery)}(function(i){function t(i){this.init(i)}t.prototype={value:0,size:100,startAngle:-Math.PI,thickness:"auto",fill:{gradient:["#3aeabb","#fdd250"]},emptyFill:"rgba(0, 0, 0, .1)",animation:{duration:1200,easing:"circleProgressEasing"},animationStartValue:0,reverse:!1,lineCap:"butt",insertMode:"prepend",constructor:t,el:null,canvas:null,ctx:null,radius:0,arcFill:null,lastFrameValue:0,init:function(t){i.extend(this,t),this.radius=this.size/2,this.initWidget(),this.initFill(),this.draw(),this.el.trigger("circle-inited")},initWidget:function(){this.canvas||(this.canvas=i("<canvas>")["prepend"==this.insertMode?"prependTo":"appendTo"](this.el)[0]);var t=this.canvas;if(t.width=this.size,t.height=this.size,this.ctx=t.getContext("2d"),window.devicePixelRatio>1){var e=window.devicePixelRatio;t.style.width=t.style.height=this.size+"px",t.width=t.height=this.size*e,this.ctx.scale(e,e)}},initFill:function(){function t(){var t=i("<canvas>")[0];t.width=e.size,t.height=e.size,t.getContext("2d").drawImage(g,0,0,r,r),e.arcFill=e.ctx.createPattern(t,"no-repeat"),e.drawFrame(e.lastFrameValue)}var e=this,a=this.fill,n=this.ctx,r=this.size;if(!a)throw Error("The fill is not specified!");if("string"==typeof a&&(a={color:a}),a.color&&(this.arcFill=a.color),a.gradient){var s=a.gradient;if(1==s.length)this.arcFill=s[0];else if(s.length>1){for(var l=a.gradientAngle||0,o=a.gradientDirection||[r/2*(1-Math.cos(l)),r/2*(1+Math.sin(l)),r/2*(1+Math.cos(l)),r/2*(1-Math.sin(l))],h=n.createLinearGradient.apply(n,o),c=0;c<s.length;c++){var d=s[c],u=c/(s.length-1);i.isArray(d)&&(u=d[1],d=d[0]),h.addColorStop(u,d)}this.arcFill=h}}if(a.image){var g;a.image instanceof Image?g=a.image:(g=new Image,g.src=a.image),g.complete?t():g.onload=t}},draw:function(){this.animation?this.drawAnimated(this.value):this.drawFrame(this.value)},drawFrame:function(i){this.lastFrameValue=i,this.ctx.clearRect(0,0,this.size,this.size),this.drawEmptyArc(i),this.drawArc(i)},drawArc:function(i){if(0!==i){var t=this.ctx,e=this.radius,a=this.getThickness(),n=this.startAngle;t.save(),t.beginPath(),this.reverse?t.arc(e,e,e-a/2,n-2*Math.PI*i,n):t.arc(e,e,e-a/2,n,n+2*Math.PI*i),t.lineWidth=a,t.lineCap=this.lineCap,t.strokeStyle=this.arcFill,t.stroke(),t.restore()}},drawEmptyArc:function(i){var t=this.ctx,e=this.radius,a=this.getThickness(),n=this.startAngle;i<1&&(t.save(),t.beginPath(),i<=0?t.arc(e,e,e-a/2,0,2*Math.PI):this.reverse?t.arc(e,e,e-a/2,n,n-2*Math.PI*i):t.arc(e,e,e-a/2,n+2*Math.PI*i,n),t.lineWidth=a,t.strokeStyle=this.emptyFill,t.stroke(),t.restore())},drawAnimated:function(t){var e=this,a=this.el,n=i(this.canvas);n.stop(!0,!1),a.trigger("circle-animation-start"),n.css({animationProgress:0}).animate({animationProgress:1},i.extend({},this.animation,{step:function(i){var n=e.animationStartValue*(1-i)+t*i;e.drawFrame(n),a.trigger("circle-animation-progress",[i,n])}})).promise().always(function(){a.trigger("circle-animation-end")})},getThickness:function(){return i.isNumeric(this.thickness)?this.thickness:this.size/14},getValue:function(){return this.value},setValue:function(i){this.animation&&(this.animationStartValue=this.lastFrameValue),this.value=i,this.draw()}},i.circleProgress={defaults:t.prototype},i.easing.circleProgressEasing=function(i,t,e,a,n){return(t/=n/2)<1?a/2*t*t*t+e:a/2*((t-=2)*t*t+2)+e},i.fn.circleProgress=function(e,a){var n="circle-progress",r=this.data(n);if("widget"==e){if(!r)throw Error('Calling "widget" method on not initialized instance is forbidden');return r.canvas}if("value"==e){if(!r)throw Error('Calling "value" method on not initialized instance is forbidden');if("undefined"==typeof a)return r.getValue();var s=arguments[1];return this.each(function(){i(this).data(n).setValue(s)})}return this.each(function(){var a=i(this),r=a.data(n),s=i.isPlainObject(e)?e:{};if(r)r.init(s);else{var l=i.extend({},a.data());"string"==typeof l.fill&&(l.fill=JSON.parse(l.fill)),"string"==typeof l.animation&&(l.animation=JSON.parse(l.animation)),s=i.extend(l,s),s.el=a,r=new t(s),a.data(n,r)}})}});(function(factory){if(typeof define==="function"&&define.amd){define(["jquery"],factory);}else if(typeof exports==="object"){factory(require("jquery"));}else{factory(jQuery);}}(function($){var widget_uuid=0,widget_slice=Array.prototype.slice;$.cleanData=(function(orig){return function(elems){var events,elem,i;for(i=0;(elem=elems[i])!=null;i++){try{events=$._data(elem,"events");if(events&&events.remove){$(elem).triggerHandler("remove");}}catch(e){}}
    orig(elems);};})($.cleanData);$.widget=function(name,base,prototype){var fullName,existingConstructor,constructor,basePrototype,proxiedPrototype={},namespace=name.split(".")[0];name=name.split(".")[1];fullName=namespace+"-"+name;if(!prototype){prototype=base;base=$.Widget;}
    $.expr[":"][fullName.toLowerCase()]=function(elem){return!!$.data(elem,fullName);};$[namespace]=$[namespace]||{};existingConstructor=$[namespace][name];constructor=$[namespace][name]=function(options,element){if(!this._createWidget){return new constructor(options,element);}
        if(arguments.length){this._createWidget(options,element);}};$.extend(constructor,existingConstructor,{version:prototype.version,_proto:$.extend({},prototype),_childConstructors:[]});basePrototype=new base();basePrototype.options=$.widget.extend({},basePrototype.options);$.each(prototype,function(prop,value){if(!$.isFunction(value)){proxiedPrototype[prop]=value;return;}
        proxiedPrototype[prop]=(function(){var _super=function(){return base.prototype[prop].apply(this,arguments);},_superApply=function(args){return base.prototype[prop].apply(this,args);};return function(){var __super=this._super,__superApply=this._superApply,returnValue;this._super=_super;this._superApply=_superApply;returnValue=value.apply(this,arguments);this._super=__super;this._superApply=__superApply;return returnValue;};})();});constructor.prototype=$.widget.extend(basePrototype,{widgetEventPrefix:existingConstructor?(basePrototype.widgetEventPrefix||name):name},proxiedPrototype,{constructor:constructor,namespace:namespace,widgetName:name,widgetFullName:fullName});if(existingConstructor){$.each(existingConstructor._childConstructors,function(i,child){var childPrototype=child.prototype;$.widget(childPrototype.namespace+"."+childPrototype.widgetName,constructor,child._proto);});delete existingConstructor._childConstructors;}else{base._childConstructors.push(constructor);}
    $.widget.bridge(name,constructor);return constructor;};$.widget.extend=function(target){var input=widget_slice.call(arguments,1),inputIndex=0,inputLength=input.length,key,value;for(;inputIndex<inputLength;inputIndex++){for(key in input[inputIndex]){value=input[inputIndex][key];if(input[inputIndex].hasOwnProperty(key)&&value!==undefined){if($.isPlainObject(value)){target[key]=$.isPlainObject(target[key])?$.widget.extend({},target[key],value):$.widget.extend({},value);}else{target[key]=value;}}}}
    return target;};$.widget.bridge=function(name,object){var fullName=object.prototype.widgetFullName||name;$.fn[name]=function(options){var isMethodCall=typeof options==="string",args=widget_slice.call(arguments,1),returnValue=this;if(isMethodCall){this.each(function(){var methodValue,instance=$.data(this,fullName);if(options==="instance"){returnValue=instance;return false;}
    if(!instance){return $.error("cannot call methods on "+name+" prior to initialization; "+"attempted to call method '"+options+"'");}
    if(!$.isFunction(instance[options])||options.charAt(0)==="_"){return $.error("no such method '"+options+"' for "+name+" widget instance");}
    methodValue=instance[options].apply(instance,args);if(methodValue!==instance&&methodValue!==undefined){returnValue=methodValue&&methodValue.jquery?returnValue.pushStack(methodValue.get()):methodValue;return false;}});}else{if(args.length){options=$.widget.extend.apply(null,[options].concat(args));}
    this.each(function(){var instance=$.data(this,fullName);if(instance){instance.option(options||{});if(instance._init){instance._init();}}else{$.data(this,fullName,new object(options,this));}});}
    return returnValue;};};$.Widget=function(){};$.Widget._childConstructors=[];$.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:false,create:null},_createWidget:function(options,element){element=$(element||this.defaultElement||this)[0];this.element=$(element);this.uuid=widget_uuid++;this.eventNamespace="."+this.widgetName+this.uuid;this.bindings=$();this.hoverable=$();this.focusable=$();if(element!==this){$.data(element,this.widgetFullName,this);this._on(true,this.element,{remove:function(event){if(event.target===element){this.destroy();}}});this.document=$(element.style?element.ownerDocument:element.document||element);this.window=$(this.document[0].defaultView||this.document[0].parentWindow);}
        this.options=$.widget.extend({},this.options,this._getCreateOptions(),options);this._create();this._trigger("create",null,this._getCreateEventData());this._init();},_getCreateOptions:$.noop,_getCreateEventData:$.noop,_create:$.noop,_init:$.noop,destroy:function(){this._destroy();this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData($.camelCase(this.widgetFullName));this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled");this.bindings.unbind(this.eventNamespace);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus");},_destroy:$.noop,widget:function(){return this.element;},option:function(key,value){var options=key,parts,curOption,i;if(arguments.length===0){return $.widget.extend({},this.options);}
        if(typeof key==="string"){options={};parts=key.split(".");key=parts.shift();if(parts.length){curOption=options[key]=$.widget.extend({},this.options[key]);for(i=0;i<parts.length-1;i++){curOption[parts[i]]=curOption[parts[i]]||{};curOption=curOption[parts[i]];}
            key=parts.pop();if(arguments.length===1){return curOption[key]===undefined?null:curOption[key];}
            curOption[key]=value;}else{if(arguments.length===1){return this.options[key]===undefined?null:this.options[key];}
            options[key]=value;}}
        this._setOptions(options);return this;},_setOptions:function(options){var key;for(key in options){this._setOption(key,options[key]);}
        return this;},_setOption:function(key,value){this.options[key]=value;if(key==="disabled"){this.widget().toggleClass(this.widgetFullName+"-disabled",!!value);if(value){this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus");}}
        return this;},enable:function(){return this._setOptions({disabled:false});},disable:function(){return this._setOptions({disabled:true});},_on:function(suppressDisabledCheck,element,handlers){var delegateElement,instance=this;if(typeof suppressDisabledCheck!=="boolean"){handlers=element;element=suppressDisabledCheck;suppressDisabledCheck=false;}
        if(!handlers){handlers=element;element=this.element;delegateElement=this.widget();}else{element=delegateElement=$(element);this.bindings=this.bindings.add(element);}
        $.each(handlers,function(event,handler){function handlerProxy(){if(!suppressDisabledCheck&&(instance.options.disabled===true||$(this).hasClass("ui-state-disabled"))){return;}
            return(typeof handler==="string"?instance[handler]:handler).apply(instance,arguments);}
            if(typeof handler!=="string"){handlerProxy.guid=handler.guid=handler.guid||handlerProxy.guid||$.guid++;}
            var match=event.match(/^([\w:-]*)\s*(.*)$/),eventName=match[1]+instance.eventNamespace,selector=match[2];if(selector){delegateElement.delegate(selector,eventName,handlerProxy);}else{element.bind(eventName,handlerProxy);}});},_off:function(element,eventName){eventName=(eventName||"").split(" ").join(this.eventNamespace+" ")+
        this.eventNamespace;element.unbind(eventName).undelegate(eventName);this.bindings=$(this.bindings.not(element).get());this.focusable=$(this.focusable.not(element).get());this.hoverable=$(this.hoverable.not(element).get());},_delay:function(handler,delay){function handlerProxy(){return(typeof handler==="string"?instance[handler]:handler).apply(instance,arguments);}
        var instance=this;return setTimeout(handlerProxy,delay||0);},_hoverable:function(element){this.hoverable=this.hoverable.add(element);this._on(element,{mouseenter:function(event){$(event.currentTarget).addClass("ui-state-hover");},mouseleave:function(event){$(event.currentTarget).removeClass("ui-state-hover");}});},_focusable:function(element){this.focusable=this.focusable.add(element);this._on(element,{focusin:function(event){$(event.currentTarget).addClass("ui-state-focus");},focusout:function(event){$(event.currentTarget).removeClass("ui-state-focus");}});},_trigger:function(type,event,data){var prop,orig,callback=this.options[type];data=data||{};event=$.Event(event);event.type=(type===this.widgetEventPrefix?type:this.widgetEventPrefix+type).toLowerCase();event.target=this.element[0];orig=event.originalEvent;if(orig){for(prop in orig){if(!(prop in event)){event[prop]=orig[prop];}}}
        this.element.trigger(event,data);return!($.isFunction(callback)&&callback.apply(this.element[0],[event].concat(data))===false||event.isDefaultPrevented());}};$.each({show:"fadeIn",hide:"fadeOut"},function(method,defaultEffect){$.Widget.prototype["_"+method]=function(element,options,callback){if(typeof options==="string"){options={effect:options};}
    var hasOptions,effectName=!options?method:options===true||typeof options==="number"?defaultEffect:options.effect||defaultEffect;options=options||{};if(typeof options==="number"){options={duration:options};}
    hasOptions=!$.isEmptyObject(options);options.complete=callback;if(options.delay){element.delay(options.delay);}
    if(hasOptions&&$.effects&&$.effects.effect[effectName]){element[method](options);}else if(effectName!==method&&element[effectName]){element[effectName](options.duration,options.easing,callback);}else{element.queue(function(next){$(this)[method]();if(callback){callback.call(element[0]);}
        next();});}};});var widget=$.widget;}));!function(e){"use strict";var n=function(e,t){var r=/[^\w\-\.:]/.test(e)?new Function(n.arg+",tmpl","var _e=tmpl.encode"+n.helper+",_s='"+e.replace(n.regexp,n.func)+"';return _s;"):n.cache[e]=n.cache[e]||n(n.load(e));return t?r(t,n):function(e){return r(e,n)}};n.cache={},n.load=function(e){return document.getElementById(e).innerHTML},n.regexp=/([\s'\\])(?!(?:[^{]|\{(?!%))*%\})|(?:\{%(=|#)([\s\S]+?)%\})|(\{%)|(%\})/g,n.func=function(e,n,t,r,c,u){return n?{"\n":"\\n","\r":"\\r","\t":"\\t"," ":" "}[n]||"\\"+n:t?"="===t?"'+_e("+r+")+'":"'+("+r+"==null?'':"+r+")+'":c?"';":u?"_s+='":void 0},n.encReg=/[<>&"'\x00]/g,n.encMap={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&#39;"},n.encode=function(e){return(null==e?"":""+e).replace(n.encReg,function(e){return n.encMap[e]||""})},n.arg="o",n.helper=",print=function(s,e){_s+=e?(s==null?'':s):_e(s);},include=function(s,d){_s+=tmpl(s,d);}","function"==typeof define&&define.amd?define(function(){return n}):"object"==typeof module&&module.exports?module.exports=n:e.tmpl=n}(this);!function(e){"use strict";function t(e,i,a){var o,r=document.createElement("img");if(r.onerror=function(o){return t.onerror(r,o,e,i,a)},r.onload=function(o){return t.onload(r,o,e,i,a)},t.isInstanceOf("Blob",e)||t.isInstanceOf("File",e))o=r._objectURL=t.createObjectURL(e);else{if("string"!=typeof e)return!1;o=e,a&&a.crossOrigin&&(r.crossOrigin=a.crossOrigin)}return o?(r.src=o,r):t.readFile(e,function(e){var t=e.target;t&&t.result?r.src=t.result:i&&i(e)})}function i(e,i){!e._objectURL||i&&i.noRevoke||(t.revokeObjectURL(e._objectURL),delete e._objectURL)}var a=window.createObjectURL&&window||window.URL&&URL.revokeObjectURL&&URL||window.webkitURL&&webkitURL;t.isInstanceOf=function(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"},t.transform=function(e,i,a,o,r){a(t.scale(e,i,r),r)},t.onerror=function(e,t,a,o,r){i(e,r),o&&o.call(e,t)},t.onload=function(e,a,o,r,n){i(e,n),r&&t.transform(e,n,r,o,{})},t.transformCoordinates=function(){},t.getTransformedOptions=function(e,t){var i,a,o,r,n=t.aspectRatio;if(!n)return t;i={};for(a in t)t.hasOwnProperty(a)&&(i[a]=t[a]);return i.crop=!0,o=e.naturalWidth||e.width,r=e.naturalHeight||e.height,o/r>n?(i.maxWidth=r*n,i.maxHeight=r):(i.maxWidth=o,i.maxHeight=o/n),i},t.renderImageToCanvas=function(e,t,i,a,o,r,n,s,l,d){return e.getContext("2d").drawImage(t,i,a,o,r,n,s,l,d),e},t.hasCanvasOption=function(e){return e.canvas||e.crop||!!e.aspectRatio},t.scale=function(e,i,a){function o(){var e=Math.max((l||v)/v,(d||P)/P);e>1&&(v*=e,P*=e)}function r(){var e=Math.min((n||v)/v,(s||P)/P);e<1&&(v*=e,P*=e)}i=i||{};var n,s,l,d,u,c,f,g,h,m,p,S=document.createElement("canvas"),b=e.getContext||t.hasCanvasOption(i)&&S.getContext,x=e.naturalWidth||e.width,y=e.naturalHeight||e.height,v=x,P=y;if(b&&(i=t.getTransformedOptions(e,i,a),f=i.left||0,g=i.top||0,i.sourceWidth?(u=i.sourceWidth,void 0!==i.right&&void 0===i.left&&(f=x-u-i.right)):u=x-f-(i.right||0),i.sourceHeight?(c=i.sourceHeight,void 0!==i.bottom&&void 0===i.top&&(g=y-c-i.bottom)):c=y-g-(i.bottom||0),v=u,P=c),n=i.maxWidth,s=i.maxHeight,l=i.minWidth,d=i.minHeight,b&&n&&s&&i.crop?(v=n,P=s,p=u/c-n/s,p<0?(c=s*u/n,void 0===i.top&&void 0===i.bottom&&(g=(y-c)/2)):p>0&&(u=n*c/s,void 0===i.left&&void 0===i.right&&(f=(x-u)/2))):((i.contain||i.cover)&&(l=n=n||l,d=s=s||d),i.cover?(r(),o()):(o(),r())),b){if(h=i.pixelRatio,h>1&&(S.style.width=v+"px",S.style.height=P+"px",v*=h,P*=h,S.getContext("2d").scale(h,h)),m=i.downsamplingRatio,m>0&&m<1&&v<u&&P<c)for(;u*m>v;)S.width=u*m,S.height=c*m,t.renderImageToCanvas(S,e,f,g,u,c,0,0,S.width,S.height),u=S.width,c=S.height,e=document.createElement("canvas"),e.width=u,e.height=c,t.renderImageToCanvas(e,S,0,0,u,c,0,0,u,c);return S.width=v,S.height=P,t.transformCoordinates(S,i),t.renderImageToCanvas(S,e,f,g,u,c,0,0,v,P)}return e.width=v,e.height=P,e},t.createObjectURL=function(e){return!!a&&a.createObjectURL(e)},t.revokeObjectURL=function(e){return!!a&&a.revokeObjectURL(e)},t.readFile=function(e,t,i){if(window.FileReader){var a=new FileReader;if(a.onload=a.onerror=t,i=i||"readAsDataURL",a[i])return a[i](e),a}return!1},"function"==typeof define&&define.amd?define(function(){return t}):"object"==typeof module&&module.exports?module.exports=t:e.loadImage=t}(window),function(e){"use strict";"function"==typeof define&&define.amd?define(["./load-image"],e):e("object"==typeof module&&module.exports?require("./load-image"):window.loadImage)}(function(e){"use strict";var t=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice);e.blobSlice=t&&function(){var e=this.slice||this.webkitSlice||this.mozSlice;return e.apply(this,arguments)},e.metaDataParsers={jpeg:{65505:[]}},e.parseMetaData=function(t,i,a,o){a=a||{},o=o||{};var r=this,n=a.maxMetaDataSize||262144,s=!(window.DataView&&t&&t.size>=12&&"image/jpeg"===t.type&&e.blobSlice);!s&&e.readFile(e.blobSlice.call(t,0,n),function(t){if(t.target.error)return console.log(t.target.error),void i(o);var n,s,l,d,u=t.target.result,c=new DataView(u),f=2,g=c.byteLength-4,h=f;if(65496===c.getUint16(0)){for(;f<g&&(n=c.getUint16(f),n>=65504&&n<=65519||65534===n);){if(s=c.getUint16(f+2)+2,f+s>c.byteLength){console.log("Invalid meta data: Invalid segment size.");break}if(l=e.metaDataParsers.jpeg[n])for(d=0;d<l.length;d+=1)l[d].call(r,c,f,s,o,a);f+=s,h=f}!a.disableImageHead&&h>6&&(u.slice?o.imageHead=u.slice(0,h):o.imageHead=new Uint8Array(u).subarray(0,h))}else console.log("Invalid JPEG file: Missing JPEG marker.");i(o)},"readAsArrayBuffer")||i(o)},e.hasMetaOption=function(e){return e.meta};var i=e.transform;e.transform=function(t,a,o,r,n){e.hasMetaOption(a||{})?e.parseMetaData(r,function(n){i.call(e,t,a,o,r,n)},a,n):i.apply(e,arguments)}}),function(e){"use strict";"function"==typeof define&&define.amd?define(["./load-image","./load-image-meta"],e):"object"==typeof module&&module.exports?e(require("./load-image"),require("./load-image-meta")):e(window.loadImage)}(function(e){"use strict";e.ExifMap=function(){return this},e.ExifMap.prototype.map={Orientation:274},e.ExifMap.prototype.get=function(e){return this[e]||this[this.map[e]]},e.getExifThumbnail=function(e,t,i){var a,o,r;if(!i||t+i>e.byteLength)return void console.log("Invalid Exif data: Invalid thumbnail data.");for(a=[],o=0;o<i;o+=1)r=e.getUint8(t+o),a.push((r<16?"0":"")+r.toString(16));return"data:image/jpeg,%"+a.join("%")},e.exifTagTypes={1:{getValue:function(e,t){return e.getUint8(t)},size:1},2:{getValue:function(e,t){return String.fromCharCode(e.getUint8(t))},size:1,ascii:!0},3:{getValue:function(e,t,i){return e.getUint16(t,i)},size:2},4:{getValue:function(e,t,i){return e.getUint32(t,i)},size:4},5:{getValue:function(e,t,i){return e.getUint32(t,i)/e.getUint32(t+4,i)},size:8},9:{getValue:function(e,t,i){return e.getInt32(t,i)},size:4},10:{getValue:function(e,t,i){return e.getInt32(t,i)/e.getInt32(t+4,i)},size:8}},e.exifTagTypes[7]=e.exifTagTypes[1],e.getExifValue=function(t,i,a,o,r,n){var s,l,d,u,c,f,g=e.exifTagTypes[o];if(!g)return void console.log("Invalid Exif data: Invalid tag type.");if(s=g.size*r,l=s>4?i+t.getUint32(a+8,n):a+8,l+s>t.byteLength)return void console.log("Invalid Exif data: Invalid data offset.");if(1===r)return g.getValue(t,l,n);for(d=[],u=0;u<r;u+=1)d[u]=g.getValue(t,l+u*g.size,n);if(g.ascii){for(c="",u=0;u<d.length&&(f=d[u],"\0"!==f);u+=1)c+=f;return c}return d},e.parseExifTag=function(t,i,a,o,r){var n=t.getUint16(a,o);r.exif[n]=e.getExifValue(t,i,a,t.getUint16(a+2,o),t.getUint32(a+4,o),o)},e.parseExifTags=function(e,t,i,a,o){var r,n,s;if(i+6>e.byteLength)return void console.log("Invalid Exif data: Invalid directory offset.");if(r=e.getUint16(i,a),n=i+2+12*r,n+4>e.byteLength)return void console.log("Invalid Exif data: Invalid directory size.");for(s=0;s<r;s+=1)this.parseExifTag(e,t,i+2+12*s,a,o);return e.getUint32(n,a)},e.parseExifData=function(t,i,a,o,r){if(!r.disableExif){var n,s,l,d=i+10;if(1165519206===t.getUint32(i+4)){if(d+8>t.byteLength)return void console.log("Invalid Exif data: Invalid segment size.");if(0!==t.getUint16(i+8))return void console.log("Invalid Exif data: Missing byte alignment offset.");switch(t.getUint16(d)){case 18761:n=!0;break;case 19789:n=!1;break;default:return void console.log("Invalid Exif data: Invalid byte alignment marker.")}if(42!==t.getUint16(d+2,n))return void console.log("Invalid Exif data: Missing TIFF marker.");s=t.getUint32(d+4,n),o.exif=new e.ExifMap,s=e.parseExifTags(t,d,d+s,n,o),s&&!r.disableExifThumbnail&&(l={exif:{}},s=e.parseExifTags(t,d,d+s,n,l),l.exif[513]&&(o.exif.Thumbnail=e.getExifThumbnail(t,d+l.exif[513],l.exif[514]))),o.exif[34665]&&!r.disableExifSub&&e.parseExifTags(t,d,d+o.exif[34665],n,o),o.exif[34853]&&!r.disableExifGps&&e.parseExifTags(t,d,d+o.exif[34853],n,o)}}},e.metaDataParsers.jpeg[65505].push(e.parseExifData)}),function(e){"use strict";"function"==typeof define&&define.amd?define(["./load-image","./load-image-exif"],e):"object"==typeof module&&module.exports?e(require("./load-image"),require("./load-image-exif")):e(window.loadImage)}(function(e){"use strict";e.ExifMap.prototype.tags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright",36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",42240:"Gamma",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"PhotographicSensitivity",34856:"OECF",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"CameraOwnerName",42033:"BodySerialNumber",42034:"LensSpecification",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"},e.ExifMap.prototype.stringValues={ExposureProgram:{0:"Undefined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Undefined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},ComponentsConfiguration:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"},Orientation:{1:"top-left",2:"top-right",3:"bottom-right",4:"bottom-left",5:"left-top",6:"right-top",7:"right-bottom",8:"left-bottom"}},e.ExifMap.prototype.getText=function(e){var t=this.get(e);switch(e){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":case"Orientation":return this.stringValues[e][t];case"ExifVersion":case"FlashpixVersion":if(!t)return;return String.fromCharCode(t[0],t[1],t[2],t[3]);case"ComponentsConfiguration":if(!t)return;return this.stringValues[e][t[0]]+this.stringValues[e][t[1]]+this.stringValues[e][t[2]]+this.stringValues[e][t[3]];case"GPSVersionID":if(!t)return;return t[0]+"."+t[1]+"."+t[2]+"."+t[3]}return String(t)},function(e){var t,i=e.tags,a=e.map;for(t in i)i.hasOwnProperty(t)&&(a[i[t]]=t)}(e.ExifMap.prototype),e.ExifMap.prototype.getAll=function(){var e,t,i={};for(e in this)this.hasOwnProperty(e)&&(t=this.tags[e],t&&(i[t]=this.getText(t)));return i}}),function(e){"use strict";"function"==typeof define&&define.amd?define(["./load-image"],e):e("object"==typeof module&&module.exports?require("./load-image"):window.loadImage)}(function(e){"use strict";var t=e.hasCanvasOption,i=e.hasMetaOption,a=e.transformCoordinates,o=e.getTransformedOptions;e.hasCanvasOption=function(i){return!!i.orientation||t.call(e,i)},e.hasMetaOption=function(t){return t.orientation===!0||i.call(e,t)},e.transformCoordinates=function(t,i){a.call(e,t,i);var o=t.getContext("2d"),r=t.width,n=t.height,s=t.style.width,l=t.style.height,d=i.orientation;if(d&&!(d>8))switch(d>4&&(t.width=n,t.height=r,t.style.width=l,t.style.height=s),d){case 2:o.translate(r,0),o.scale(-1,1);break;case 3:o.translate(r,n),o.rotate(Math.PI);break;case 4:o.translate(0,n),o.scale(1,-1);break;case 5:o.rotate(.5*Math.PI),o.scale(1,-1);break;case 6:o.rotate(.5*Math.PI),o.translate(0,-n);break;case 7:o.rotate(.5*Math.PI),o.translate(r,-n),o.scale(-1,1);break;case 8:o.rotate(-.5*Math.PI),o.translate(-r,0)}},e.getTransformedOptions=function(t,i,a){var r,n,s=o.call(e,t,i),l=s.orientation;if(l===!0&&a&&a.exif&&(l=a.exif.get("Orientation")),!l||l>8||1===l)return s;r={};for(n in s)s.hasOwnProperty(n)&&(r[n]=s[n]);switch(r.orientation=l,l){case 2:r.left=s.right,r.right=s.left;break;case 3:r.left=s.right,r.top=s.bottom,r.right=s.left,r.bottom=s.top;break;case 4:r.top=s.bottom,r.bottom=s.top;break;case 5:r.left=s.top,r.top=s.left,r.right=s.bottom,r.bottom=s.right;break;case 6:r.left=s.top,r.top=s.right,r.right=s.bottom,r.bottom=s.left;break;case 7:r.left=s.bottom,r.top=s.right,r.right=s.top,r.bottom=s.left;break;case 8:r.left=s.bottom,r.top=s.left,r.right=s.top,r.bottom=s.right}return r.orientation>4&&(r.maxWidth=s.maxHeight,r.maxHeight=s.maxWidth,r.minWidth=s.minHeight,r.minHeight=s.minWidth,r.sourceWidth=s.sourceHeight,r.sourceHeight=s.sourceWidth),r}});!function(t){"use strict";var e=t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype,o=t.Blob&&function(){try{return Boolean(new Blob)}catch(t){return!1}}(),n=o&&t.Uint8Array&&function(){try{return 100===new Blob([new Uint8Array(100)]).size}catch(t){return!1}}(),r=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||t.MSBlobBuilder,a=/^data:((.*?)(;charset=.*?)?)(;base64)?,/,i=(o||r)&&t.atob&&t.ArrayBuffer&&t.Uint8Array&&function(t){var e,i,l,u,b,c,d,B,f;if(e=t.match(a),!e)throw new Error("invalid data URI");for(i=e[2]?e[1]:"text/plain"+(e[3]||";charset=US-ASCII"),l=!!e[4],u=t.slice(e[0].length),b=l?atob(u):decodeURIComponent(u),c=new ArrayBuffer(b.length),d=new Uint8Array(c),B=0;B<b.length;B+=1)d[B]=b.charCodeAt(B);return o?new Blob([n?d:c],{type:i}):(f=new r,f.append(c),f.getBlob(i))};t.HTMLCanvasElement&&!e.toBlob&&(e.mozGetAsFile?e.toBlob=function(t,o,n){t(n&&e.toDataURL&&i?i(this.toDataURL(o,n)):this.mozGetAsFile("blob",o))}:e.toDataURL&&i&&(e.toBlob=function(t,e,o){t(i(this.toDataURL(e,o)))})),"function"==typeof define&&define.amd?define(function(){return i}):"object"==typeof module&&module.exports?module.exports=i:t.dataURLtoBlob=i}(window);;(function(factory){'use strict';if(typeof define==='function'&&define.amd){define(['jquery','jquery-ui/ui/widget'],factory);}else if(typeof exports==='object'){factory(require('jquery'),require('./vendor/jquery.ui.widget'));}else{factory(window.jQuery);}}(function($){'use strict';$.support.fileInput=!(new RegExp('(Android (1\\.[0156]|2\\.[01]))'+'|(Windows Phone (OS 7|8\\.0))|(XBLWP)|(ZuneWP)|(WPDesktop)'+'|(w(eb)?OSBrowser)|(webOS)'+'|(Kindle/(1\\.0|2\\.[05]|3\\.0))').test(window.navigator.userAgent)||$('<input type="file">').prop('disabled'));$.support.xhrFileUpload=!!(window.ProgressEvent&&window.FileReader);$.support.xhrFormDataFileUpload=!!window.FormData;$.support.blobSlice=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice);function getDragHandler(type){var isDragOver=type==='dragover';return function(e){e.dataTransfer=e.originalEvent&&e.originalEvent.dataTransfer;var dataTransfer=e.dataTransfer;if(dataTransfer&&$.inArray('Files',dataTransfer.types)!==-1&&this._trigger(type,$.Event(type,{delegatedEvent:e}))!==false){e.preventDefault();if(isDragOver){dataTransfer.dropEffect='copy';}}};}
    $.widget('blueimp.fileupload',{options:{dropZone:$(document),pasteZone:undefined,fileInput:undefined,replaceFileInput:true,paramName:undefined,singleFileUploads:true,limitMultiFileUploads:undefined,limitMultiFileUploadSize:undefined,limitMultiFileUploadSizeOverhead:512,sequentialUploads:false,limitConcurrentUploads:undefined,forceIframeTransport:false,redirect:undefined,redirectParamName:undefined,postMessage:undefined,multipart:true,maxChunkSize:undefined,uploadedBytes:undefined,recalculateProgress:true,progressInterval:100,bitrateInterval:500,autoUpload:true,messages:{uploadedBytes:'Uploaded bytes exceed file size'},i18n:function(message,context){message=this.messages[message]||message.toString();if(context){$.each(context,function(key,value){message=message.replace('{'+key+'}',value);});}
                return message;},formData:function(form){return form.serializeArray();},add:function(e,data){if(e.isDefaultPrevented()){return false;}
                if(data.autoUpload||(data.autoUpload!==false&&$(this).fileupload('option','autoUpload'))){data.process().done(function(){data.submit();});}},processData:false,contentType:false,cache:false,timeout:0},_specialOptions:['fileInput','dropZone','pasteZone','multipart','forceIframeTransport'],_blobSlice:$.support.blobSlice&&function(){var slice=this.slice||this.webkitSlice||this.mozSlice;return slice.apply(this,arguments);},_BitrateTimer:function(){this.timestamp=((Date.now)?Date.now():(new Date()).getTime());this.loaded=0;this.bitrate=0;this.getBitrate=function(now,loaded,interval){var timeDiff=now-this.timestamp;if(!this.bitrate||!interval||timeDiff>interval){this.bitrate=(loaded-this.loaded)*(1000/timeDiff)*8;this.loaded=loaded;this.timestamp=now;}
            return this.bitrate;};},_isXHRUpload:function(options){return!options.forceIframeTransport&&((!options.multipart&&$.support.xhrFileUpload)||$.support.xhrFormDataFileUpload);},_getFormData:function(options){var formData;if($.type(options.formData)==='function'){return options.formData(options.form);}
            if($.isArray(options.formData)){return options.formData;}
            if($.type(options.formData)==='object'){formData=[];$.each(options.formData,function(name,value){formData.push({name:name,value:value});});return formData;}
            return[];},_getTotal:function(files){var total=0;$.each(files,function(index,file){total+=file.size||1;});return total;},_initProgressObject:function(obj){var progress={loaded:0,total:0,bitrate:0};if(obj._progress){$.extend(obj._progress,progress);}else{obj._progress=progress;}},_initResponseObject:function(obj){var prop;if(obj._response){for(prop in obj._response){if(obj._response.hasOwnProperty(prop)){delete obj._response[prop];}}}else{obj._response={};}},_onProgress:function(e,data){if(e.lengthComputable){var now=((Date.now)?Date.now():(new Date()).getTime()),loaded;if(data._time&&data.progressInterval&&(now-data._time<data.progressInterval)&&e.loaded!==e.total){return;}
            data._time=now;loaded=Math.floor(e.loaded/e.total*(data.chunkSize||data._progress.total))+(data.uploadedBytes||0);this._progress.loaded+=(loaded-data._progress.loaded);this._progress.bitrate=this._bitrateTimer.getBitrate(now,this._progress.loaded,data.bitrateInterval);data._progress.loaded=data.loaded=loaded;data._progress.bitrate=data.bitrate=data._bitrateTimer.getBitrate(now,loaded,data.bitrateInterval);this._trigger('progress',$.Event('progress',{delegatedEvent:e}),data);this._trigger('progressall',$.Event('progressall',{delegatedEvent:e}),this._progress);}},_initProgressListener:function(options){var that=this,xhr=options.xhr?options.xhr():$.ajaxSettings.xhr();if(xhr.upload){$(xhr.upload).bind('progress',function(e){var oe=e.originalEvent;e.lengthComputable=oe.lengthComputable;e.loaded=oe.loaded;e.total=oe.total;that._onProgress(e,options);});options.xhr=function(){return xhr;};}},_isInstanceOf:function(type,obj){return Object.prototype.toString.call(obj)==='[object '+type+']';},_initXHRData:function(options){var that=this,formData,file=options.files[0],multipart=options.multipart||!$.support.xhrFileUpload,paramName=$.type(options.paramName)==='array'?options.paramName[0]:options.paramName;options.headers=$.extend({},options.headers);if(options.contentRange){options.headers['Content-Range']=options.contentRange;}
            if(!multipart||options.blob||!this._isInstanceOf('File',file)){options.headers['Content-Disposition']='attachment; filename="'+
                encodeURI(file.name)+'"';}
            if(!multipart){options.contentType=file.type||'application/octet-stream';options.data=options.blob||file;}else if($.support.xhrFormDataFileUpload){if(options.postMessage){formData=this._getFormData(options);if(options.blob){formData.push({name:paramName,value:options.blob});}else{$.each(options.files,function(index,file){formData.push({name:($.type(options.paramName)==='array'&&options.paramName[index])||paramName,value:file});});}}else{if(that._isInstanceOf('FormData',options.formData)){formData=options.formData;}else{formData=new FormData();$.each(this._getFormData(options),function(index,field){formData.append(field.name,field.value);});}
                if(options.blob){formData.append(paramName,options.blob,file.name);}else{$.each(options.files,function(index,file){if(that._isInstanceOf('File',file)||that._isInstanceOf('Blob',file)){formData.append(($.type(options.paramName)==='array'&&options.paramName[index])||paramName,file,file.uploadName||file.name);}});}}
                options.data=formData;}
            options.blob=null;},_initIframeSettings:function(options){var targetHost=$('<a></a>').prop('href',options.url).prop('host');options.dataType='iframe '+(options.dataType||'');options.formData=this._getFormData(options);if(options.redirect&&targetHost&&targetHost!==location.host){options.formData.push({name:options.redirectParamName||'redirect',value:options.redirect});}},_initDataSettings:function(options){if(this._isXHRUpload(options)){if(!this._chunkedUpload(options,true)){if(!options.data){this._initXHRData(options);}
            this._initProgressListener(options);}
            if(options.postMessage){options.dataType='postmessage '+(options.dataType||'');}}else{this._initIframeSettings(options);}},_getParamName:function(options){var fileInput=$(options.fileInput),paramName=options.paramName;if(!paramName){paramName=[];fileInput.each(function(){var input=$(this),name=input.prop('name')||'files[]',i=(input.prop('files')||[1]).length;while(i){paramName.push(name);i-=1;}});if(!paramName.length){paramName=[fileInput.prop('name')||'files[]'];}}else if(!$.isArray(paramName)){paramName=[paramName];}
            return paramName;},_initFormSettings:function(options){if(!options.form||!options.form.length){options.form=$(options.fileInput.prop('form'));if(!options.form.length){options.form=$(this.options.fileInput.prop('form'));}}
            options.paramName=this._getParamName(options);if(!options.url){options.url=options.form.prop('action')||location.href;}
            options.type=(options.type||($.type(options.form.prop('method'))==='string'&&options.form.prop('method'))||'').toUpperCase();if(options.type!=='POST'&&options.type!=='PUT'&&options.type!=='PATCH'){options.type='POST';}
            if(!options.formAcceptCharset){options.formAcceptCharset=options.form.attr('accept-charset');}},_getAJAXSettings:function(data){var options=$.extend({},this.options,data);this._initFormSettings(options);this._initDataSettings(options);return options;},_getDeferredState:function(deferred){if(deferred.state){return deferred.state();}
            if(deferred.isResolved()){return'resolved';}
            if(deferred.isRejected()){return'rejected';}
            return'pending';},_enhancePromise:function(promise){promise.success=promise.done;promise.error=promise.fail;promise.complete=promise.always;return promise;},_getXHRPromise:function(resolveOrReject,context,args){var dfd=$.Deferred(),promise=dfd.promise();context=context||this.options.context||promise;if(resolveOrReject===true){dfd.resolveWith(context,args);}else if(resolveOrReject===false){dfd.rejectWith(context,args);}
            promise.abort=dfd.promise;return this._enhancePromise(promise);},_addConvenienceMethods:function(e,data){var that=this,getPromise=function(args){return $.Deferred().resolveWith(that,args).promise();};data.process=function(resolveFunc,rejectFunc){if(resolveFunc||rejectFunc){data._processQueue=this._processQueue=(this._processQueue||getPromise([this])).then(function(){if(data.errorThrown){return $.Deferred().rejectWith(that,[data]).promise();}
            return getPromise(arguments);}).then(resolveFunc,rejectFunc);}
            return this._processQueue||getPromise([this]);};data.submit=function(){if(this.state()!=='pending'){data.jqXHR=this.jqXHR=(that._trigger('submit',$.Event('submit',{delegatedEvent:e}),this)!==false)&&that._onSend(e,this);}
            return this.jqXHR||that._getXHRPromise();};data.abort=function(){if(this.jqXHR){return this.jqXHR.abort();}
            this.errorThrown='abort';that._trigger('fail',null,this);return that._getXHRPromise(false);};data.state=function(){if(this.jqXHR){return that._getDeferredState(this.jqXHR);}
            if(this._processQueue){return that._getDeferredState(this._processQueue);}};data.processing=function(){return!this.jqXHR&&this._processQueue&&that._getDeferredState(this._processQueue)==='pending';};data.progress=function(){return this._progress;};data.response=function(){return this._response;};},_getUploadedBytes:function(jqXHR){var range=jqXHR.getResponseHeader('Range'),parts=range&&range.split('-'),upperBytesPos=parts&&parts.length>1&&parseInt(parts[1],10);return upperBytesPos&&upperBytesPos+1;},_chunkedUpload:function(options,testOnly){options.uploadedBytes=options.uploadedBytes||0;var that=this,file=options.files[0],fs=file.size,ub=options.uploadedBytes,mcs=options.maxChunkSize||fs,slice=this._blobSlice,dfd=$.Deferred(),promise=dfd.promise(),jqXHR,upload;if(!(this._isXHRUpload(options)&&slice&&(ub||mcs<fs))||options.data){return false;}
            if(testOnly){return true;}
            if(ub>=fs){file.error=options.i18n('uploadedBytes');return this._getXHRPromise(false,options.context,[null,'error',file.error]);}
            upload=function(){console.log('upload!!');var o=$.extend({},options),currentLoaded=o._progress.loaded;o.blob=slice.call(file,ub,ub+mcs,file.type);o.chunkSize=o.blob.size;o.contentRange='bytes '+ub+'-'+
                (ub+o.chunkSize-1)+'/'+fs;that._initXHRData(o);that._initProgressListener(o);jqXHR=((that._trigger('chunksend',null,o)!==false&&$.ajax(o))||that._getXHRPromise(false,o.context)).done(function(result,textStatus,jqXHR){ub=that._getUploadedBytes(jqXHR)||(ub+o.chunkSize);if(currentLoaded+o.chunkSize-o._progress.loaded){that._onProgress($.Event('progress',{lengthComputable:true,loaded:ub-o.uploadedBytes,total:ub-o.uploadedBytes}),o);}
                options.uploadedBytes=o.uploadedBytes=ub;o.result=result;o.textStatus=textStatus;o.jqXHR=jqXHR;that._trigger('chunkdone',null,o);that._trigger('chunkalways',null,o);if(ub<fs){upload();}else{dfd.resolveWith(o.context,[result,textStatus,jqXHR]);}}).fail(function(jqXHR,textStatus,errorThrown){o.jqXHR=jqXHR;o.textStatus=textStatus;o.errorThrown=errorThrown;that._trigger('chunkfail',null,o);that._trigger('chunkalways',null,o);dfd.rejectWith(o.context,[jqXHR,textStatus,errorThrown]);});};this._enhancePromise(promise);promise.abort=function(){return jqXHR.abort();};upload();return promise;},_beforeSend:function(e,data){if(this._active===0){this._trigger('start');this._bitrateTimer=new this._BitrateTimer();this._progress.loaded=this._progress.total=0;this._progress.bitrate=0;}
            this._initResponseObject(data);this._initProgressObject(data);data._progress.loaded=data.loaded=data.uploadedBytes||0;data._progress.total=data.total=this._getTotal(data.files)||1;data._progress.bitrate=data.bitrate=0;this._active+=1;this._progress.loaded+=data.loaded;this._progress.total+=data.total;},_onDone:function(result,textStatus,jqXHR,options){var total=options._progress.total,response=options._response;if(options._progress.loaded<total){this._onProgress($.Event('progress',{lengthComputable:true,loaded:total,total:total}),options);}
            response.result=options.result=result;response.textStatus=options.textStatus=textStatus;response.jqXHR=options.jqXHR=jqXHR;this._trigger('done',null,options);},_onFail:function(jqXHR,textStatus,errorThrown,options){var response=options._response;if(options.recalculateProgress){this._progress.loaded-=options._progress.loaded;this._progress.total-=options._progress.total;}
            response.jqXHR=options.jqXHR=jqXHR;response.textStatus=options.textStatus=textStatus;response.errorThrown=options.errorThrown=errorThrown;this._trigger('fail',null,options);},_onAlways:function(jqXHRorResult,textStatus,jqXHRorError,options){this._trigger('always',null,options);},_onSend:function(e,data){if(!data.submit){this._addConvenienceMethods(e,data);}
            var that=this,jqXHR,aborted,slot,pipe,options=that._getAJAXSettings(data),send=function(){that._sending+=1;options._bitrateTimer=new that._BitrateTimer();jqXHR=jqXHR||(((aborted||that._trigger('send',$.Event('send',{delegatedEvent:e}),options)===false)&&that._getXHRPromise(false,options.context,aborted))||that._chunkedUpload(options)||$.ajax(options)).done(function(result,textStatus,jqXHR){that._onDone(result,textStatus,jqXHR,options);}).fail(function(jqXHR,textStatus,errorThrown){that._onFail(jqXHR,textStatus,errorThrown,options);}).always(function(jqXHRorResult,textStatus,jqXHRorError){that._onAlways(jqXHRorResult,textStatus,jqXHRorError,options);that._sending-=1;that._active-=1;if(options.limitConcurrentUploads&&options.limitConcurrentUploads>that._sending){var nextSlot=that._slots.shift();while(nextSlot){if(that._getDeferredState(nextSlot)==='pending'){nextSlot.resolve();break;}
                nextSlot=that._slots.shift();}}
                if(that._active===0){that._trigger('stop');}});return jqXHR;};this._beforeSend(e,options);if(this.options.sequentialUploads||(this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending)){if(this.options.limitConcurrentUploads>1){slot=$.Deferred();this._slots.push(slot);pipe=slot.then(send);}else{this._sequence=this._sequence.then(send,send);pipe=this._sequence;}
                pipe.abort=function(){aborted=[undefined,'abort','abort'];if(!jqXHR){if(slot){slot.rejectWith(options.context,aborted);}
                    return send();}
                    return jqXHR.abort();};return this._enhancePromise(pipe);}
            return send();},_onAdd:function(e,data){var that=this,result=true,options=$.extend({},this.options,data),files=data.files,filesLength=files.length,limit=options.limitMultiFileUploads,limitSize=options.limitMultiFileUploadSize,overhead=options.limitMultiFileUploadSizeOverhead,batchSize=0,paramName=this._getParamName(options),paramNameSet,paramNameSlice,fileSet,i,j=0;if(!filesLength){return false;}
            if(limitSize&&files[0].size===undefined){limitSize=undefined;}
            if(!(options.singleFileUploads||limit||limitSize)||!this._isXHRUpload(options)){fileSet=[files];paramNameSet=[paramName];}else if(!(options.singleFileUploads||limitSize)&&limit){fileSet=[];paramNameSet=[];for(i=0;i<filesLength;i+=limit){fileSet.push(files.slice(i,i+limit));paramNameSlice=paramName.slice(i,i+limit);if(!paramNameSlice.length){paramNameSlice=paramName;}
                paramNameSet.push(paramNameSlice);}}else if(!options.singleFileUploads&&limitSize){fileSet=[];paramNameSet=[];for(i=0;i<filesLength;i=i+1){batchSize+=files[i].size+overhead;if(i+1===filesLength||((batchSize+files[i+1].size+overhead)>limitSize)||(limit&&i+1-j>=limit)){fileSet.push(files.slice(j,i+1));paramNameSlice=paramName.slice(j,i+1);if(!paramNameSlice.length){paramNameSlice=paramName;}
                paramNameSet.push(paramNameSlice);j=i+1;batchSize=0;}}}else{paramNameSet=paramName;}
            data.originalFiles=files;$.each(fileSet||files,function(index,element){var newData=$.extend({},data);newData.files=fileSet?element:[element];newData.paramName=paramNameSet[index];that._initResponseObject(newData);that._initProgressObject(newData);that._addConvenienceMethods(e,newData);result=that._trigger('add',$.Event('add',{delegatedEvent:e}),newData);return result;});return result;},_replaceFileInput:function(data){var input=data.fileInput,inputClone=input.clone(true),restoreFocus=input.is(document.activeElement);data.fileInputClone=inputClone;$('<form></form>').append(inputClone)[0].reset();input.after(inputClone).detach();if(restoreFocus){inputClone.focus();}
            $.cleanData(input.unbind('remove'));this.options.fileInput=this.options.fileInput.map(function(i,el){if(el===input[0]){return inputClone[0];}
                return el;});if(input[0]===this.element[0]){this.element=inputClone;}},_handleFileTreeEntry:function(entry,path){var that=this,dfd=$.Deferred(),entries=[],dirReader,errorHandler=function(e){if(e&&!e.entry){e.entry=entry;}
            dfd.resolve([e]);},successHandler=function(entries){that._handleFileTreeEntries(entries,path+entry.name+'/').done(function(files){dfd.resolve(files);}).fail(errorHandler);},readEntries=function(){dirReader.readEntries(function(results){if(!results.length){successHandler(entries);}else{entries=entries.concat(results);readEntries();}},errorHandler);};path=path||'';if(entry.isFile){if(entry._file){entry._file.relativePath=path;dfd.resolve(entry._file);}else{entry.file(function(file){file.relativePath=path;dfd.resolve(file);},errorHandler);}}else if(entry.isDirectory){dirReader=entry.createReader();readEntries();}else{dfd.resolve([]);}
            return dfd.promise();},_handleFileTreeEntries:function(entries,path){var that=this;return $.when.apply($,$.map(entries,function(entry){return that._handleFileTreeEntry(entry,path);})).then(function(){return Array.prototype.concat.apply([],arguments);});},_getDroppedFiles:function(dataTransfer){dataTransfer=dataTransfer||{};var items=dataTransfer.items;if(items&&items.length&&(items[0].webkitGetAsEntry||items[0].getAsEntry)){return this._handleFileTreeEntries($.map(items,function(item){var entry;if(item.webkitGetAsEntry){entry=item.webkitGetAsEntry();if(entry){entry._file=item.getAsFile();}
            return entry;}
            return item.getAsEntry();}));}
            return $.Deferred().resolve($.makeArray(dataTransfer.files)).promise();},_getSingleFileInputFiles:function(fileInput){fileInput=$(fileInput);var entries=fileInput.prop('webkitEntries')||fileInput.prop('entries'),files,value;if(entries&&entries.length){return this._handleFileTreeEntries(entries);}
            files=$.makeArray(fileInput.prop('files'));if(!files.length){value=fileInput.prop('value');if(!value){return $.Deferred().resolve([]).promise();}
                files=[{name:value.replace(/^.*\\/,'')}];}else if(files[0].name===undefined&&files[0].fileName){$.each(files,function(index,file){file.name=file.fileName;file.size=file.fileSize;});}
            return $.Deferred().resolve(files).promise();},_getFileInputFiles:function(fileInput){if(!(fileInput instanceof $)||fileInput.length===1){return this._getSingleFileInputFiles(fileInput);}
            return $.when.apply($,$.map(fileInput,this._getSingleFileInputFiles)).then(function(){return Array.prototype.concat.apply([],arguments);});},_onChange:function(e){var that=this,data={fileInput:$(e.target),form:$(e.target.form)};this._getFileInputFiles(data.fileInput).always(function(files){data.files=files;if(that.options.replaceFileInput){that._replaceFileInput(data);}
            if(that._trigger('change',$.Event('change',{delegatedEvent:e}),data)!==false){that._onAdd(e,data);}});},_onPaste:function(e){var items=e.originalEvent&&e.originalEvent.clipboardData&&e.originalEvent.clipboardData.items,data={files:[]};if(items&&items.length){$.each(items,function(index,item){var file=item.getAsFile&&item.getAsFile();if(file){data.files.push(file);}});if(this._trigger('paste',$.Event('paste',{delegatedEvent:e}),data)!==false){this._onAdd(e,data);}}},_onDrop:function(e){e.dataTransfer=e.originalEvent&&e.originalEvent.dataTransfer;var that=this,dataTransfer=e.dataTransfer,data={};if(dataTransfer&&dataTransfer.files&&dataTransfer.files.length){e.preventDefault();this._getDroppedFiles(dataTransfer).always(function(files){data.files=files;if(that._trigger('drop',$.Event('drop',{delegatedEvent:e}),data)!==false){that._onAdd(e,data);}});}},_onDragOver:getDragHandler('dragover'),_onDragEnter:getDragHandler('dragenter'),_onDragLeave:getDragHandler('dragleave'),_initEventHandlers:function(){if(this._isXHRUpload(this.options)){this._on(this.options.dropZone,{dragover:this._onDragOver,drop:this._onDrop,dragenter:this._onDragEnter,dragleave:this._onDragLeave});this._on(this.options.pasteZone,{paste:this._onPaste});}
            if($.support.fileInput){this._on(this.options.fileInput,{change:this._onChange});}},_destroyEventHandlers:function(){this._off(this.options.dropZone,'dragenter dragleave dragover drop');this._off(this.options.pasteZone,'paste');this._off(this.options.fileInput,'change');},_destroy:function(){this._destroyEventHandlers();},_setOption:function(key,value){var reinit=$.inArray(key,this._specialOptions)!==-1;if(reinit){this._destroyEventHandlers();}
            this._super(key,value);if(reinit){this._initSpecialOptions();this._initEventHandlers();}},_initSpecialOptions:function(){var options=this.options;if(options.fileInput===undefined){options.fileInput=this.element.is('input[type="file"]')?this.element:this.element.find('input[type="file"]');}else if(!(options.fileInput instanceof $)){options.fileInput=$(options.fileInput);}
            if(!(options.dropZone instanceof $)){options.dropZone=$(options.dropZone);}
            if(!(options.pasteZone instanceof $)){options.pasteZone=$(options.pasteZone);}},_getRegExp:function(str){var parts=str.split('/'),modifiers=parts.pop();parts.shift();return new RegExp(parts.join('/'),modifiers);},_isRegExpOption:function(key,value){return key!=='url'&&$.type(value)==='string'&&/^\/.*\/[igm]{0,3}$/.test(value);},_initDataAttributes:function(){var that=this,options=this.options,data=this.element.data();$.each(this.element[0].attributes,function(index,attr){var key=attr.name.toLowerCase(),value;if(/^data-/.test(key)){key=key.slice(5).replace(/-[a-z]/g,function(str){return str.charAt(1).toUpperCase();});value=data[key];if(that._isRegExpOption(key,value)){value=that._getRegExp(value);}
            options[key]=value;}});},_create:function(){this._initDataAttributes();this._initSpecialOptions();this._slots=[];this._sequence=this._getXHRPromise(true);this._sending=this._active=0;this._initProgressObject(this);this._initEventHandlers();},active:function(){return this._active;},progress:function(){return this._progress;},add:function(data){var that=this;if(!data||this.options.disabled){return;}
            if(data.fileInput&&!data.files){this._getFileInputFiles(data.fileInput).always(function(files){data.files=files;that._onAdd(null,data);});}else{data.files=$.makeArray(data.files);this._onAdd(null,data);}},send:function(data){if(data&&!this.options.disabled){if(data.fileInput&&!data.files){var that=this,dfd=$.Deferred(),promise=dfd.promise(),jqXHR,aborted;promise.abort=function(){aborted=true;if(jqXHR){return jqXHR.abort();}
            dfd.reject(null,'abort','abort');return promise;};this._getFileInputFiles(data.fileInput).always(function(files){if(aborted){return;}
            if(!files.length){dfd.reject();return;}
            data.files=files;jqXHR=that._onSend(null,data);jqXHR.then(function(result,textStatus,jqXHR){dfd.resolve(result,textStatus,jqXHR);},function(jqXHR,textStatus,errorThrown){dfd.reject(jqXHR,textStatus,errorThrown);});});return this._enhancePromise(promise);}
            data.files=$.makeArray(data.files);if(data.files.length){return this._onSend(null,data);}}
            return this._getXHRPromise(false,data&&data.context);}});}));;(function(factory){'use strict';if(typeof define==='function'&&define.amd){define(['jquery','./jquery.fileupload'],factory);}else if(typeof exports==='object'){factory(require('jquery'),require('./jquery.fileupload'));}else{factory(window.jQuery);}}(function($){'use strict';var originalAdd=$.blueimp.fileupload.prototype.options.add;$.widget('blueimp.fileupload',$.blueimp.fileupload,{options:{processQueue:[],add:function(e,data){var $this=$(this);data.process(function(){return $this.fileupload('process',data);});originalAdd.call(this,e,data);}},processActions:{},_processFile:function(data,originalData){var that=this,dfd=$.Deferred().resolveWith(that,[data]),chain=dfd.promise();this._trigger('process',null,data);$.each(data.processQueue,function(i,settings){var func=function(data){if(originalData.errorThrown){return $.Deferred().rejectWith(that,[originalData]).promise();}
        return that.processActions[settings.action].call(that,data,settings);};chain=chain.then(func,settings.always&&func);});chain.done(function(){that._trigger('processdone',null,data);that._trigger('processalways',null,data);}).fail(function(){that._trigger('processfail',null,data);that._trigger('processalways',null,data);});return chain;},_transformProcessQueue:function(options){var processQueue=[];$.each(options.processQueue,function(){var settings={},action=this.action,prefix=this.prefix===true?action:this.prefix;$.each(this,function(key,value){if($.type(value)==='string'&&value.charAt(0)==='@'){settings[key]=options[value.slice(1)||(prefix?prefix+
        key.charAt(0).toUpperCase()+key.slice(1):key)];}else{settings[key]=value;}});processQueue.push(settings);});options.processQueue=processQueue;},processing:function(){return this._processing;},process:function(data){var that=this,options=$.extend({},this.options,data);if(options.processQueue&&options.processQueue.length){this._transformProcessQueue(options);if(this._processing===0){this._trigger('processstart');}
        $.each(data.files,function(index){var opts=index?$.extend({},options):options,func=function(){if(data.errorThrown){return $.Deferred().rejectWith(that,[data]).promise();}
            return that._processFile(opts,data);};opts.index=index;that._processing+=1;that._processingQueue=that._processingQueue.then(func,func).always(function(){that._processing-=1;if(that._processing===0){that._trigger('processstop');}});});}
        return this._processingQueue;},_create:function(){this._super();this._processing=0;this._processingQueue=$.Deferred().resolveWith(this).promise();}});}));;(function(factory){'use strict';if(typeof define==='function'&&define.amd){define(['jquery','load-image','load-image-meta','load-image-exif','canvas-to-blob','./jquery.fileupload-process'],factory);}else if(typeof exports==='object'){factory(require('jquery'),require('blueimp-load-image/js/load-image'),require('blueimp-load-image/js/load-image-meta'),require('blueimp-load-image/js/load-image-exif'),require('blueimp-canvas-to-blob'),require('./jquery.fileupload-process'));}else{factory(window.jQuery,window.loadImage);}}(function($,loadImage){'use strict';$.blueimp.fileupload.prototype.options.processQueue.unshift({action:'loadImageMetaData',disableImageHead:'@',disableExif:'@',disableExifThumbnail:'@',disableExifSub:'@',disableExifGps:'@',disabled:'@disableImageMetaDataLoad'},{action:'loadImage',prefix:true,fileTypes:'@',maxFileSize:'@',noRevoke:'@',disabled:'@disableImageLoad'},{action:'resizeImage',prefix:'image',maxWidth:'@',maxHeight:'@',minWidth:'@',minHeight:'@',crop:'@',orientation:'@',forceResize:'@',disabled:'@disableImageResize'},{action:'saveImage',quality:'@imageQuality',type:'@imageType',disabled:'@disableImageResize'},{action:'saveImageMetaData',disabled:'@disableImageMetaDataSave'},{action:'resizeImage',prefix:'preview',maxWidth:'@',maxHeight:'@',minWidth:'@',minHeight:'@',crop:'@',orientation:'@',thumbnail:'@',canvas:'@',disabled:'@disableImagePreview'},{action:'setImage',name:'@imagePreviewName',disabled:'@disableImagePreview'},{action:'deleteImageReferences',disabled:'@disableImageReferencesDeletion'});$.widget('blueimp.fileupload',$.blueimp.fileupload,{options:{loadImageFileTypes:/^image\/(gif|jpeg|png|svg\+xml)$/,loadImageMaxFileSize:10000000,imageMaxWidth:1920,imageMaxHeight:1080,imageOrientation:false,imageCrop:false,disableImageResize:true,previewMaxWidth:80,previewMaxHeight:80,previewOrientation:true,previewThumbnail:true,previewCrop:false,previewCanvas:true},processActions:{loadImage:function(data,options){if(options.disabled){return data;}
            var that=this,file=data.files[data.index],dfd=$.Deferred();if(($.type(options.maxFileSize)==='number'&&file.size>options.maxFileSize)||(options.fileTypes&&!options.fileTypes.test(file.type))||!loadImage(file,function(img){if(img.src){data.img=img;}
                dfd.resolveWith(that,[data]);},options)){return data;}
            return dfd.promise();},resizeImage:function(data,options){if(options.disabled||!(data.canvas||data.img)){return data;}
            options=$.extend({canvas:true},options);var that=this,dfd=$.Deferred(),img=(options.canvas&&data.canvas)||data.img,resolve=function(newImg){if(newImg&&(newImg.width!==img.width||newImg.height!==img.height||options.forceResize)){data[newImg.getContext?'canvas':'img']=newImg;}
                data.preview=newImg;dfd.resolveWith(that,[data]);},thumbnail;if(data.exif){if(options.orientation===true){options.orientation=data.exif.get('Orientation');}
                if(options.thumbnail){thumbnail=data.exif.get('Thumbnail');if(thumbnail){loadImage(thumbnail,resolve,options);return dfd.promise();}}
                if(data.orientation){delete options.orientation;}else{data.orientation=options.orientation;}}
            if(img){resolve(loadImage.scale(img,options));return dfd.promise();}
            return data;},saveImage:function(data,options){if(!data.canvas||options.disabled){return data;}
            var that=this,file=data.files[data.index],dfd=$.Deferred();if(data.canvas.toBlob){data.canvas.toBlob(function(blob){if(!blob.name){if(file.type===blob.type){blob.name=file.name;}else if(file.name){blob.name=file.name.replace(/\.\w+$/,'.'+blob.type.substr(6));}}
                if(file.type!==blob.type){delete data.imageHead;}
                data.files[data.index]=blob;dfd.resolveWith(that,[data]);},options.type||file.type,options.quality);}else{return data;}
            return dfd.promise();},loadImageMetaData:function(data,options){if(options.disabled){return data;}
            var that=this,dfd=$.Deferred();loadImage.parseMetaData(data.files[data.index],function(result){$.extend(data,result);dfd.resolveWith(that,[data]);},options);return dfd.promise();},saveImageMetaData:function(data,options){if(!(data.imageHead&&data.canvas&&data.canvas.toBlob&&!options.disabled)){return data;}
            var file=data.files[data.index],blob=new Blob([data.imageHead,this._blobSlice.call(file,20)],{type:file.type});blob.name=file.name;data.files[data.index]=blob;return data;},setImage:function(data,options){if(data.preview&&!options.disabled){data.files[data.index][options.name||'preview']=data.preview;}
            return data;},deleteImageReferences:function(data,options){if(!options.disabled){delete data.img;delete data.canvas;delete data.preview;delete data.imageHead;}
            return data;}}});}));;(function(factory){'use strict';if(typeof define==='function'&&define.amd){define(['jquery','./jquery.fileupload-process'],factory);}else if(typeof exports==='object'){factory(require('jquery'),require('./jquery.fileupload-process'));}else{factory(window.jQuery);}}(function($){'use strict';$.blueimp.fileupload.prototype.options.processQueue.push({action:'validate',always:true,acceptFileTypes:'@',maxFileSize:'@',minFileSize:'@',maxNumberOfFiles:'@',disabled:'@disableValidation'});$.widget('blueimp.fileupload',$.blueimp.fileupload,{options:{getNumberOfFiles:$.noop,messages:{maxNumberOfFiles:'   ',acceptFileTypes:'   ',maxFileSize:'   ',minFileSize:'   '}},processActions:{validate:function(data,options){if(options.disabled){return data;}
            var dfd=$.Deferred(),settings=this.options,file=data.files[data.index],fileSize;if(options.minFileSize||options.maxFileSize){fileSize=file.size;}
            if($.type(options.maxNumberOfFiles)==='number'&&(settings.getNumberOfFiles()||0)+data.files.length>options.maxNumberOfFiles){file.error=settings.i18n('maxNumberOfFiles');}else if(options.acceptFileTypes&&!(options.acceptFileTypes.test(file.type)||options.acceptFileTypes.test(file.name))){file.error=settings.i18n('acceptFileTypes');}else if(fileSize>options.maxFileSize){file.error=settings.i18n('maxFileSize');}else if($.type(fileSize)==='number'&&fileSize<options.minFileSize){file.error=settings.i18n('minFileSize');}else{delete file.error;}
            if(file.error||data.files.error){data.files.error=true;dfd.rejectWith(this,[data]);}else{dfd.resolveWith(this,[data]);}
            return dfd.promise();}}});}));;(function(factory){'use strict';if(typeof define==='function'&&define.amd){define(['jquery','blueimp-tmpl','./jquery.fileupload-image','./jquery.fileupload-audio','./jquery.fileupload-video','./jquery.fileupload-validate'],factory);}else if(typeof exports==='object'){factory(require('jquery'),require('blueimp-tmpl'),require('./jquery.fileupload-image'),require('./jquery.fileupload-video'),require('./jquery.fileupload-validate'));}else{factory(window.jQuery,window.tmpl);}}(function($,tmpl){'use strict';$.blueimp.fileupload.prototype._specialOptions.push('filesContainer','uploadTemplateId','downloadTemplateId');$.widget('blueimp.fileupload',$.blueimp.fileupload,{options:{autoUpload:true,uploadTemplateId:'template-upload',downloadTemplateId:'template-download',filesContainer:undefined,prependFiles:false,dataType:'json',messages:{unknownError:'Unknown error'},getNumberOfFiles:function(){return this.filesContainer.children().not('.processing').length;},getFilesFromResponse:function(data){if(data.result&&$.isArray(data.result.files)){return data.result.files;}
            return[];},add:function(e,data){if(e.isDefaultPrevented()){return false;}
            var $this=$(this),that=$this.data('blueimp-fileupload')||$this.data('fileupload'),options=that.options;data.context=that._renderUpload(data.files).data('data',data).addClass('processing');options.filesContainer[options.prependFiles?'prepend':'append'](data.context);that._forceReflow(data.context);that._transition(data.context);data.process(function(){return $this.fileupload('process',data);}).always(function(){data.context.each(function(index){$(this).find('.size').text(that._formatFileSize(data.files[index].size));}).removeClass('processing');that._renderPreviews(data);}).done(function(){data.context.find('.start').prop('disabled',false);if((that._trigger('added',e,data)!==false)&&(options.autoUpload||data.autoUpload)&&data.autoUpload!==false){data.submit();}}).fail(function(){if(data.files.error){data.context.each(function(index){var error=data.files[index].error;if(error){$(this).find('.error').text(error);}});}});},send:function(e,data){if(e.isDefaultPrevented()){return false;}
            var that=$(this).data('blueimp-fileupload')||$(this).data('fileupload');if(data.context&&data.dataType&&data.dataType.substr(0,6)==='iframe'){data.context.find('.progress').addClass(!$.support.transition&&'progress-animated').attr('aria-valuenow',100).children().first().css('width','100%');}
            return that._trigger('sent',e,data);},done:function(e,data){if(e.isDefaultPrevented()){return false;}
            var that=$(this).data('blueimp-fileupload')||$(this).data('fileupload'),getFilesFromResponse=data.getFilesFromResponse||that.options.getFilesFromResponse,files=getFilesFromResponse(data),template,deferred;if(data.context){data.context.each(function(index){if(!$(data.context[index]).hasClass(that.options.uploadTemplateId)){return true;}
                var file=files[index]||{error:'Empty file upload result'};deferred=that._addFinishedDeferreds();that._transition($(this)).done(function(){var node=$(this);template=that._renderDownload([file]).replaceAll(node);that._forceReflow(template);that._transition(template).done(function(){data.context=$(this);that._trigger('completed',e,data);that._trigger('finished',e,data);deferred.resolve();});});});}else{template=that._renderDownload(files)[that.options.prependFiles?'prependTo':'appendTo'](that.options.filesContainer);that._forceReflow(template);deferred=that._addFinishedDeferreds();that._transition(template).done(function(){data.context=$(this);that._trigger('completed',e,data);that._trigger('finished',e,data);deferred.resolve();});}},fail:function(e,data){if(e.isDefaultPrevented()){return false;}
            var that=$(this).data('blueimp-fileupload')||$(this).data('fileupload'),template,deferred;if(data.context){data.context.each(function(index){if(data.errorThrown!=='abort'){var file=data.files[index];file.error=file.error||data.errorThrown||data.i18n('unknownError');deferred=that._addFinishedDeferreds();that._transition($(this)).done(function(){var node=$(this);template=that._renderDownload([file]).replaceAll(node);that._forceReflow(template);that._transition(template).done(function(){data.context=$(this);that._trigger('failed',e,data);that._trigger('finished',e,data);deferred.resolve();});});}else{deferred=that._addFinishedDeferreds();that._transition($(this)).done(function(){$(this).remove();that._trigger('failed',e,data);that._trigger('finished',e,data);deferred.resolve();});}});}else if(data.errorThrown!=='abort'){data.context=that._renderUpload(data.files)[that.options.prependFiles?'prependTo':'appendTo'](that.options.filesContainer).data('data',data);that._forceReflow(data.context);deferred=that._addFinishedDeferreds();that._transition(data.context).done(function(){data.context=$(this);that._trigger('failed',e,data);that._trigger('finished',e,data);deferred.resolve();});}else{that._trigger('failed',e,data);that._trigger('finished',e,data);that._addFinishedDeferreds().resolve();}},progress:function(e,data){if(e.isDefaultPrevented()){return false;}
            var progress=Math.floor(data.loaded/data.total*100);if(data.context){data.context.each(function(){$(this).find('.progress').attr('aria-valuenow',progress).children().first().css('width',progress+'%');});}},progressall:function(e,data){if(e.isDefaultPrevented()){return false;}
            var $this=$(this),progress=Math.floor(data.loaded/data.total*100),globalProgressNode=$this.find('.fileupload-progress'),extendedProgressNode=globalProgressNode.find('.progress-extended');if(extendedProgressNode.length){extendedProgressNode.html(($this.data('blueimp-fileupload')||$this.data('fileupload'))._renderExtendedProgress(data));}
            globalProgressNode.find('.progress').attr('aria-valuenow',progress).children().first().css('width',progress+'%');},start:function(e){if(e.isDefaultPrevented()){return false;}
            var that=$(this).data('blueimp-fileupload')||$(this).data('fileupload');that._resetFinishedDeferreds();that._transition($(this).find('.fileupload-progress')).done(function(){that._trigger('started',e);});},stop:function(e){if(e.isDefaultPrevented()){return false;}
            var that=$(this).data('blueimp-fileupload')||$(this).data('fileupload'),deferred=that._addFinishedDeferreds();$.when.apply($,that._getFinishedDeferreds()).done(function(){that._trigger('stopped',e);});that._transition($(this).find('.fileupload-progress')).done(function(){$(this).find('.progress').attr('aria-valuenow','0').children().first().css('width','0%');$(this).find('.progress-extended').html('&nbsp;');deferred.resolve();});},processstart:function(e){if(e.isDefaultPrevented()){return false;}
            $(this).addClass('fileupload-processing');},processstop:function(e){if(e.isDefaultPrevented()){return false;}
            $(this).removeClass('fileupload-processing');},destroy:function(e,data){if(e.isDefaultPrevented()){return false;}
            var that=$(this).data('blueimp-fileupload')||$(this).data('fileupload'),removeNode=function(){that._transition(data.context).done(function(){$(this).remove();that._trigger('destroyed',e,data);});};if(data.url){data.dataType=data.dataType||that.options.dataType;$.ajax(data).done(removeNode).fail(function(){that._trigger('destroyfailed',e,data);});}else{removeNode();}}},_resetFinishedDeferreds:function(){this._finishedUploads=[];},_addFinishedDeferreds:function(deferred){if(!deferred){deferred=$.Deferred();}
        this._finishedUploads.push(deferred);return deferred;},_getFinishedDeferreds:function(){return this._finishedUploads;},_enableDragToDesktop:function(){var link=$(this),url=link.prop('href'),name=link.prop('download'),type='application/octet-stream';link.bind('dragstart',function(e){try{e.originalEvent.dataTransfer.setData('DownloadURL',[type,name,url].join(':'));}catch(ignore){}});},_formatFileSize:function(bytes){if(typeof bytes!=='number'){return'';}
        if(bytes>=1000000000){return(bytes/1000000000).toFixed(2)+' GB';}
        if(bytes>=1000000){return(bytes/1000000).toFixed(2)+' MB';}
        return(bytes/1000).toFixed(2)+' KB';},_formatBitrate:function(bits){if(typeof bits!=='number'){return'';}
        if(bits>=1000000000){return(bits/1000000000).toFixed(2)+' Gbit/s';}
        if(bits>=1000000){return(bits/1000000).toFixed(2)+' Mbit/s';}
        if(bits>=1000){return(bits/1000).toFixed(2)+' kbit/s';}
        return bits.toFixed(2)+' bit/s';},_formatTime:function(seconds){var date=new Date(seconds*1000),days=Math.floor(seconds/86400);days=days?days+'d ':'';return days+
        ('0'+date.getUTCHours()).slice(-2)+':'+
        ('0'+date.getUTCMinutes()).slice(-2)+':'+
        ('0'+date.getUTCSeconds()).slice(-2);},_formatPercentage:function(floatValue){return(floatValue*100).toFixed(2)+' %';},_renderExtendedProgress:function(data){return this._formatBitrate(data.bitrate)+' | '+
        this._formatTime((data.total-data.loaded)*8/data.bitrate)+' | '+
        this._formatPercentage(data.loaded/data.total)+' | '+
        this._formatFileSize(data.loaded)+' / '+
        this._formatFileSize(data.total);},_renderTemplate:function(func,files){if(!func){return $();}
        var result=func({files:files,formatFileSize:this._formatFileSize,options:this.options});if(result instanceof $){return result;}
        return $(this.options.templatesContainer).html(result).children();},_renderPreviews:function(data){data.context.find('.preview').each(function(index,elm){$(elm).append(data.files[index].preview);});},_renderUpload:function(files){return this._renderTemplate(this.options.uploadTemplate,files);},_renderDownload:function(files){return this._renderTemplate(this.options.downloadTemplate,files).find('a[download]').each(this._enableDragToDesktop).end();},_startHandler:function(e){e.preventDefault();var button=$(e.currentTarget),template=button.closest('.template-upload'),data=template.data('data');button.prop('disabled',true);if(data&&data.submit){data.submit();}},_cancelHandler:function(e){e.preventDefault();var template=$(e.currentTarget).closest('.template-upload,.template-download'),data=template.data('data')||{};data.context=data.context||template;if(data.abort){data.abort();}else{data.errorThrown='abort';this._trigger('fail',e,data);}},_deleteHandler:function(e){e.preventDefault();var button=$(e.currentTarget);this._trigger('destroy',e,$.extend({context:button.closest('.template-download'),type:'DELETE'},button.data()));},_forceReflow:function(node){return $.support.transition&&node.length&&node[0].offsetWidth;},_transition:function(node){var dfd=$.Deferred();if($.support.transition&&node.hasClass('fade')&&node.is(':visible')){node.bind($.support.transition.end,function(e){if(e.target===node[0]){node.unbind($.support.transition.end);dfd.resolveWith(node);}}).toggleClass('in');}else{node.toggleClass('in');dfd.resolveWith(node);}
        return dfd;},_initButtonBarEventHandlers:function(){var fileUploadButtonBar=this.element.find('.fileupload-buttonbar'),filesList=this.options.filesContainer;this._on(fileUploadButtonBar.find('.start'),{click:function(e){e.preventDefault();filesList.find('.start').click();}});this._on(fileUploadButtonBar.find('.cancel'),{click:function(e){e.preventDefault();filesList.find('.cancel').click();}});this._on(fileUploadButtonBar.find('.delete'),{click:function(e){e.preventDefault();filesList.find('.toggle:checked').closest('.template-download').find('.delete').click();fileUploadButtonBar.find('.toggle').prop('checked',false);}});this._on(fileUploadButtonBar.find('.toggle'),{change:function(e){filesList.find('.toggle').prop('checked',$(e.currentTarget).is(':checked'));}});},_destroyButtonBarEventHandlers:function(){this._off(this.element.find('.fileupload-buttonbar').find('.start, .cancel, .delete'),'click');this._off(this.element.find('.fileupload-buttonbar .toggle'),'change.');},_initEventHandlers:function(){this._super();this._on(this.options.filesContainer,{'click .start':this._startHandler,'click .cancel':this._cancelHandler,'click .delete':this._deleteHandler});this._initButtonBarEventHandlers();},_destroyEventHandlers:function(){this._destroyButtonBarEventHandlers();this._off(this.options.filesContainer,'click');this._super();},_enableFileInputButton:function(){this.element.find('.fileinput-button input').prop('disabled',false).parent().removeClass('disabled');},_disableFileInputButton:function(){this.element.find('.fileinput-button input').prop('disabled',true).parent().addClass('disabled');},_initTemplates:function(){var options=this.options;options.templatesContainer=this.document[0].createElement(options.filesContainer.prop('nodeName'));if(tmpl){if(options.uploadTemplateId){options.uploadTemplate=tmpl(options.uploadTemplateId);}
        if(options.downloadTemplateId){options.downloadTemplate=tmpl(options.downloadTemplateId);}}},_initFilesContainer:function(){var options=this.options;if(options.filesContainer===undefined){options.filesContainer=this.element.find('.files');}else if(!(options.filesContainer instanceof $)){options.filesContainer=$(options.filesContainer);}},_initSpecialOptions:function(){this._super();this._initFilesContainer();this._initTemplates();},_create:function(){this._super();this._resetFinishedDeferreds();if(!$.support.fileInput){this._disableFileInputButton();}},enable:function(){var wasDisabled=false;if(this.options.disabled){wasDisabled=true;}
        this._super();if(wasDisabled){this.element.find('input, button').prop('disabled',false);this._enableFileInputButton();}},disable:function(){if(!this.options.disabled){this.element.find('input, button').prop('disabled',true);this._disableFileInputButton();}
        this._super();}});}));(function webpackUniversalModuleDefinition(root,factory){if(typeof exports==='object'&&typeof module==='object')
    module.exports=factory();else if(typeof define==='function'&&define.amd)
    define([],factory);else if(typeof exports==='object')
    exports["watermark"]=factory();else
    root["watermark"]=factory();})(this,function(){return(function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId])
    return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:false};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.loaded=true;return module.exports;}
    __webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.p="";return __webpack_require__(0);})
([function(module,exports,__webpack_require__){__webpack_require__(1);module.exports=__webpack_require__(2).default;},function(module,exports){"use strict";exports.__esModule=true;exports["default"]=function(){};module.exports=exports["default"];},function(module,exports,__webpack_require__){'use strict';Object.defineProperty(exports,"__esModule",{value:true});exports.default=watermark;var _image=__webpack_require__(3);var _canvas=__webpack_require__(5);var _blob=__webpack_require__(6);var _style=__webpack_require__(7);var style=_interopRequireWildcard(_style);var _object=__webpack_require__(10);var _pool=__webpack_require__(11);var _pool2=_interopRequireDefault(_pool);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
    function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}
        newObj.default=obj;return newObj;}}
    var defaults={init:function init(){}};function mergeOptions(options){return(0,_object.extend)((0,_object.clone)(defaults),options);}
    function release(result,pool){var canvas=result.canvas;var sources=result.sources;var dataURL=(0,_canvas.dataUrl)(canvas);sources.forEach(pool.release);return dataURL;}
    function watermark(resources){var options=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];var promise=arguments.length<=2||arguments[2]===undefined?null:arguments[2];var opts=mergeOptions(options);promise||(promise=(0,_image.load)(resources,opts.init));return{dataUrl:function dataUrl(draw){var promise=this.then(function(images){return(0,_image.mapToCanvas)(images,_pool2.default);}).then(function(canvases){return style.result(draw,canvases);}).then(function(result){return release(result,_pool2.default);});return watermark(resources,opts,promise);},load:function load(resources,init){var promise=this.then(function(resource){return(0,_image.load)([resource].concat(resources),init);});return watermark(resources,opts,promise);},render:function render(){var promise=this.then(function(resource){return(0,_image.load)([resource]);});return watermark(resources,opts,promise);},blob:function blob(draw){var promise=this.dataUrl(draw).then(_blob.blob);return watermark(resources,opts,promise);},image:function image(draw){var promise=this.dataUrl(draw).then(_image.createImage);return watermark(resources,opts,promise);},then:function then(){for(var _len=arguments.length,funcs=Array(_len),_key=0;_key<_len;_key++){funcs[_key]=arguments[_key];}
            return promise.then.apply(promise,funcs);}};};watermark.image=style.image;watermark.text=style.text;watermark.destroy=function(){return _pool2.default.clear();};},function(module,exports,__webpack_require__){'use strict';Object.defineProperty(exports,"__esModule",{value:true});exports.getLoader=getLoader;exports.load=load;exports.loadUrl=loadUrl;exports.loadFile=loadFile;exports.createImage=createImage;exports.imageToCanvas=imageToCanvas;exports.mapToCanvas=mapToCanvas;var _functions=__webpack_require__(4);function _typeof(obj){return obj&&typeof Symbol!=="undefined"&&obj.constructor===Symbol?"symbol":typeof obj;}
    function setAndResolve(img,src,resolve){img.onload=function(){return resolve(img);};img.src=src;}
    function getLoader(resource){var type=typeof resource==='undefined'?'undefined':_typeof(resource);if(type==='string'){return loadUrl;}
        if(resource instanceof Image){return _functions.identity;}
        return loadFile;}
    function load(resources,init){var promises=[];for(var i=0;i<resources.length;i++){var resource=resources[i];var loader=getLoader(resource);var promise=loader(resource,init);promises.push(promise);}
        return Promise.all(promises);}
    function loadUrl(url,init){var img=new Image();typeof init==='function'&&init(img);return new Promise(function(resolve){img.onload=function(){return resolve(img);};img.src=url;});}
    function loadFile(file){var reader=new FileReader();return new Promise(function(resolve){var img=new Image();reader.onloadend=function(){return setAndResolve(img,reader.result,resolve);};reader.readAsDataURL(file);});}
    function createImage(url,onload){var img=new Image();if(typeof onload==='function'){img.onload=onload;}
        img.src=url;return img;}
    function drawImage(img,canvas){var ctx=canvas.getContext('2d');canvas.width=img.width;canvas.height=img.height;ctx.drawImage(img,0,0);return canvas;}
    function imageToCanvas(img,pool){var canvas=pool.pop();return drawImage(img,canvas);}
    function mapToCanvas(images,pool){return images.map(function(img){return imageToCanvas(img,pool);});}},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.sequence=sequence;exports.identity=identity;function sequence(){for(var _len=arguments.length,funcs=Array(_len),_key=0;_key<_len;_key++){funcs[_key]=arguments[_key];}
    return function(value){return funcs.reduce(function(val,fn){return fn.call(null,val);},value);};}
    function identity(x){return x;}},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.dataUrl=dataUrl;function dataUrl(canvas){return canvas.toDataURL();}},function(module,exports,__webpack_require__){'use strict';Object.defineProperty(exports,"__esModule",{value:true});exports.blob=undefined;exports.split=split;exports.decode=decode;exports.uint8=uint8;var _functions=__webpack_require__(4);var url=/^data:([^;]+);base64,(.*)$/;function split(dataUrl){return url.exec(dataUrl).slice(1);}
    function decode(base64){return window.atob(base64);}
    function uint8(data){var length=data.length;var uints=new Uint8Array(length);for(var i=0;i<length;i++){uints[i]=data.charCodeAt(i);}
        return uints;}
    var blob=exports.blob=(0,_functions.sequence)(split,function(parts){return[decode(parts[1]),parts[0]];},function(blob){return new Blob([uint8(blob[0])],{type:blob[1]});});},function(module,exports,__webpack_require__){'use strict';Object.defineProperty(exports,"__esModule",{value:true});exports.text=exports.image=undefined;exports.result=result;var _image=__webpack_require__(8);var img=_interopRequireWildcard(_image);var _text=__webpack_require__(9);var txt=_interopRequireWildcard(_text);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}
    newObj.default=obj;return newObj;}}
    var image=exports.image=img;var text=exports.text=txt;function result(draw,sources){var canvas=draw.apply(null,sources);return{canvas:canvas,sources:sources};}},function(module,exports){'use strict';Object.defineProperty(exports,"__esModule",{value:true});exports.atPos=atPos;exports.lowerRight=lowerRight;exports.upperRight=upperRight;exports.lowerLeft=lowerLeft;exports.upperLeft=upperLeft;exports.center=center;function atPos(xFn,yFn,alpha){alpha||(alpha=1.0);return function(target,watermark){var context=target.getContext('2d');context.save();context.globalAlpha=alpha;context.drawImage(watermark,xFn(target,watermark),yFn(target,watermark));context.restore();return target;};}
    function lowerRight(alpha){return atPos(function(target,mark){return target.width-(mark.width+10);},function(target,mark){return target.height-(mark.height+10);},alpha);}
    function upperRight(alpha){return atPos(function(target,mark){return target.width-(mark.width+10);},function(target,mark){return 10;},alpha);}
    function lowerLeft(alpha){return atPos(function(target,mark){return 10;},function(target,mark){return target.height-(mark.height+10);},alpha);}
    function upperLeft(alpha){return atPos(function(target,mark){return 10;},function(target,mark){return 10;},alpha);}
    function center(alpha){return atPos(function(target,mark){return(target.width-mark.width)/2;},function(target,mark){return(target.height-mark.height)/2;},alpha);}},function(module,exports){'use strict';Object.defineProperty(exports,"__esModule",{value:true});exports.atPos=atPos;exports.lowerRight=lowerRight;exports.lowerLeft=lowerLeft;exports.upperRight=upperRight;exports.upperLeft=upperLeft;exports.center=center;function atPos(xFn,yFn,text,font,fillStyle,alpha){alpha||(alpha=1.0);return function(target){var context=target.getContext('2d');context.save();context.globalAlpha=alpha;context.fillStyle=fillStyle;context.font=font;var metrics=context.measureText(text);context.fillText(text,xFn(target,metrics,context),yFn(target,metrics,context));context.restore();return target;};}
    function lowerRight(text,font,fillStyle,alpha,y){return atPos(function(target,metrics){return target.width-(metrics.width+10);},function(target){return y||target.height-10;},text,font,fillStyle,alpha);}
    function lowerLeft(text,font,fillStyle,alpha,y){return atPos(function(){return 10;},function(target){return y||target.height-10;},text,font,fillStyle,alpha);}
    function upperRight(text,font,fillStyle,alpha,y){return atPos(function(target,metrics){return target.width-(metrics.width+10);},function(){return y||20;},text,font,fillStyle,alpha);}
    function upperLeft(text,font,fillStyle,alpha,y){return atPos(function(){return 10;},function(){return y||20;},text,font,fillStyle,alpha);}
    function center(text,font,fillStyle,alpha,y){return atPos(function(target,metrics,ctx){ctx.textAlign='center';return target.width/2;},function(target,metrics,ctx){ctx.textBaseline='middle';return target.height/2;},text,font,fillStyle,alpha);}},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.extend=extend;exports.clone=clone;function extend(first,second){var secondKeys=Object.keys(second);secondKeys.forEach(function(key){return first[key]=second[key];});return first;}
    function clone(obj){return extend({},obj);}},function(module,exports){'use strict';Object.defineProperty(exports,"__esModule",{value:true});exports.CanvasPool=CanvasPool;function CanvasPool(){var canvases=[];return{pop:function pop(){if(this.length===0){canvases.push(document.createElement('canvas'));}
        return canvases.pop();},get length(){return canvases.length;},release:function release(canvas){var context=canvas.getContext('2d');context.clearRect(0,0,canvas.width,canvas.height);canvases.push(canvas);},clear:function clear(){canvases.splice(0,canvases.length);},get elements(){return canvases;}};}
    var shared=CanvasPool();exports.default=shared;}])});;(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(_dereq_,module,exports){(function(global){"use strict";_dereq_(189);_dereq_(2);if(global._babelPolyfill){throw new Error("only one instance of babel-polyfill is allowed");}
        global._babelPolyfill=true;}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"189":189,"2":2}],2:[function(_dereq_,module,exports){module.exports=_dereq_(190);},{"190":190}],3:[function(_dereq_,module,exports){module.exports=function(it){if(typeof it!='function')throw TypeError(it+' is not a function!');return it;};},{}],4:[function(_dereq_,module,exports){var UNSCOPABLES=_dereq_(84)('unscopables'),ArrayProto=Array.prototype;if(ArrayProto[UNSCOPABLES]==undefined)_dereq_(32)(ArrayProto,UNSCOPABLES,{});module.exports=function(key){ArrayProto[UNSCOPABLES][key]=true;};},{"32":32,"84":84}],5:[function(_dereq_,module,exports){var isObject=_dereq_(39);module.exports=function(it){if(!isObject(it))throw TypeError(it+' is not an object!');return it;};},{"39":39}],6:[function(_dereq_,module,exports){'use strict';var toObject=_dereq_(81),toIndex=_dereq_(77),toLength=_dereq_(80);module.exports=[].copyWithin||function copyWithin(target,start){var O=toObject(this),len=toLength(O.length),to=toIndex(target,len),from=toIndex(start,len),$$=arguments,end=$$.length>2?$$[2]:undefined,count=Math.min((end===undefined?len:toIndex(end,len))-from,len-to),inc=1;if(from<to&&to<from+count){inc=-1;from+=count-1;to+=count-1;}
        while(count-->0){if(from in O)O[to]=O[from];else delete O[to];to+=inc;from+=inc;}return O;};},{"77":77,"80":80,"81":81}],7:[function(_dereq_,module,exports){'use strict';var toObject=_dereq_(81),toIndex=_dereq_(77),toLength=_dereq_(80);module.exports=[].fill||function fill(value){var O=toObject(this,true),length=toLength(O.length),$$=arguments,$$len=$$.length,index=toIndex($$len>1?$$[1]:undefined,length),end=$$len>2?$$[2]:undefined,endPos=end===undefined?length:toIndex(end,length);while(endPos>index)O[index++]=value;return O;};},{"77":77,"80":80,"81":81}],8:[function(_dereq_,module,exports){var toIObject=_dereq_(79),toLength=_dereq_(80),toIndex=_dereq_(77);module.exports=function(IS_INCLUDES){return function($this,el,fromIndex){var O=toIObject($this),length=toLength(O.length),index=toIndex(fromIndex,length),value;if(IS_INCLUDES&&el!=el)while(length>index){value=O[index++];if(value!=value)return true;}else for(;length>index;index++)if(IS_INCLUDES||index in O){if(O[index]===el)return IS_INCLUDES||index;}return!IS_INCLUDES&&-1;};};},{"77":77,"79":79,"80":80}],9:[function(_dereq_,module,exports){var ctx=_dereq_(18),IObject=_dereq_(35),toObject=_dereq_(81),toLength=_dereq_(80),asc=_dereq_(10);module.exports=function(TYPE){var IS_MAP=TYPE==1,IS_FILTER=TYPE==2,IS_SOME=TYPE==3,IS_EVERY=TYPE==4,IS_FIND_INDEX=TYPE==6,NO_HOLES=TYPE==5||IS_FIND_INDEX;return function($this,callbackfn,that){var O=toObject($this),self=IObject(O),f=ctx(callbackfn,that,3),length=toLength(self.length),index=0,result=IS_MAP?asc($this,length):IS_FILTER?asc($this,0):undefined,val,res;for(;length>index;index++)if(NO_HOLES||index in self){val=self[index];res=f(val,index,O);if(TYPE){if(IS_MAP)result[index]=res;else if(res)switch(TYPE){case 3:return true;case 5:return val;case 6:return index;case 2:result.push(val);}else if(IS_EVERY)return false;}}
        return IS_FIND_INDEX?-1:IS_SOME||IS_EVERY?IS_EVERY:result;};};},{"10":10,"18":18,"35":35,"80":80,"81":81}],10:[function(_dereq_,module,exports){var isObject=_dereq_(39),isArray=_dereq_(37),SPECIES=_dereq_(84)('species');module.exports=function(original,length){var C;if(isArray(original)){C=original.constructor;if(typeof C=='function'&&(C===Array||isArray(C.prototype)))C=undefined;if(isObject(C)){C=C[SPECIES];if(C===null)C=undefined;}}return new(C===undefined?Array:C)(length);};},{"37":37,"39":39,"84":84}],11:[function(_dereq_,module,exports){var cof=_dereq_(12),TAG=_dereq_(84)('toStringTag'),ARG=cof(function(){return arguments;}())=='Arguments';module.exports=function(it){var O,T,B;return it===undefined?'Undefined':it===null?'Null':typeof(T=(O=Object(it))[TAG])=='string'?T:ARG?cof(O):(B=cof(O))=='Object'&&typeof O.callee=='function'?'Arguments':B;};},{"12":12,"84":84}],12:[function(_dereq_,module,exports){var toString={}.toString;module.exports=function(it){return toString.call(it).slice(8,-1);};},{}],13:[function(_dereq_,module,exports){'use strict';var $=_dereq_(47),hide=_dereq_(32),mix=_dereq_(54),ctx=_dereq_(18),strictNew=_dereq_(70),defined=_dereq_(20),forOf=_dereq_(28),$iterDefine=_dereq_(43),step=_dereq_(45),ID=_dereq_(83)('id'),$has=_dereq_(31),isObject=_dereq_(39),setSpecies=_dereq_(66),DESCRIPTORS=_dereq_(21),isExtensible=Object.isExtensible||isObject,SIZE=DESCRIPTORS?'_s':'size',id=0;var fastKey=function(it,create){if(!isObject(it))return typeof it=='symbol'?it:(typeof it=='string'?'S':'P')+it;if(!$has(it,ID)){if(!isExtensible(it))return'F';if(!create)return'E';hide(it,ID,++id);}return'O'+it[ID];};var getEntry=function(that,key){var index=fastKey(key),entry;if(index!=='F')return that._i[index];for(entry=that._f;entry;entry=entry.n){if(entry.k==key)return entry;}};module.exports={getConstructor:function(wrapper,NAME,IS_MAP,ADDER){var C=wrapper(function(that,iterable){strictNew(that,C,NAME);that._i=$.create(null);that._f=undefined;that._l=undefined;that[SIZE]=0;if(iterable!=undefined)forOf(iterable,IS_MAP,that[ADDER],that);});mix(C.prototype,{clear:function clear(){for(var that=this,data=that._i,entry=that._f;entry;entry=entry.n){entry.r=true;if(entry.p)entry.p=entry.p.n=undefined;delete data[entry.i];}
                that._f=that._l=undefined;that[SIZE]=0;},'delete':function(key){var that=this,entry=getEntry(that,key);if(entry){var next=entry.n,prev=entry.p;delete that._i[entry.i];entry.r=true;if(prev)prev.n=next;if(next)next.p=prev;if(that._f==entry)that._f=next;if(that._l==entry)that._l=prev;that[SIZE]--;}return!!entry;},forEach:function forEach(callbackfn){var f=ctx(callbackfn,arguments.length>1?arguments[1]:undefined,3),entry;while(entry=entry?entry.n:this._f){f(entry.v,entry.k,this);while(entry&&entry.r)entry=entry.p;}},has:function has(key){return!!getEntry(this,key);}});if(DESCRIPTORS)$.setDesc(C.prototype,'size',{get:function(){return defined(this[SIZE]);}});return C;},def:function(that,key,value){var entry=getEntry(that,key),prev,index;if(entry){entry.v=value;}else{that._l=entry={i:index=fastKey(key,true),k:key,v:value,p:prev=that._l,n:undefined,r:false};if(!that._f)that._f=entry;if(prev)prev.n=entry;that[SIZE]++;if(index!=='F')that._i[index]=entry;}return that;},getEntry:getEntry,setStrong:function(C,NAME,IS_MAP){$iterDefine(C,NAME,function(iterated,kind){this._t=iterated;this._k=kind;this._l=undefined;},function(){var that=this,kind=that._k,entry=that._l;while(entry&&entry.r)entry=entry.p;if(!that._t||!(that._l=entry=entry?entry.n:that._t._f)){that._t=undefined;return step(1);}
            if(kind=='keys')return step(0,entry.k);if(kind=='values')return step(0,entry.v);return step(0,[entry.k,entry.v]);},IS_MAP?'entries':'values',!IS_MAP,true);setSpecies(NAME);}};},{"18":18,"20":20,"21":21,"28":28,"31":31,"32":32,"39":39,"43":43,"45":45,"47":47,"54":54,"66":66,"70":70,"83":83}],14:[function(_dereq_,module,exports){var forOf=_dereq_(28),classof=_dereq_(11);module.exports=function(NAME){return function toJSON(){if(classof(this)!=NAME)throw TypeError(NAME+"#toJSON isn't generic");var arr=[];forOf(this,false,arr.push,arr);return arr;};};},{"11":11,"28":28}],15:[function(_dereq_,module,exports){'use strict';var hide=_dereq_(32),mix=_dereq_(54),anObject=_dereq_(5),strictNew=_dereq_(70),forOf=_dereq_(28),method=_dereq_(9),WEAK=_dereq_(83)('weak'),isObject=_dereq_(39),$has=_dereq_(31),isExtensible=Object.isExtensible||isObject,find=method(5),findIndex=method(6),id=0;var frozenStore=function(that){return that._l||(that._l=new FrozenStore);};var FrozenStore=function(){this.a=[];};var findFrozen=function(store,key){return find(store.a,function(it){return it[0]===key;});};FrozenStore.prototype={get:function(key){var entry=findFrozen(this,key);if(entry)return entry[1];},has:function(key){return!!findFrozen(this,key);},set:function(key,value){var entry=findFrozen(this,key);if(entry)entry[1]=value;else this.a.push([key,value]);},'delete':function(key){var index=findIndex(this.a,function(it){return it[0]===key;});if(~index)this.a.splice(index,1);return!!~index;}};module.exports={getConstructor:function(wrapper,NAME,IS_MAP,ADDER){var C=wrapper(function(that,iterable){strictNew(that,C,NAME);that._i=id++;that._l=undefined;if(iterable!=undefined)forOf(iterable,IS_MAP,that[ADDER],that);});mix(C.prototype,{'delete':function(key){if(!isObject(key))return false;if(!isExtensible(key))return frozenStore(this)['delete'](key);return $has(key,WEAK)&&$has(key[WEAK],this._i)&&delete key[WEAK][this._i];},has:function has(key){if(!isObject(key))return false;if(!isExtensible(key))return frozenStore(this).has(key);return $has(key,WEAK)&&$has(key[WEAK],this._i);}});return C;},def:function(that,key,value){if(!isExtensible(anObject(key))){frozenStore(that).set(key,value);}else{$has(key,WEAK)||hide(key,WEAK,{});key[WEAK][that._i]=value;}return that;},frozenStore:frozenStore,WEAK:WEAK};},{"28":28,"31":31,"32":32,"39":39,"5":5,"54":54,"70":70,"83":83,"9":9}],16:[function(_dereq_,module,exports){'use strict';var global=_dereq_(30),$def=_dereq_(19),$redef=_dereq_(62),mix=_dereq_(54),forOf=_dereq_(28),strictNew=_dereq_(70),isObject=_dereq_(39),fails=_dereq_(25),$iterDetect=_dereq_(44),setToStringTag=_dereq_(67);module.exports=function(NAME,wrapper,methods,common,IS_MAP,IS_WEAK){var Base=global[NAME],C=Base,ADDER=IS_MAP?'set':'add',proto=C&&C.prototype,O={};var fixMethod=function(KEY){var fn=proto[KEY];$redef(proto,KEY,KEY=='delete'?function(a){return IS_WEAK&&!isObject(a)?false:fn.call(this,a===0?0:a);}:KEY=='has'?function has(a){return IS_WEAK&&!isObject(a)?false:fn.call(this,a===0?0:a);}:KEY=='get'?function get(a){return IS_WEAK&&!isObject(a)?undefined:fn.call(this,a===0?0:a);}:KEY=='add'?function add(a){fn.call(this,a===0?0:a);return this;}:function set(a,b){fn.call(this,a===0?0:a,b);return this;});};if(typeof C!='function'||!(IS_WEAK||proto.forEach&&!fails(function(){new C().entries().next();}))){C=common.getConstructor(wrapper,NAME,IS_MAP,ADDER);mix(C.prototype,methods);}else{var instance=new C,HASNT_CHAINING=instance[ADDER](IS_WEAK?{}:-0,1)!=instance,THROWS_ON_PRIMITIVES=fails(function(){instance.has(1);}),ACCEPT_ITERABLES=$iterDetect(function(iter){new C(iter);}),BUGGY_ZERO;if(!ACCEPT_ITERABLES){C=wrapper(function(target,iterable){strictNew(target,C,NAME);var that=new Base;if(iterable!=undefined)forOf(iterable,IS_MAP,that[ADDER],that);return that;});C.prototype=proto;proto.constructor=C;}
        IS_WEAK||instance.forEach(function(val,key){BUGGY_ZERO=1/key===-Infinity;});if(THROWS_ON_PRIMITIVES||BUGGY_ZERO){fixMethod('delete');fixMethod('has');IS_MAP&&fixMethod('get');}
        if(BUGGY_ZERO||HASNT_CHAINING)fixMethod(ADDER);if(IS_WEAK&&proto.clear)delete proto.clear;}
        setToStringTag(C,NAME);O[NAME]=C;$def($def.G+$def.W+$def.F*(C!=Base),O);if(!IS_WEAK)common.setStrong(C,NAME,IS_MAP);return C;};},{"19":19,"25":25,"28":28,"30":30,"39":39,"44":44,"54":54,"62":62,"67":67,"70":70}],17:[function(_dereq_,module,exports){var core=module.exports={version:'1.2.5'};if(typeof __e=='number')__e=core;},{}],18:[function(_dereq_,module,exports){var aFunction=_dereq_(3);module.exports=function(fn,that,length){aFunction(fn);if(that===undefined)return fn;switch(length){case 1:return function(a){return fn.call(that,a);};case 2:return function(a,b){return fn.call(that,a,b);};case 3:return function(a,b,c){return fn.call(that,a,b,c);};}
        return function(){return fn.apply(that,arguments);};};},{"3":3}],19:[function(_dereq_,module,exports){var global=_dereq_(30),core=_dereq_(17),hide=_dereq_(32),$redef=_dereq_(62),PROTOTYPE='prototype';var ctx=function(fn,that){return function(){return fn.apply(that,arguments);};};var $def=function(type,name,source){var key,own,out,exp,isGlobal=type&$def.G,isProto=type&$def.P,target=isGlobal?global:type&$def.S?global[name]||(global[name]={}):(global[name]||{})[PROTOTYPE],exports=isGlobal?core:core[name]||(core[name]={});if(isGlobal)source=name;for(key in source){own=!(type&$def.F)&&target&&key in target;out=(own?target:source)[key];if(type&$def.B&&own)exp=ctx(out,global);else exp=isProto&&typeof out=='function'?ctx(Function.call,out):out;if(target&&!own)$redef(target,key,out);if(exports[key]!=out)hide(exports,key,exp);if(isProto)(exports[PROTOTYPE]||(exports[PROTOTYPE]={}))[key]=out;}};global.core=core;$def.F=1;$def.G=2;$def.S=4;$def.P=8;$def.B=16;$def.W=32;module.exports=$def;},{"17":17,"30":30,"32":32,"62":62}],20:[function(_dereq_,module,exports){module.exports=function(it){if(it==undefined)throw TypeError("Can't call method on  "+it);return it;};},{}],21:[function(_dereq_,module,exports){module.exports=!_dereq_(25)(function(){return Object.defineProperty({},'a',{get:function(){return 7;}}).a!=7;});},{"25":25}],22:[function(_dereq_,module,exports){var isObject=_dereq_(39),document=_dereq_(30).document,is=isObject(document)&&isObject(document.createElement);module.exports=function(it){return is?document.createElement(it):{};};},{"30":30,"39":39}],23:[function(_dereq_,module,exports){var $=_dereq_(47);module.exports=function(it){var keys=$.getKeys(it),getSymbols=$.getSymbols;if(getSymbols){var symbols=getSymbols(it),isEnum=$.isEnum,i=0,key;while(symbols.length>i)if(isEnum.call(it,key=symbols[i++]))keys.push(key);}
        return keys;};},{"47":47}],24:[function(_dereq_,module,exports){var MATCH=_dereq_(84)('match');module.exports=function(KEY){var re=/./;try{'/./'[KEY](re);}catch(e){try{re[MATCH]=false;return!'/./'[KEY](re);}catch(f){}}return true;};},{"84":84}],25:[function(_dereq_,module,exports){module.exports=function(exec){try{return!!exec();}catch(e){return true;}};},{}],26:[function(_dereq_,module,exports){'use strict';var hide=_dereq_(32),redef=_dereq_(62),fails=_dereq_(25),defined=_dereq_(20),wks=_dereq_(84);module.exports=function(KEY,length,exec){var SYMBOL=wks(KEY),original=''[KEY];if(fails(function(){var O={};O[SYMBOL]=function(){return 7;};return''[KEY](O)!=7;})){redef(String.prototype,KEY,exec(defined,SYMBOL,original));hide(RegExp.prototype,SYMBOL,length==2?function(string,arg){return original.call(string,this,arg);}:function(string){return original.call(string,this);});}};},{"20":20,"25":25,"32":32,"62":62,"84":84}],27:[function(_dereq_,module,exports){'use strict';var anObject=_dereq_(5);module.exports=function(){var that=anObject(this),result='';if(that.global)result+='g';if(that.ignoreCase)result+='i';if(that.multiline)result+='m';if(that.unicode)result+='u';if(that.sticky)result+='y';return result;};},{"5":5}],28:[function(_dereq_,module,exports){var ctx=_dereq_(18),call=_dereq_(41),isArrayIter=_dereq_(36),anObject=_dereq_(5),toLength=_dereq_(80),getIterFn=_dereq_(85);module.exports=function(iterable,entries,fn,that){var iterFn=getIterFn(iterable),f=ctx(fn,that,entries?2:1),index=0,length,step,iterator;if(typeof iterFn!='function')throw TypeError(iterable+' is not iterable!');if(isArrayIter(iterFn))for(length=toLength(iterable.length);length>index;index++){entries?f(anObject(step=iterable[index])[0],step[1]):f(iterable[index]);}else for(iterator=iterFn.call(iterable);!(step=iterator.next()).done;){call(iterator,f,step.value,entries);}};},{"18":18,"36":36,"41":41,"5":5,"80":80,"85":85}],29:[function(_dereq_,module,exports){var toString={}.toString,toIObject=_dereq_(79),getNames=_dereq_(47).getNames;var windowNames=typeof window=='object'&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];var getWindowNames=function(it){try{return getNames(it);}catch(e){return windowNames.slice();}};module.exports.get=function getOwnPropertyNames(it){if(windowNames&&toString.call(it)=='[object Window]')return getWindowNames(it);return getNames(toIObject(it));};},{"47":47,"79":79}],30:[function(_dereq_,module,exports){var global=module.exports=typeof window!='undefined'&&window.Math==Math?window:typeof self!='undefined'&&self.Math==Math?self:Function('return this')();if(typeof __g=='number')__g=global;},{}],31:[function(_dereq_,module,exports){var hasOwnProperty={}.hasOwnProperty;module.exports=function(it,key){return hasOwnProperty.call(it,key);};},{}],32:[function(_dereq_,module,exports){var $=_dereq_(47),createDesc=_dereq_(61);module.exports=_dereq_(21)?function(object,key,value){return $.setDesc(object,key,createDesc(1,value));}:function(object,key,value){object[key]=value;return object;};},{"21":21,"47":47,"61":61}],33:[function(_dereq_,module,exports){module.exports=_dereq_(30).document&&document.documentElement;},{"30":30}],34:[function(_dereq_,module,exports){module.exports=function(fn,args,that){var un=that===undefined;switch(args.length){case 0:return un?fn():fn.call(that);case 1:return un?fn(args[0]):fn.call(that,args[0]);case 2:return un?fn(args[0],args[1]):fn.call(that,args[0],args[1]);case 3:return un?fn(args[0],args[1],args[2]):fn.call(that,args[0],args[1],args[2]);case 4:return un?fn(args[0],args[1],args[2],args[3]):fn.call(that,args[0],args[1],args[2],args[3]);}return fn.apply(that,args);};},{}],35:[function(_dereq_,module,exports){var cof=_dereq_(12);module.exports=Object('z').propertyIsEnumerable(0)?Object:function(it){return cof(it)=='String'?it.split(''):Object(it);};},{"12":12}],36:[function(_dereq_,module,exports){var Iterators=_dereq_(46),ITERATOR=_dereq_(84)('iterator'),ArrayProto=Array.prototype;module.exports=function(it){return(Iterators.Array||ArrayProto[ITERATOR])===it;};},{"46":46,"84":84}],37:[function(_dereq_,module,exports){var cof=_dereq_(12);module.exports=Array.isArray||function(arg){return cof(arg)=='Array';};},{"12":12}],38:[function(_dereq_,module,exports){var isObject=_dereq_(39),floor=Math.floor;module.exports=function isInteger(it){return!isObject(it)&&isFinite(it)&&floor(it)===it;};},{"39":39}],39:[function(_dereq_,module,exports){module.exports=function(it){return typeof it==='object'?it!==null:typeof it==='function';};},{}],40:[function(_dereq_,module,exports){var isObject=_dereq_(39),cof=_dereq_(12),MATCH=_dereq_(84)('match');module.exports=function(it){var isRegExp;return isObject(it)&&((isRegExp=it[MATCH])!==undefined?!!isRegExp:cof(it)=='RegExp');};},{"12":12,"39":39,"84":84}],41:[function(_dereq_,module,exports){var anObject=_dereq_(5);module.exports=function(iterator,fn,value,entries){try{return entries?fn(anObject(value)[0],value[1]):fn(value);}catch(e){var ret=iterator['return'];if(ret!==undefined)anObject(ret.call(iterator));throw e;}};},{"5":5}],42:[function(_dereq_,module,exports){'use strict';var $=_dereq_(47),descriptor=_dereq_(61),setToStringTag=_dereq_(67),IteratorPrototype={};_dereq_(32)(IteratorPrototype,_dereq_(84)('iterator'),function(){return this;});module.exports=function(Constructor,NAME,next){Constructor.prototype=$.create(IteratorPrototype,{next:descriptor(1,next)});setToStringTag(Constructor,NAME+' Iterator');};},{"32":32,"47":47,"61":61,"67":67,"84":84}],43:[function(_dereq_,module,exports){'use strict';var LIBRARY=_dereq_(49),$def=_dereq_(19),$redef=_dereq_(62),hide=_dereq_(32),has=_dereq_(31),SYMBOL_ITERATOR=_dereq_(84)('iterator'),Iterators=_dereq_(46),$iterCreate=_dereq_(42),setToStringTag=_dereq_(67),getProto=_dereq_(47).getProto,BUGGY=!([].keys&&'next'in[].keys()),FF_ITERATOR='@@iterator',KEYS='keys',VALUES='values';var returnThis=function(){return this;};module.exports=function(Base,NAME,Constructor,next,DEFAULT,IS_SET,FORCE){$iterCreate(Constructor,NAME,next);var getMethod=function(kind){if(!BUGGY&&kind in proto)return proto[kind];switch(kind){case KEYS:return function keys(){return new Constructor(this,kind);};case VALUES:return function values(){return new Constructor(this,kind);};}return function entries(){return new Constructor(this,kind);};};var TAG=NAME+' Iterator',proto=Base.prototype,_native=proto[SYMBOL_ITERATOR]||proto[FF_ITERATOR]||DEFAULT&&proto[DEFAULT],_default=_native||getMethod(DEFAULT),methods,key;if(_native){var IteratorPrototype=getProto(_default.call(new Base));setToStringTag(IteratorPrototype,TAG,true);if(!LIBRARY&&has(proto,FF_ITERATOR))hide(IteratorPrototype,SYMBOL_ITERATOR,returnThis);}
        if((!LIBRARY||FORCE)&&(BUGGY||!(SYMBOL_ITERATOR in proto))){hide(proto,SYMBOL_ITERATOR,_default);}
        Iterators[NAME]=_default;Iterators[TAG]=returnThis;if(DEFAULT){methods={values:DEFAULT==VALUES?_default:getMethod(VALUES),keys:IS_SET?_default:getMethod(KEYS),entries:DEFAULT!=VALUES?_default:getMethod('entries')};if(FORCE)for(key in methods){if(!(key in proto))$redef(proto,key,methods[key]);}else $def($def.P+$def.F*BUGGY,NAME,methods);}
        return methods;};},{"19":19,"31":31,"32":32,"42":42,"46":46,"47":47,"49":49,"62":62,"67":67,"84":84}],44:[function(_dereq_,module,exports){var ITERATOR=_dereq_(84)('iterator'),SAFE_CLOSING=false;try{var riter=[7][ITERATOR]();riter['return']=function(){SAFE_CLOSING=true;};Array.from(riter,function(){throw 2;});}catch(e){}
        module.exports=function(exec,skipClosing){if(!skipClosing&&!SAFE_CLOSING)return false;var safe=false;try{var arr=[7],iter=arr[ITERATOR]();iter.next=function(){safe=true;};arr[ITERATOR]=function(){return iter;};exec(arr);}catch(e){}
            return safe;};},{"84":84}],45:[function(_dereq_,module,exports){module.exports=function(done,value){return{value:value,done:!!done};};},{}],46:[function(_dereq_,module,exports){module.exports={};},{}],47:[function(_dereq_,module,exports){var $Object=Object;module.exports={create:$Object.create,getProto:$Object.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:$Object.getOwnPropertyDescriptor,setDesc:$Object.defineProperty,setDescs:$Object.defineProperties,getKeys:$Object.keys,getNames:$Object.getOwnPropertyNames,getSymbols:$Object.getOwnPropertySymbols,each:[].forEach};},{}],48:[function(_dereq_,module,exports){var $=_dereq_(47),toIObject=_dereq_(79);module.exports=function(object,el){var O=toIObject(object),keys=$.getKeys(O),length=keys.length,index=0,key;while(length>index)if(O[key=keys[index++]]===el)return key;};},{"47":47,"79":79}],49:[function(_dereq_,module,exports){module.exports=false;},{}],50:[function(_dereq_,module,exports){module.exports=Math.expm1||function expm1(x){return(x=+x)==0?x:x>-1e-6&&x<1e-6?x+x*x/2:Math.exp(x)-1;};},{}],51:[function(_dereq_,module,exports){module.exports=Math.log1p||function log1p(x){return(x=+x)>-1e-8&&x<1e-8?x-x*x/2:Math.log(1+x);};},{}],52:[function(_dereq_,module,exports){module.exports=Math.sign||function sign(x){return(x=+x)==0||x!=x?x:x<0?-1:1;};},{}],53:[function(_dereq_,module,exports){var global=_dereq_(30),macrotask=_dereq_(76).set,Observer=global.MutationObserver||global.WebKitMutationObserver,process=global.process,isNode=_dereq_(12)(process)=='process',head,last,notify;var flush=function(){var parent,domain;if(isNode&&(parent=process.domain)){process.domain=null;parent.exit();}
        while(head){domain=head.domain;if(domain)domain.enter();head.fn.call();if(domain)domain.exit();head=head.next;}last=undefined;if(parent)parent.enter();};if(isNode){notify=function(){process.nextTick(flush);};}else if(Observer){var toggle=1,node=document.createTextNode('');new Observer(flush).observe(node,{characterData:true});notify=function(){node.data=toggle=-toggle;};}else{notify=function(){macrotask.call(global,flush);};}
        module.exports=function asap(fn){var task={fn:fn,next:undefined,domain:isNode&&process.domain};if(last)last.next=task;if(!head){head=task;notify();}last=task;};},{"12":12,"30":30,"76":76}],54:[function(_dereq_,module,exports){var $redef=_dereq_(62);module.exports=function(target,src){for(var key in src)$redef(target,key,src[key]);return target;};},{"62":62}],55:[function(_dereq_,module,exports){var $=_dereq_(47),toObject=_dereq_(81),IObject=_dereq_(35);module.exports=_dereq_(25)(function(){var a=Object.assign,A={},B={},S=Symbol(),K='abcdefghijklmnopqrst';A[S]=7;K.split('').forEach(function(k){B[k]=k;});return a({},A)[S]!=7||Object.keys(a({},B)).join('')!=K;})?function assign(target,source){var T=toObject(target),$$=arguments,$$len=$$.length,index=1,getKeys=$.getKeys,getSymbols=$.getSymbols,isEnum=$.isEnum;while($$len>index){var S=IObject($$[index++]),keys=getSymbols?getKeys(S).concat(getSymbols(S)):getKeys(S),length=keys.length,j=0,key;while(length>j)if(isEnum.call(S,key=keys[j++]))T[key]=S[key];}
        return T;}:Object.assign;},{"25":25,"35":35,"47":47,"81":81}],56:[function(_dereq_,module,exports){var $def=_dereq_(19),core=_dereq_(17),fails=_dereq_(25);module.exports=function(KEY,exec){var $def=_dereq_(19),fn=(core.Object||{})[KEY]||Object[KEY],exp={};exp[KEY]=exec(fn);$def($def.S+$def.F*fails(function(){fn(1);}),'Object',exp);};},{"17":17,"19":19,"25":25}],57:[function(_dereq_,module,exports){var $=_dereq_(47),toIObject=_dereq_(79),isEnum=$.isEnum;module.exports=function(isEntries){return function(it){var O=toIObject(it),keys=$.getKeys(O),length=keys.length,i=0,result=[],key;while(length>i)if(isEnum.call(O,key=keys[i++])){result.push(isEntries?[key,O[key]]:O[key]);}return result;};};},{"47":47,"79":79}],58:[function(_dereq_,module,exports){var $=_dereq_(47),anObject=_dereq_(5),Reflect=_dereq_(30).Reflect;module.exports=Reflect&&Reflect.ownKeys||function ownKeys(it){var keys=$.getNames(anObject(it)),getSymbols=$.getSymbols;return getSymbols?keys.concat(getSymbols(it)):keys;};},{"30":30,"47":47,"5":5}],59:[function(_dereq_,module,exports){'use strict';var path=_dereq_(60),invoke=_dereq_(34),aFunction=_dereq_(3);module.exports=function(){var fn=aFunction(this),length=arguments.length,pargs=Array(length),i=0,_=path._,holder=false;while(length>i)if((pargs[i]=arguments[i++])===_)holder=true;return function(){var that=this,$$=arguments,$$len=$$.length,j=0,k=0,args;if(!holder&&!$$len)return invoke(fn,pargs,that);args=pargs.slice();if(holder)for(;length>j;j++)if(args[j]===_)args[j]=$$[k++];while($$len>k)args.push($$[k++]);return invoke(fn,args,that);};};},{"3":3,"34":34,"60":60}],60:[function(_dereq_,module,exports){module.exports=_dereq_(30);},{"30":30}],61:[function(_dereq_,module,exports){module.exports=function(bitmap,value){return{enumerable:!(bitmap&1),configurable:!(bitmap&2),writable:!(bitmap&4),value:value};};},{}],62:[function(_dereq_,module,exports){var global=_dereq_(30),hide=_dereq_(32),SRC=_dereq_(83)('src'),TO_STRING='toString',$toString=Function[TO_STRING],TPL=(''+$toString).split(TO_STRING);_dereq_(17).inspectSource=function(it){return $toString.call(it);};(module.exports=function(O,key,val,safe){if(typeof val=='function'){val.hasOwnProperty(SRC)||hide(val,SRC,O[key]?''+O[key]:TPL.join(String(key)));val.hasOwnProperty('name')||hide(val,'name',key);}
        if(O===global){O[key]=val;}else{if(!safe)delete O[key];hide(O,key,val);}})(Function.prototype,TO_STRING,function toString(){return typeof this=='function'&&this[SRC]||$toString.call(this);});},{"17":17,"30":30,"32":32,"83":83}],63:[function(_dereq_,module,exports){module.exports=function(regExp,replace){var replacer=replace===Object(replace)?function(part){return replace[part];}:replace;return function(it){return String(it).replace(regExp,replacer);};};},{}],64:[function(_dereq_,module,exports){module.exports=Object.is||function is(x,y){return x===y?x!==0||1/x===1/y:x!=x&&y!=y;};},{}],65:[function(_dereq_,module,exports){var getDesc=_dereq_(47).getDesc,isObject=_dereq_(39),anObject=_dereq_(5);var check=function(O,proto){anObject(O);if(!isObject(proto)&&proto!==null)throw TypeError(proto+": can't set as prototype!");};module.exports={set:Object.setPrototypeOf||('__proto__'in{}?function(test,buggy,set){try{set=_dereq_(18)(Function.call,getDesc(Object.prototype,'__proto__').set,2);set(test,[]);buggy=!(test instanceof Array);}catch(e){buggy=true;}
            return function setPrototypeOf(O,proto){check(O,proto);if(buggy)O.__proto__=proto;else set(O,proto);return O;};}({},false):undefined),check:check};},{"18":18,"39":39,"47":47,"5":5}],66:[function(_dereq_,module,exports){'use strict';var global=_dereq_(30),$=_dereq_(47),DESCRIPTORS=_dereq_(21),SPECIES=_dereq_(84)('species');module.exports=function(KEY){var C=global[KEY];if(DESCRIPTORS&&C&&!C[SPECIES])$.setDesc(C,SPECIES,{configurable:true,get:function(){return this;}});};},{"21":21,"30":30,"47":47,"84":84}],67:[function(_dereq_,module,exports){var def=_dereq_(47).setDesc,has=_dereq_(31),TAG=_dereq_(84)('toStringTag');module.exports=function(it,tag,stat){if(it&&!has(it=stat?it:it.prototype,TAG))def(it,TAG,{configurable:true,value:tag});};},{"31":31,"47":47,"84":84}],68:[function(_dereq_,module,exports){var global=_dereq_(30),SHARED='__core-js_shared__',store=global[SHARED]||(global[SHARED]={});module.exports=function(key){return store[key]||(store[key]={});};},{"30":30}],69:[function(_dereq_,module,exports){var anObject=_dereq_(5),aFunction=_dereq_(3),SPECIES=_dereq_(84)('species');module.exports=function(O,D){var C=anObject(O).constructor,S;return C===undefined||(S=anObject(C)[SPECIES])==undefined?D:aFunction(S);};},{"3":3,"5":5,"84":84}],70:[function(_dereq_,module,exports){module.exports=function(it,Constructor,name){if(!(it instanceof Constructor))throw TypeError(name+": use the 'new' operator!");return it;};},{}],71:[function(_dereq_,module,exports){var toInteger=_dereq_(78),defined=_dereq_(20);module.exports=function(TO_STRING){return function(that,pos){var s=String(defined(that)),i=toInteger(pos),l=s.length,a,b;if(i<0||i>=l)return TO_STRING?'':undefined;a=s.charCodeAt(i);return a<0xd800||a>0xdbff||i+1===l||(b=s.charCodeAt(i+1))<0xdc00||b>0xdfff?TO_STRING?s.charAt(i):a:TO_STRING?s.slice(i,i+2):(a-0xd800<<10)+(b-0xdc00)+0x10000;};};},{"20":20,"78":78}],72:[function(_dereq_,module,exports){var isRegExp=_dereq_(40),defined=_dereq_(20);module.exports=function(that,searchString,NAME){if(isRegExp(searchString))throw TypeError('String#'+NAME+" doesn't accept regex!");return String(defined(that));};},{"20":20,"40":40}],73:[function(_dereq_,module,exports){var toLength=_dereq_(80),repeat=_dereq_(74),defined=_dereq_(20);module.exports=function(that,maxLength,fillString,left){var S=String(defined(that)),stringLength=S.length,fillStr=fillString===undefined?' ':String(fillString),intMaxLength=toLength(maxLength);if(intMaxLength<=stringLength)return S;if(fillStr=='')fillStr=' ';var fillLen=intMaxLength-stringLength,stringFiller=repeat.call(fillStr,Math.ceil(fillLen/fillStr.length));if(stringFiller.length>fillLen)stringFiller=stringFiller.slice(0,fillLen);return left?stringFiller+S:S+stringFiller;};},{"20":20,"74":74,"80":80}],74:[function(_dereq_,module,exports){'use strict';var toInteger=_dereq_(78),defined=_dereq_(20);module.exports=function repeat(count){var str=String(defined(this)),res='',n=toInteger(count);if(n<0||n==Infinity)throw RangeError("Count can't be negative");for(;n>0;(n>>>=1)&&(str+=str))if(n&1)res+=str;return res;};},{"20":20,"78":78}],75:[function(_dereq_,module,exports){var $def=_dereq_(19),defined=_dereq_(20),fails=_dereq_(25),spaces='\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003'+'\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF',space='['+spaces+']',non='\u200b\u0085',ltrim=RegExp('^'+space+space+'*'),rtrim=RegExp(space+space+'*$');var $export=function(KEY,exec){var exp={};exp[KEY]=exec(trim);$def($def.P+$def.F*fails(function(){return!!spaces[KEY]()||non[KEY]()!=non;}),'String',exp);};var trim=$export.trim=function(string,TYPE){string=String(defined(string));if(TYPE&1)string=string.replace(ltrim,'');if(TYPE&2)string=string.replace(rtrim,'');return string;};module.exports=$export;},{"19":19,"20":20,"25":25}],76:[function(_dereq_,module,exports){'use strict';var ctx=_dereq_(18),invoke=_dereq_(34),html=_dereq_(33),cel=_dereq_(22),global=_dereq_(30),process=global.process,setTask=global.setImmediate,clearTask=global.clearImmediate,MessageChannel=global.MessageChannel,counter=0,queue={},ONREADYSTATECHANGE='onreadystatechange',defer,channel,port;var run=function(){var id=+this;if(queue.hasOwnProperty(id)){var fn=queue[id];delete queue[id];fn();}};var listner=function(event){run.call(event.data);};if(!setTask||!clearTask){setTask=function setImmediate(fn){var args=[],i=1;while(arguments.length>i)args.push(arguments[i++]);queue[++counter]=function(){invoke(typeof fn=='function'?fn:Function(fn),args);};defer(counter);return counter;};clearTask=function clearImmediate(id){delete queue[id];};if(_dereq_(12)(process)=='process'){defer=function(id){process.nextTick(ctx(run,id,1));};}else if(MessageChannel){channel=new MessageChannel;port=channel.port2;channel.port1.onmessage=listner;defer=ctx(port.postMessage,port,1);}else if(global.addEventListener&&typeof postMessage=='function'&&!global.importScripts){defer=function(id){global.postMessage(id+'','*');};global.addEventListener('message',listner,false);}else if(ONREADYSTATECHANGE in cel('script')){defer=function(id){html.appendChild(cel('script'))[ONREADYSTATECHANGE]=function(){html.removeChild(this);run.call(id);};};}else{defer=function(id){setTimeout(ctx(run,id,1),0);};}}
        module.exports={set:setTask,clear:clearTask};},{"12":12,"18":18,"22":22,"30":30,"33":33,"34":34}],77:[function(_dereq_,module,exports){var toInteger=_dereq_(78),max=Math.max,min=Math.min;module.exports=function(index,length){index=toInteger(index);return index<0?max(index+length,0):min(index,length);};},{"78":78}],78:[function(_dereq_,module,exports){var ceil=Math.ceil,floor=Math.floor;module.exports=function(it){return isNaN(it=+it)?0:(it>0?floor:ceil)(it);};},{}],79:[function(_dereq_,module,exports){var IObject=_dereq_(35),defined=_dereq_(20);module.exports=function(it){return IObject(defined(it));};},{"20":20,"35":35}],80:[function(_dereq_,module,exports){var toInteger=_dereq_(78),min=Math.min;module.exports=function(it){return it>0?min(toInteger(it),0x1fffffffffffff):0;};},{"78":78}],81:[function(_dereq_,module,exports){var defined=_dereq_(20);module.exports=function(it){return Object(defined(it));};},{"20":20}],82:[function(_dereq_,module,exports){var isObject=_dereq_(39);module.exports=function(it,S){if(!isObject(it))return it;var fn,val;if(S&&typeof(fn=it.toString)=='function'&&!isObject(val=fn.call(it)))return val;if(typeof(fn=it.valueOf)=='function'&&!isObject(val=fn.call(it)))return val;if(!S&&typeof(fn=it.toString)=='function'&&!isObject(val=fn.call(it)))return val;throw TypeError("Can't convert object to primitive value");};},{"39":39}],83:[function(_dereq_,module,exports){var id=0,px=Math.random();module.exports=function(key){return'Symbol('.concat(key===undefined?'':key,')_',(++id+px).toString(36));};},{}],84:[function(_dereq_,module,exports){var store=_dereq_(68)('wks'),uid=_dereq_(83),Symbol=_dereq_(30).Symbol;module.exports=function(name){return store[name]||(store[name]=Symbol&&Symbol[name]||(Symbol||uid)('Symbol.'+name));};},{"30":30,"68":68,"83":83}],85:[function(_dereq_,module,exports){var classof=_dereq_(11),ITERATOR=_dereq_(84)('iterator'),Iterators=_dereq_(46);module.exports=_dereq_(17).getIteratorMethod=function(it){if(it!=undefined)return it[ITERATOR]||it['@@iterator']||Iterators[classof(it)];};},{"11":11,"17":17,"46":46,"84":84}],86:[function(_dereq_,module,exports){'use strict';var $=_dereq_(47),DESCRIPTORS=_dereq_(21),createDesc=_dereq_(61),html=_dereq_(33),cel=_dereq_(22),has=_dereq_(31),cof=_dereq_(12),$def=_dereq_(19),invoke=_dereq_(34),arrayMethod=_dereq_(9),IE_PROTO=_dereq_(83)('__proto__'),isObject=_dereq_(39),anObject=_dereq_(5),aFunction=_dereq_(3),toObject=_dereq_(81),toIObject=_dereq_(79),toInteger=_dereq_(78),toIndex=_dereq_(77),toLength=_dereq_(80),IObject=_dereq_(35),fails=_dereq_(25),ObjectProto=Object.prototype,A=[],_slice=A.slice,_join=A.join,defineProperty=$.setDesc,getOwnDescriptor=$.getDesc,defineProperties=$.setDescs,$indexOf=_dereq_(8)(false),factories={},IE8_DOM_DEFINE;if(!DESCRIPTORS){IE8_DOM_DEFINE=!fails(function(){return defineProperty(cel('div'),'a',{get:function(){return 7;}}).a!=7;});$.setDesc=function(O,P,Attributes){if(IE8_DOM_DEFINE)try{return defineProperty(O,P,Attributes);}catch(e){}
        if('get'in Attributes||'set'in Attributes)throw TypeError('Accessors not supported!');if('value'in Attributes)anObject(O)[P]=Attributes.value;return O;};$.getDesc=function(O,P){if(IE8_DOM_DEFINE)try{return getOwnDescriptor(O,P);}catch(e){}
        if(has(O,P))return createDesc(!ObjectProto.propertyIsEnumerable.call(O,P),O[P]);};$.setDescs=defineProperties=function(O,Properties){anObject(O);var keys=$.getKeys(Properties),length=keys.length,i=0,P;while(length>i)$.setDesc(O,P=keys[i++],Properties[P]);return O;};}
        $def($def.S+$def.F*!DESCRIPTORS,'Object',{getOwnPropertyDescriptor:$.getDesc,defineProperty:$.setDesc,defineProperties:defineProperties});var keys1=('constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,'+'toLocaleString,toString,valueOf').split(','),keys2=keys1.concat('length','prototype'),keysLen1=keys1.length;var createDict=function(){var iframe=cel('iframe'),i=keysLen1,gt='>',iframeDocument;iframe.style.display='none';html.appendChild(iframe);iframe.src='javascript:';iframeDocument=iframe.contentWindow.document;iframeDocument.open();iframeDocument.write('<script>document.F=Object</script'+gt);iframeDocument.close();createDict=iframeDocument.F;while(i--)delete createDict.prototype[keys1[i]];return createDict();};var createGetKeys=function(names,length){return function(object){var O=toIObject(object),i=0,result=[],key;for(key in O)if(key!=IE_PROTO)has(O,key)&&result.push(key);while(length>i)if(has(O,key=names[i++])){~$indexOf(result,key)||result.push(key);}
            return result;};};var Empty=function(){};$def($def.S,'Object',{getPrototypeOf:$.getProto=$.getProto||function(O){O=toObject(O);if(has(O,IE_PROTO))return O[IE_PROTO];if(typeof O.constructor=='function'&&O instanceof O.constructor){return O.constructor.prototype;}return O instanceof Object?ObjectProto:null;},getOwnPropertyNames:$.getNames=$.getNames||createGetKeys(keys2,keys2.length,true),create:$.create=$.create||function(O,Properties){var result;if(O!==null){Empty.prototype=anObject(O);result=new Empty();Empty.prototype=null;result[IE_PROTO]=O;}else result=createDict();return Properties===undefined?result:defineProperties(result,Properties);},keys:$.getKeys=$.getKeys||createGetKeys(keys1,keysLen1,false)});var construct=function(F,len,args){if(!(len in factories)){for(var n=[],i=0;i<len;i++)n[i]='a['+i+']';factories[len]=Function('F,a','return new F('+n.join(',')+')');}
            return factories[len](F,args);};$def($def.P,'Function',{bind:function bind(that){var fn=aFunction(this),partArgs=_slice.call(arguments,1);var bound=function(){var args=partArgs.concat(_slice.call(arguments));return this instanceof bound?construct(fn,args.length,args):invoke(fn,args,that);};if(isObject(fn.prototype))bound.prototype=fn.prototype;return bound;}});var buggySlice=fails(function(){if(html)_slice.call(html);});$def($def.P+$def.F*buggySlice,'Array',{slice:function(begin,end){var len=toLength(this.length),klass=cof(this);end=end===undefined?len:end;if(klass=='Array')return _slice.call(this,begin,end);var start=toIndex(begin,len),upTo=toIndex(end,len),size=toLength(upTo-start),cloned=Array(size),i=0;for(;i<size;i++)cloned[i]=klass=='String'?this.charAt(start+i):this[start+i];return cloned;}});$def($def.P+$def.F*(IObject!=Object),'Array',{join:function(){return _join.apply(IObject(this),arguments);}});$def($def.S,'Array',{isArray:_dereq_(37)});var createArrayReduce=function(isRight){return function(callbackfn,memo){aFunction(callbackfn);var O=IObject(this),length=toLength(O.length),index=isRight?length-1:0,i=isRight?-1:1;if(arguments.length<2)for(;;){if(index in O){memo=O[index];index+=i;break;}
            index+=i;if(isRight?index<0:length<=index){throw TypeError('Reduce of empty array with no initial value');}}
            for(;isRight?index>=0:length>index;index+=i)if(index in O){memo=callbackfn(memo,O[index],index,this);}
            return memo;};};var methodize=function($fn){return function(arg1){return $fn(this,arg1,arguments[1]);};};$def($def.P,'Array',{forEach:$.each=$.each||methodize(arrayMethod(0)),map:methodize(arrayMethod(1)),filter:methodize(arrayMethod(2)),some:methodize(arrayMethod(3)),every:methodize(arrayMethod(4)),reduce:createArrayReduce(false),reduceRight:createArrayReduce(true),indexOf:methodize($indexOf),lastIndexOf:function(el,fromIndex){var O=toIObject(this),length=toLength(O.length),index=length-1;if(arguments.length>1)index=Math.min(index,toInteger(fromIndex));if(index<0)index=toLength(length+index);for(;index>=0;index--)if(index in O)if(O[index]===el)return index;return-1;}});$def($def.S,'Date',{now:function(){return+new Date;}});var lz=function(num){return num>9?num:'0'+num;};var date=new Date(-5e13-1),brokenDate=!(date.toISOString&&date.toISOString()=='0385-07-25T07:06:39.999Z'&&fails(function(){new Date(NaN).toISOString();}));$def($def.P+$def.F*brokenDate,'Date',{toISOString:function toISOString(){if(!isFinite(this))throw RangeError('Invalid time value');var d=this,y=d.getUTCFullYear(),m=d.getUTCMilliseconds(),s=y<0?'-':y>9999?'+':'';return s+('00000'+Math.abs(y)).slice(s?-6:-4)+'-'+lz(d.getUTCMonth()+1)+'-'+lz(d.getUTCDate())+'T'+lz(d.getUTCHours())+':'+lz(d.getUTCMinutes())+':'+lz(d.getUTCSeconds())+'.'+(m>99?m:'0'+lz(m))+'Z';}});},{"12":12,"19":19,"21":21,"22":22,"25":25,"3":3,"31":31,"33":33,"34":34,"35":35,"37":37,"39":39,"47":47,"5":5,"61":61,"77":77,"78":78,"79":79,"8":8,"80":80,"81":81,"83":83,"9":9}],87:[function(_dereq_,module,exports){'use strict';var $def=_dereq_(19);$def($def.P,'Array',{copyWithin:_dereq_(6)});_dereq_(4)('copyWithin');},{"19":19,"4":4,"6":6}],88:[function(_dereq_,module,exports){var $def=_dereq_(19);$def($def.P,'Array',{fill:_dereq_(7)});_dereq_(4)('fill');},{"19":19,"4":4,"7":7}],89:[function(_dereq_,module,exports){'use strict';var KEY='findIndex',$def=_dereq_(19),forced=true,$find=_dereq_(9)(6);if(KEY in[])Array(1)[KEY](function(){forced=false;});$def($def.P+$def.F*forced,'Array',{findIndex:function findIndex(callbackfn){return $find(this,callbackfn,arguments.length>1?arguments[1]:undefined);}});_dereq_(4)(KEY);},{"19":19,"4":4,"9":9}],90:[function(_dereq_,module,exports){'use strict';var KEY='find',$def=_dereq_(19),forced=true,$find=_dereq_(9)(5);if(KEY in[])Array(1)[KEY](function(){forced=false;});$def($def.P+$def.F*forced,'Array',{find:function find(callbackfn){return $find(this,callbackfn,arguments.length>1?arguments[1]:undefined);}});_dereq_(4)(KEY);},{"19":19,"4":4,"9":9}],91:[function(_dereq_,module,exports){'use strict';var ctx=_dereq_(18),$def=_dereq_(19),toObject=_dereq_(81),call=_dereq_(41),isArrayIter=_dereq_(36),toLength=_dereq_(80),getIterFn=_dereq_(85);$def($def.S+$def.F*!_dereq_(44)(function(iter){Array.from(iter);}),'Array',{from:function from(arrayLike){var O=toObject(arrayLike),C=typeof this=='function'?this:Array,$$=arguments,$$len=$$.length,mapfn=$$len>1?$$[1]:undefined,mapping=mapfn!==undefined,index=0,iterFn=getIterFn(O),length,result,step,iterator;if(mapping)mapfn=ctx(mapfn,$$len>2?$$[2]:undefined,2);if(iterFn!=undefined&&!(C==Array&&isArrayIter(iterFn))){for(iterator=iterFn.call(O),result=new C;!(step=iterator.next()).done;index++){result[index]=mapping?call(iterator,mapfn,[step.value,index],true):step.value;}}else{length=toLength(O.length);for(result=new C(length);length>index;index++){result[index]=mapping?mapfn(O[index],index):O[index];}}
            result.length=index;return result;}});},{"18":18,"19":19,"36":36,"41":41,"44":44,"80":80,"81":81,"85":85}],92:[function(_dereq_,module,exports){'use strict';var addToUnscopables=_dereq_(4),step=_dereq_(45),Iterators=_dereq_(46),toIObject=_dereq_(79);module.exports=_dereq_(43)(Array,'Array',function(iterated,kind){this._t=toIObject(iterated);this._i=0;this._k=kind;},function(){var O=this._t,kind=this._k,index=this._i++;if(!O||index>=O.length){this._t=undefined;return step(1);}
        if(kind=='keys')return step(0,index);if(kind=='values')return step(0,O[index]);return step(0,[index,O[index]]);},'values');Iterators.Arguments=Iterators.Array;addToUnscopables('keys');addToUnscopables('values');addToUnscopables('entries');},{"4":4,"43":43,"45":45,"46":46,"79":79}],93:[function(_dereq_,module,exports){'use strict';var $def=_dereq_(19);$def($def.S+$def.F*_dereq_(25)(function(){function F(){}
        return!(Array.of.call(F)instanceof F);}),'Array',{of:function of(){var index=0,$$=arguments,$$len=$$.length,result=new(typeof this=='function'?this:Array)($$len);while($$len>index)result[index]=$$[index++];result.length=$$len;return result;}});},{"19":19,"25":25}],94:[function(_dereq_,module,exports){_dereq_(66)('Array');},{"66":66}],95:[function(_dereq_,module,exports){'use strict';var $=_dereq_(47),isObject=_dereq_(39),HAS_INSTANCE=_dereq_(84)('hasInstance'),FunctionProto=Function.prototype;if(!(HAS_INSTANCE in FunctionProto))$.setDesc(FunctionProto,HAS_INSTANCE,{value:function(O){if(typeof this!='function'||!isObject(O))return false;if(!isObject(this.prototype))return O instanceof this;while(O=$.getProto(O))if(this.prototype===O)return true;return false;}});},{"39":39,"47":47,"84":84}],96:[function(_dereq_,module,exports){var setDesc=_dereq_(47).setDesc,createDesc=_dereq_(61),has=_dereq_(31),FProto=Function.prototype,nameRE=/^\s*function ([^ (]*)/,NAME='name';NAME in FProto||_dereq_(21)&&setDesc(FProto,NAME,{configurable:true,get:function(){var match=(''+this).match(nameRE),name=match?match[1]:'';has(this,NAME)||setDesc(this,NAME,createDesc(5,name));return name;}});},{"21":21,"31":31,"47":47,"61":61}],97:[function(_dereq_,module,exports){'use strict';var strong=_dereq_(13);_dereq_(16)('Map',function(get){return function Map(){return get(this,arguments.length>0?arguments[0]:undefined);};},{get:function get(key){var entry=strong.getEntry(this,key);return entry&&entry.v;},set:function set(key,value){return strong.def(this,key===0?0:key,value);}},strong,true);},{"13":13,"16":16}],98:[function(_dereq_,module,exports){var $def=_dereq_(19),log1p=_dereq_(51),sqrt=Math.sqrt,$acosh=Math.acosh;$def($def.S+$def.F*!($acosh&&Math.floor($acosh(Number.MAX_VALUE))==710),'Math',{acosh:function acosh(x){return(x=+x)<1?NaN:x>94906265.62425156?Math.log(x)+Math.LN2:log1p(x-1+sqrt(x-1)*sqrt(x+1));}});},{"19":19,"51":51}],99:[function(_dereq_,module,exports){var $def=_dereq_(19);function asinh(x){return!isFinite(x=+x)||x==0?x:x<0?-asinh(-x):Math.log(x+Math.sqrt(x*x+1));}
        $def($def.S,'Math',{asinh:asinh});},{"19":19}],100:[function(_dereq_,module,exports){var $def=_dereq_(19);$def($def.S,'Math',{atanh:function atanh(x){return(x=+x)==0?x:Math.log((1+x)/(1-x))/2;}});},{"19":19}],101:[function(_dereq_,module,exports){var $def=_dereq_(19),sign=_dereq_(52);$def($def.S,'Math',{cbrt:function cbrt(x){return sign(x=+x)*Math.pow(Math.abs(x),1/3);}});},{"19":19,"52":52}],102:[function(_dereq_,module,exports){var $def=_dereq_(19);$def($def.S,'Math',{clz32:function clz32(x){return(x>>>=0)?31-Math.floor(Math.log(x+0.5)*Math.LOG2E):32;}});},{"19":19}],103:[function(_dereq_,module,exports){var $def=_dereq_(19),exp=Math.exp;$def($def.S,'Math',{cosh:function cosh(x){return(exp(x=+x)+exp(-x))/2;}});},{"19":19}],104:[function(_dereq_,module,exports){var $def=_dereq_(19);$def($def.S,'Math',{expm1:_dereq_(50)});},{"19":19,"50":50}],105:[function(_dereq_,module,exports){var $def=_dereq_(19),sign=_dereq_(52),pow=Math.pow,EPSILON=pow(2,-52),EPSILON32=pow(2,-23),MAX32=pow(2,127)*(2-EPSILON32),MIN32=pow(2,-126);var roundTiesToEven=function(n){return n+1/EPSILON-1/EPSILON;};$def($def.S,'Math',{fround:function fround(x){var $abs=Math.abs(x),$sign=sign(x),a,result;if($abs<MIN32)return $sign*roundTiesToEven($abs/MIN32/EPSILON32)*MIN32*EPSILON32;a=(1+EPSILON32/EPSILON)*$abs;result=a-(a-$abs);if(result>MAX32||result!=result)return $sign*Infinity;return $sign*result;}});},{"19":19,"52":52}],106:[function(_dereq_,module,exports){var $def=_dereq_(19),abs=Math.abs;$def($def.S,'Math',{hypot:function hypot(value1,value2){var sum=0,i=0,$$=arguments,$$len=$$.length,larg=0,arg,div;while(i<$$len){arg=abs($$[i++]);if(larg<arg){div=larg/arg;sum=sum*div*div+1;larg=arg;}else if(arg>0){div=arg/larg;sum+=div*div;}else sum+=arg;}
            return larg===Infinity?Infinity:larg*Math.sqrt(sum);}});},{"19":19}],107:[function(_dereq_,module,exports){var $def=_dereq_(19),$imul=Math.imul;$def($def.S+$def.F*_dereq_(25)(function(){return $imul(0xffffffff,5)!=-5||$imul.length!=2;}),'Math',{imul:function imul(x,y){var UINT16=0xffff,xn=+x,yn=+y,xl=UINT16&xn,yl=UINT16&yn;return 0|xl*yl+((UINT16&xn>>>16)*yl+xl*(UINT16&yn>>>16)<<16>>>0);}});},{"19":19,"25":25}],108:[function(_dereq_,module,exports){var $def=_dereq_(19);$def($def.S,'Math',{log10:function log10(x){return Math.log(x)/Math.LN10;}});},{"19":19}],109:[function(_dereq_,module,exports){var $def=_dereq_(19);$def($def.S,'Math',{log1p:_dereq_(51)});},{"19":19,"51":51}],110:[function(_dereq_,module,exports){var $def=_dereq_(19);$def($def.S,'Math',{log2:function log2(x){return Math.log(x)/Math.LN2;}});},{"19":19}],111:[function(_dereq_,module,exports){var $def=_dereq_(19);$def($def.S,'Math',{sign:_dereq_(52)});},{"19":19,"52":52}],112:[function(_dereq_,module,exports){var $def=_dereq_(19),expm1=_dereq_(50),exp=Math.exp;$def($def.S+$def.F*_dereq_(25)(function(){return!Math.sinh(-2e-17)!=-2e-17;}),'Math',{sinh:function sinh(x){return Math.abs(x=+x)<1?(expm1(x)-expm1(-x))/2:(exp(x-1)-exp(-x-1))*(Math.E/2);}});},{"19":19,"25":25,"50":50}],113:[function(_dereq_,module,exports){var $def=_dereq_(19),expm1=_dereq_(50),exp=Math.exp;$def($def.S,'Math',{tanh:function tanh(x){var a=expm1(x=+x),b=expm1(-x);return a==Infinity?1:b==Infinity?-1:(a-b)/(exp(x)+exp(-x));}});},{"19":19,"50":50}],114:[function(_dereq_,module,exports){var $def=_dereq_(19);$def($def.S,'Math',{trunc:function trunc(it){return(it>0?Math.floor:Math.ceil)(it);}});},{"19":19}],115:[function(_dereq_,module,exports){'use strict';var $=_dereq_(47),global=_dereq_(30),has=_dereq_(31),cof=_dereq_(12),toPrimitive=_dereq_(82),fails=_dereq_(25),$trim=_dereq_(75).trim,NUMBER='Number',$Number=global[NUMBER],Base=$Number,proto=$Number.prototype,BROKEN_COF=cof($.create(proto))==NUMBER,TRIM='trim'in String.prototype;var toNumber=function(argument){var it=toPrimitive(argument,false);if(typeof it=='string'&&it.length>2){it=TRIM?it.trim():$trim(it,3);var first=it.charCodeAt(0),third,radix,maxCode;if(first===43||first===45){third=it.charCodeAt(2);if(third===88||third===120)return NaN;}else if(first===48){switch(it.charCodeAt(1)){case 66:case 98:radix=2;maxCode=49;break;case 79:case 111:radix=8;maxCode=55;break;default:return+it;}
        for(var digits=it.slice(2),i=0,l=digits.length,code;i<l;i++){code=digits.charCodeAt(i);if(code<48||code>maxCode)return NaN;}return parseInt(digits,radix);}}return+it;};if(!$Number(' 0o1')||!$Number('0b1')||$Number('+0x1')){$Number=function Number(value){var it=arguments.length<1?0:value,that=this;return that instanceof $Number&&(BROKEN_COF?fails(function(){proto.valueOf.call(that);}):cof(that)!=NUMBER)?new Base(toNumber(it)):toNumber(it);};$.each.call(_dereq_(21)?$.getNames(Base):('MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,'+'EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,'+'MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger').split(','),function(key){if(has(Base,key)&&!has($Number,key)){$.setDesc($Number,key,$.getDesc(Base,key));}});$Number.prototype=proto;proto.constructor=$Number;_dereq_(62)(global,NUMBER,$Number);}},{"12":12,"21":21,"25":25,"30":30,"31":31,"47":47,"62":62,"75":75,"82":82}],116:[function(_dereq_,module,exports){var $def=_dereq_(19);$def($def.S,'Number',{EPSILON:Math.pow(2,-52)});},{"19":19}],117:[function(_dereq_,module,exports){var $def=_dereq_(19),_isFinite=_dereq_(30).isFinite;$def($def.S,'Number',{isFinite:function isFinite(it){return typeof it=='number'&&_isFinite(it);}});},{"19":19,"30":30}],118:[function(_dereq_,module,exports){var $def=_dereq_(19);$def($def.S,'Number',{isInteger:_dereq_(38)});},{"19":19,"38":38}],119:[function(_dereq_,module,exports){var $def=_dereq_(19);$def($def.S,'Number',{isNaN:function isNaN(number){return number!=number;}});},{"19":19}],120:[function(_dereq_,module,exports){var $def=_dereq_(19),isInteger=_dereq_(38),abs=Math.abs;$def($def.S,'Number',{isSafeInteger:function isSafeInteger(number){return isInteger(number)&&abs(number)<=0x1fffffffffffff;}});},{"19":19,"38":38}],121:[function(_dereq_,module,exports){var $def=_dereq_(19);$def($def.S,'Number',{MAX_SAFE_INTEGER:0x1fffffffffffff});},{"19":19}],122:[function(_dereq_,module,exports){var $def=_dereq_(19);$def($def.S,'Number',{MIN_SAFE_INTEGER:-0x1fffffffffffff});},{"19":19}],123:[function(_dereq_,module,exports){var $def=_dereq_(19);$def($def.S,'Number',{parseFloat:parseFloat});},{"19":19}],124:[function(_dereq_,module,exports){var $def=_dereq_(19);$def($def.S,'Number',{parseInt:parseInt});},{"19":19}],125:[function(_dereq_,module,exports){var $def=_dereq_(19);$def($def.S+$def.F,'Object',{assign:_dereq_(55)});},{"19":19,"55":55}],126:[function(_dereq_,module,exports){var isObject=_dereq_(39);_dereq_(56)('freeze',function($freeze){return function freeze(it){return $freeze&&isObject(it)?$freeze(it):it;};});},{"39":39,"56":56}],127:[function(_dereq_,module,exports){var toIObject=_dereq_(79);_dereq_(56)('getOwnPropertyDescriptor',function($getOwnPropertyDescriptor){return function getOwnPropertyDescriptor(it,key){return $getOwnPropertyDescriptor(toIObject(it),key);};});},{"56":56,"79":79}],128:[function(_dereq_,module,exports){_dereq_(56)('getOwnPropertyNames',function(){return _dereq_(29).get;});},{"29":29,"56":56}],129:[function(_dereq_,module,exports){var toObject=_dereq_(81);_dereq_(56)('getPrototypeOf',function($getPrototypeOf){return function getPrototypeOf(it){return $getPrototypeOf(toObject(it));};});},{"56":56,"81":81}],130:[function(_dereq_,module,exports){var isObject=_dereq_(39);_dereq_(56)('isExtensible',function($isExtensible){return function isExtensible(it){return isObject(it)?$isExtensible?$isExtensible(it):true:false;};});},{"39":39,"56":56}],131:[function(_dereq_,module,exports){var isObject=_dereq_(39);_dereq_(56)('isFrozen',function($isFrozen){return function isFrozen(it){return isObject(it)?$isFrozen?$isFrozen(it):false:true;};});},{"39":39,"56":56}],132:[function(_dereq_,module,exports){var isObject=_dereq_(39);_dereq_(56)('isSealed',function($isSealed){return function isSealed(it){return isObject(it)?$isSealed?$isSealed(it):false:true;};});},{"39":39,"56":56}],133:[function(_dereq_,module,exports){var $def=_dereq_(19);$def($def.S,'Object',{is:_dereq_(64)});},{"19":19,"64":64}],134:[function(_dereq_,module,exports){var toObject=_dereq_(81);_dereq_(56)('keys',function($keys){return function keys(it){return $keys(toObject(it));};});},{"56":56,"81":81}],135:[function(_dereq_,module,exports){var isObject=_dereq_(39);_dereq_(56)('preventExtensions',function($preventExtensions){return function preventExtensions(it){return $preventExtensions&&isObject(it)?$preventExtensions(it):it;};});},{"39":39,"56":56}],136:[function(_dereq_,module,exports){var isObject=_dereq_(39);_dereq_(56)('seal',function($seal){return function seal(it){return $seal&&isObject(it)?$seal(it):it;};});},{"39":39,"56":56}],137:[function(_dereq_,module,exports){var $def=_dereq_(19);$def($def.S,'Object',{setPrototypeOf:_dereq_(65).set});},{"19":19,"65":65}],138:[function(_dereq_,module,exports){'use strict';var classof=_dereq_(11),test={};test[_dereq_(84)('toStringTag')]='z';if(test+''!='[object z]'){_dereq_(62)(Object.prototype,'toString',function toString(){return'[object '+classof(this)+']';},true);}},{"11":11,"62":62,"84":84}],139:[function(_dereq_,module,exports){'use strict';var $=_dereq_(47),LIBRARY=_dereq_(49),global=_dereq_(30),ctx=_dereq_(18),classof=_dereq_(11),$def=_dereq_(19),isObject=_dereq_(39),anObject=_dereq_(5),aFunction=_dereq_(3),strictNew=_dereq_(70),forOf=_dereq_(28),setProto=_dereq_(65).set,same=_dereq_(64),SPECIES=_dereq_(84)('species'),speciesConstructor=_dereq_(69),RECORD=_dereq_(83)('record'),asap=_dereq_(53),PROMISE='Promise',process=global.process,isNode=classof(process)=='process',P=global[PROMISE],Wrapper;var testResolve=function(sub){var test=new P(function(){});if(sub)test.constructor=Object;return P.resolve(test)===test;};var useNative=function(){var works=false;function P2(x){var self=new P(x);setProto(self,P2.prototype);return self;}
        try{works=P&&P.resolve&&testResolve();setProto(P2,P);P2.prototype=$.create(P.prototype,{constructor:{value:P2}});if(!(P2.resolve(5).then(function(){})instanceof P2)){works=false;}
            if(works&&_dereq_(21)){var thenableThenGotten=false;P.resolve($.setDesc({},'then',{get:function(){thenableThenGotten=true;}}));works=thenableThenGotten;}}catch(e){works=false;}
        return works;}();var isPromise=function(it){return isObject(it)&&(useNative?classof(it)=='Promise':RECORD in it);};var sameConstructor=function(a,b){if(LIBRARY&&a===P&&b===Wrapper)return true;return same(a,b);};var getConstructor=function(C){var S=anObject(C)[SPECIES];return S!=undefined?S:C;};var isThenable=function(it){var then;return isObject(it)&&typeof(then=it.then)=='function'?then:false;};var notify=function(record,isReject){if(record.n)return;record.n=true;var chain=record.c;asap(function(){var value=record.v,ok=record.s==1,i=0;var run=function(react){var cb=ok?react.ok:react.fail,ret,then;try{if(cb){if(!ok)record.h=true;ret=cb===true?value:cb(value);if(ret===react.P){react.rej(TypeError('Promise-chain cycle'));}else if(then=isThenable(ret)){then.call(ret,react.res,react.rej);}else react.res(ret);}else react.rej(value);}catch(err){react.rej(err);}};while(chain.length>i)run(chain[i++]);chain.length=0;record.n=false;if(isReject)setTimeout(function(){var promise=record.p,handler,console;if(isUnhandled(promise)){if(isNode){process.emit('unhandledRejection',value,promise);}else if(handler=global.onunhandledrejection){handler({promise:promise,reason:value});}else if((console=global.console)&&console.error){console.error('Unhandled promise rejection',value);}}record.a=undefined;},1);});};var isUnhandled=function(promise){var record=promise[RECORD],chain=record.a||record.c,i=0,react;if(record.h)return false;while(chain.length>i){react=chain[i++];if(react.fail||!isUnhandled(react.P))return false;}return true;};var $reject=function(value){var record=this;if(record.d)return;record.d=true;record=record.r||record;record.v=value;record.s=2;record.a=record.c.slice();notify(record,true);};var $resolve=function(value){var record=this,then;if(record.d)return;record.d=true;record=record.r||record;try{if(then=isThenable(value)){asap(function(){var wrapper={r:record,d:false};try{then.call(value,ctx($resolve,wrapper,1),ctx($reject,wrapper,1));}catch(e){$reject.call(wrapper,e);}});}else{record.v=value;record.s=1;notify(record,false);}}catch(e){$reject.call({r:record,d:false},e);}};if(!useNative){P=function Promise(executor){aFunction(executor);var record={p:strictNew(this,P,PROMISE),c:[],a:undefined,s:0,d:false,v:undefined,h:false,n:false};this[RECORD]=record;try{executor(ctx($resolve,record,1),ctx($reject,record,1));}catch(err){$reject.call(record,err);}};_dereq_(54)(P.prototype,{then:function then(onFulfilled,onRejected){var react={ok:typeof onFulfilled=='function'?onFulfilled:true,fail:typeof onRejected=='function'?onRejected:false};var promise=react.P=new(speciesConstructor(this,P))(function(res,rej){react.res=res;react.rej=rej;});aFunction(react.res);aFunction(react.rej);var record=this[RECORD];record.c.push(react);if(record.a)record.a.push(react);if(record.s)notify(record,false);return promise;},'catch':function(onRejected){return this.then(undefined,onRejected);}});}
        $def($def.G+$def.W+$def.F*!useNative,{Promise:P});_dereq_(67)(P,PROMISE);_dereq_(66)(PROMISE);Wrapper=_dereq_(17)[PROMISE];$def($def.S+$def.F*!useNative,PROMISE,{reject:function reject(r){return new this(function(res,rej){rej(r);});}});$def($def.S+$def.F*(!useNative||testResolve(true)),PROMISE,{resolve:function resolve(x){return isPromise(x)&&sameConstructor(x.constructor,this)?x:new this(function(res){res(x);});}});$def($def.S+$def.F*!(useNative&&_dereq_(44)(function(iter){P.all(iter)['catch'](function(){});})),PROMISE,{all:function all(iterable){var C=getConstructor(this),values=[];return new C(function(res,rej){forOf(iterable,false,values.push,values);var remaining=values.length,results=Array(remaining);if(remaining)$.each.call(values,function(promise,index){C.resolve(promise).then(function(value){results[index]=value;--remaining||res(results);},rej);});else res(results);});},race:function race(iterable){var C=getConstructor(this);return new C(function(res,rej){forOf(iterable,false,function(promise){C.resolve(promise).then(res,rej);});});}});},{"11":11,"17":17,"18":18,"19":19,"21":21,"28":28,"3":3,"30":30,"39":39,"44":44,"47":47,"49":49,"5":5,"53":53,"54":54,"64":64,"65":65,"66":66,"67":67,"69":69,"70":70,"83":83,"84":84}],140:[function(_dereq_,module,exports){var $def=_dereq_(19),_apply=Function.apply;$def($def.S,'Reflect',{apply:function apply(target,thisArgument,argumentsList){return _apply.call(target,thisArgument,argumentsList);}});},{"19":19}],141:[function(_dereq_,module,exports){var $=_dereq_(47),$def=_dereq_(19),aFunction=_dereq_(3),anObject=_dereq_(5),isObject=_dereq_(39),bind=Function.bind||_dereq_(17).Function.prototype.bind;$def($def.S+$def.F*_dereq_(25)(function(){function F(){}
        return!(Reflect.construct(function(){},[],F)instanceof F);}),'Reflect',{construct:function construct(Target,args){aFunction(Target);var newTarget=arguments.length<3?Target:aFunction(arguments[2]);if(Target==newTarget){if(args!=undefined)switch(anObject(args).length){case 0:return new Target;case 1:return new Target(args[0]);case 2:return new Target(args[0],args[1]);case 3:return new Target(args[0],args[1],args[2]);case 4:return new Target(args[0],args[1],args[2],args[3]);}
            var $args=[null];$args.push.apply($args,args);return new(bind.apply(Target,$args));}
            var proto=newTarget.prototype,instance=$.create(isObject(proto)?proto:Object.prototype),result=Function.apply.call(Target,instance,args);return isObject(result)?result:instance;}});},{"17":17,"19":19,"25":25,"3":3,"39":39,"47":47,"5":5}],142:[function(_dereq_,module,exports){var $=_dereq_(47),$def=_dereq_(19),anObject=_dereq_(5);$def($def.S+$def.F*_dereq_(25)(function(){Reflect.defineProperty($.setDesc({},1,{value:1}),1,{value:2});}),'Reflect',{defineProperty:function defineProperty(target,propertyKey,attributes){anObject(target);try{$.setDesc(target,propertyKey,attributes);return true;}catch(e){return false;}}});},{"19":19,"25":25,"47":47,"5":5}],143:[function(_dereq_,module,exports){var $def=_dereq_(19),getDesc=_dereq_(47).getDesc,anObject=_dereq_(5);$def($def.S,'Reflect',{deleteProperty:function deleteProperty(target,propertyKey){var desc=getDesc(anObject(target),propertyKey);return desc&&!desc.configurable?false:delete target[propertyKey];}});},{"19":19,"47":47,"5":5}],144:[function(_dereq_,module,exports){'use strict';var $def=_dereq_(19),anObject=_dereq_(5);var Enumerate=function(iterated){this._t=anObject(iterated);this._i=0;var keys=this._k=[],key;for(key in iterated)keys.push(key);};_dereq_(42)(Enumerate,'Object',function(){var that=this,keys=that._k,key;do{if(that._i>=keys.length)return{value:undefined,done:true};}while(!((key=keys[that._i++])in that._t));return{value:key,done:false};});$def($def.S,'Reflect',{enumerate:function enumerate(target){return new Enumerate(target);}});},{"19":19,"42":42,"5":5}],145:[function(_dereq_,module,exports){var $=_dereq_(47),$def=_dereq_(19),anObject=_dereq_(5);$def($def.S,'Reflect',{getOwnPropertyDescriptor:function getOwnPropertyDescriptor(target,propertyKey){return $.getDesc(anObject(target),propertyKey);}});},{"19":19,"47":47,"5":5}],146:[function(_dereq_,module,exports){var $def=_dereq_(19),getProto=_dereq_(47).getProto,anObject=_dereq_(5);$def($def.S,'Reflect',{getPrototypeOf:function getPrototypeOf(target){return getProto(anObject(target));}});},{"19":19,"47":47,"5":5}],147:[function(_dereq_,module,exports){var $=_dereq_(47),has=_dereq_(31),$def=_dereq_(19),isObject=_dereq_(39),anObject=_dereq_(5);function get(target,propertyKey){var receiver=arguments.length<3?target:arguments[2],desc,proto;if(anObject(target)===receiver)return target[propertyKey];if(desc=$.getDesc(target,propertyKey))return has(desc,'value')?desc.value:desc.get!==undefined?desc.get.call(receiver):undefined;if(isObject(proto=$.getProto(target)))return get(proto,propertyKey,receiver);}
        $def($def.S,'Reflect',{get:get});},{"19":19,"31":31,"39":39,"47":47,"5":5}],148:[function(_dereq_,module,exports){var $def=_dereq_(19);$def($def.S,'Reflect',{has:function has(target,propertyKey){return propertyKey in target;}});},{"19":19}],149:[function(_dereq_,module,exports){var $def=_dereq_(19),anObject=_dereq_(5),$isExtensible=Object.isExtensible;$def($def.S,'Reflect',{isExtensible:function isExtensible(target){anObject(target);return $isExtensible?$isExtensible(target):true;}});},{"19":19,"5":5}],150:[function(_dereq_,module,exports){var $def=_dereq_(19);$def($def.S,'Reflect',{ownKeys:_dereq_(58)});},{"19":19,"58":58}],151:[function(_dereq_,module,exports){var $def=_dereq_(19),anObject=_dereq_(5),$preventExtensions=Object.preventExtensions;$def($def.S,'Reflect',{preventExtensions:function preventExtensions(target){anObject(target);try{if($preventExtensions)$preventExtensions(target);return true;}catch(e){return false;}}});},{"19":19,"5":5}],152:[function(_dereq_,module,exports){var $def=_dereq_(19),setProto=_dereq_(65);if(setProto)$def($def.S,'Reflect',{setPrototypeOf:function setPrototypeOf(target,proto){setProto.check(target,proto);try{setProto.set(target,proto);return true;}catch(e){return false;}}});},{"19":19,"65":65}],153:[function(_dereq_,module,exports){var $=_dereq_(47),has=_dereq_(31),$def=_dereq_(19),createDesc=_dereq_(61),anObject=_dereq_(5),isObject=_dereq_(39);function set(target,propertyKey,V){var receiver=arguments.length<4?target:arguments[3],ownDesc=$.getDesc(anObject(target),propertyKey),existingDescriptor,proto;if(!ownDesc){if(isObject(proto=$.getProto(target))){return set(proto,propertyKey,V,receiver);}
        ownDesc=createDesc(0);}
        if(has(ownDesc,'value')){if(ownDesc.writable===false||!isObject(receiver))return false;existingDescriptor=$.getDesc(receiver,propertyKey)||createDesc(0);existingDescriptor.value=V;$.setDesc(receiver,propertyKey,existingDescriptor);return true;}
        return ownDesc.set===undefined?false:(ownDesc.set.call(receiver,V),true);}
        $def($def.S,'Reflect',{set:set});},{"19":19,"31":31,"39":39,"47":47,"5":5,"61":61}],154:[function(_dereq_,module,exports){var $=_dereq_(47),global=_dereq_(30),isRegExp=_dereq_(40),$flags=_dereq_(27),$RegExp=global.RegExp,Base=$RegExp,proto=$RegExp.prototype,re1=/a/g,re2=/a/g,CORRECT_NEW=new $RegExp(re1)!==re1;if(_dereq_(21)&&(!CORRECT_NEW||_dereq_(25)(function(){re2[_dereq_(84)('match')]=false;return $RegExp(re1)!=re1||$RegExp(re2)==re2||$RegExp(re1,'i')!='/a/i';}))){$RegExp=function RegExp(p,f){var piRE=isRegExp(p),fiU=f===undefined;return!(this instanceof $RegExp)&&piRE&&p.constructor===$RegExp&&fiU?p:CORRECT_NEW?new Base(piRE&&!fiU?p.source:p,f):Base((piRE=p instanceof $RegExp)?p.source:p,piRE&&fiU?$flags.call(p):f);};$.each.call($.getNames(Base),function(key){key in $RegExp||$.setDesc($RegExp,key,{configurable:true,get:function(){return Base[key];},set:function(it){Base[key]=it;}});});proto.constructor=$RegExp;$RegExp.prototype=proto;_dereq_(62)(global,'RegExp',$RegExp);}
        _dereq_(66)('RegExp');},{"21":21,"25":25,"27":27,"30":30,"40":40,"47":47,"62":62,"66":66,"84":84}],155:[function(_dereq_,module,exports){var $=_dereq_(47);if(_dereq_(21)&&/./g.flags!='g')$.setDesc(RegExp.prototype,'flags',{configurable:true,get:_dereq_(27)});},{"21":21,"27":27,"47":47}],156:[function(_dereq_,module,exports){_dereq_(26)('match',1,function(defined,MATCH){return function match(regexp){'use strict';var O=defined(this),fn=regexp==undefined?undefined:regexp[MATCH];return fn!==undefined?fn.call(regexp,O):new RegExp(regexp)[MATCH](String(O));};});},{"26":26}],157:[function(_dereq_,module,exports){_dereq_(26)('replace',2,function(defined,REPLACE,$replace){return function replace(searchValue,replaceValue){'use strict';var O=defined(this),fn=searchValue==undefined?undefined:searchValue[REPLACE];return fn!==undefined?fn.call(searchValue,O,replaceValue):$replace.call(String(O),searchValue,replaceValue);};});},{"26":26}],158:[function(_dereq_,module,exports){_dereq_(26)('search',1,function(defined,SEARCH){return function search(regexp){'use strict';var O=defined(this),fn=regexp==undefined?undefined:regexp[SEARCH];return fn!==undefined?fn.call(regexp,O):new RegExp(regexp)[SEARCH](String(O));};});},{"26":26}],159:[function(_dereq_,module,exports){_dereq_(26)('split',2,function(defined,SPLIT,$split){return function split(separator,limit){'use strict';var O=defined(this),fn=separator==undefined?undefined:separator[SPLIT];return fn!==undefined?fn.call(separator,O,limit):$split.call(String(O),separator,limit);};});},{"26":26}],160:[function(_dereq_,module,exports){'use strict';var strong=_dereq_(13);_dereq_(16)('Set',function(get){return function Set(){return get(this,arguments.length>0?arguments[0]:undefined);};},{add:function add(value){return strong.def(this,value=value===0?0:value,value);}},strong);},{"13":13,"16":16}],161:[function(_dereq_,module,exports){'use strict';var $def=_dereq_(19),$at=_dereq_(71)(false);$def($def.P,'String',{codePointAt:function codePointAt(pos){return $at(this,pos);}});},{"19":19,"71":71}],162:[function(_dereq_,module,exports){'use strict';var $def=_dereq_(19),toLength=_dereq_(80),context=_dereq_(72),ENDS_WITH='endsWith',$endsWith=''[ENDS_WITH];$def($def.P+$def.F*_dereq_(24)(ENDS_WITH),'String',{endsWith:function endsWith(searchString){var that=context(this,searchString,ENDS_WITH),$$=arguments,endPosition=$$.length>1?$$[1]:undefined,len=toLength(that.length),end=endPosition===undefined?len:Math.min(toLength(endPosition),len),search=String(searchString);return $endsWith?$endsWith.call(that,search,end):that.slice(end-search.length,end)===search;}});},{"19":19,"24":24,"72":72,"80":80}],163:[function(_dereq_,module,exports){var $def=_dereq_(19),toIndex=_dereq_(77),fromCharCode=String.fromCharCode,$fromCodePoint=String.fromCodePoint;$def($def.S+$def.F*(!!$fromCodePoint&&$fromCodePoint.length!=1),'String',{fromCodePoint:function fromCodePoint(x){var res=[],$$=arguments,$$len=$$.length,i=0,code;while($$len>i){code=+$$[i++];if(toIndex(code,0x10ffff)!==code)throw RangeError(code+' is not a valid code point');res.push(code<0x10000?fromCharCode(code):fromCharCode(((code-=0x10000)>>10)+0xd800,code%0x400+0xdc00));}return res.join('');}});},{"19":19,"77":77}],164:[function(_dereq_,module,exports){'use strict';var $def=_dereq_(19),context=_dereq_(72),INCLUDES='includes';$def($def.P+$def.F*_dereq_(24)(INCLUDES),'String',{includes:function includes(searchString){return!!~context(this,searchString,INCLUDES).indexOf(searchString,arguments.length>1?arguments[1]:undefined);}});},{"19":19,"24":24,"72":72}],165:[function(_dereq_,module,exports){'use strict';var $at=_dereq_(71)(true);_dereq_(43)(String,'String',function(iterated){this._t=String(iterated);this._i=0;},function(){var O=this._t,index=this._i,point;if(index>=O.length)return{value:undefined,done:true};point=$at(O,index);this._i+=point.length;return{value:point,done:false};});},{"43":43,"71":71}],166:[function(_dereq_,module,exports){var $def=_dereq_(19),toIObject=_dereq_(79),toLength=_dereq_(80);$def($def.S,'String',{raw:function raw(callSite){var tpl=toIObject(callSite.raw),len=toLength(tpl.length),$$=arguments,$$len=$$.length,res=[],i=0;while(len>i){res.push(String(tpl[i++]));if(i<$$len)res.push(String($$[i]));}return res.join('');}});},{"19":19,"79":79,"80":80}],167:[function(_dereq_,module,exports){var $def=_dereq_(19);$def($def.P,'String',{repeat:_dereq_(74)});},{"19":19,"74":74}],168:[function(_dereq_,module,exports){'use strict';var $def=_dereq_(19),toLength=_dereq_(80),context=_dereq_(72),STARTS_WITH='startsWith',$startsWith=''[STARTS_WITH];$def($def.P+$def.F*_dereq_(24)(STARTS_WITH),'String',{startsWith:function startsWith(searchString){var that=context(this,searchString,STARTS_WITH),$$=arguments,index=toLength(Math.min($$.length>1?$$[1]:undefined,that.length)),search=String(searchString);return $startsWith?$startsWith.call(that,search,index):that.slice(index,index+search.length)===search;}});},{"19":19,"24":24,"72":72,"80":80}],169:[function(_dereq_,module,exports){'use strict';_dereq_(75)('trim',function($trim){return function trim(){return $trim(this,3);};});},{"75":75}],170:[function(_dereq_,module,exports){'use strict';var $=_dereq_(47),global=_dereq_(30),has=_dereq_(31),DESCRIPTORS=_dereq_(21),$def=_dereq_(19),$redef=_dereq_(62),$fails=_dereq_(25),shared=_dereq_(68),setToStringTag=_dereq_(67),uid=_dereq_(83),wks=_dereq_(84),keyOf=_dereq_(48),$names=_dereq_(29),enumKeys=_dereq_(23),isArray=_dereq_(37),anObject=_dereq_(5),toIObject=_dereq_(79),createDesc=_dereq_(61),getDesc=$.getDesc,setDesc=$.setDesc,_create=$.create,getNames=$names.get,$Symbol=global.Symbol,$JSON=global.JSON,_stringify=$JSON&&$JSON.stringify,setter=false,HIDDEN=wks('_hidden'),isEnum=$.isEnum,SymbolRegistry=shared('symbol-registry'),AllSymbols=shared('symbols'),useNative=typeof $Symbol=='function',ObjectProto=Object.prototype;var setSymbolDesc=DESCRIPTORS&&$fails(function(){return _create(setDesc({},'a',{get:function(){return setDesc(this,'a',{value:7}).a;}})).a!=7;})?function(it,key,D){var protoDesc=getDesc(ObjectProto,key);if(protoDesc)delete ObjectProto[key];setDesc(it,key,D);if(protoDesc&&it!==ObjectProto)setDesc(ObjectProto,key,protoDesc);}:setDesc;var wrap=function(tag){var sym=AllSymbols[tag]=_create($Symbol.prototype);sym._k=tag;DESCRIPTORS&&setter&&setSymbolDesc(ObjectProto,tag,{configurable:true,set:function(value){if(has(this,HIDDEN)&&has(this[HIDDEN],tag))this[HIDDEN][tag]=false;setSymbolDesc(this,tag,createDesc(1,value));}});return sym;};var isSymbol=function(it){return typeof it=='symbol';};var $defineProperty=function defineProperty(it,key,D){if(D&&has(AllSymbols,key)){if(!D.enumerable){if(!has(it,HIDDEN))setDesc(it,HIDDEN,createDesc(1,{}));it[HIDDEN][key]=true;}else{if(has(it,HIDDEN)&&it[HIDDEN][key])it[HIDDEN][key]=false;D=_create(D,{enumerable:createDesc(0,false)});}return setSymbolDesc(it,key,D);}return setDesc(it,key,D);};var $defineProperties=function defineProperties(it,P){anObject(it);var keys=enumKeys(P=toIObject(P)),i=0,l=keys.length,key;while(l>i)$defineProperty(it,key=keys[i++],P[key]);return it;};var $create=function create(it,P){return P===undefined?_create(it):$defineProperties(_create(it),P);};var $propertyIsEnumerable=function propertyIsEnumerable(key){var E=isEnum.call(this,key);return E||!has(this,key)||!has(AllSymbols,key)||has(this,HIDDEN)&&this[HIDDEN][key]?E:true;};var $getOwnPropertyDescriptor=function getOwnPropertyDescriptor(it,key){var D=getDesc(it=toIObject(it),key);if(D&&has(AllSymbols,key)&&!(has(it,HIDDEN)&&it[HIDDEN][key]))D.enumerable=true;return D;};var $getOwnPropertyNames=function getOwnPropertyNames(it){var names=getNames(toIObject(it)),result=[],i=0,key;while(names.length>i)if(!has(AllSymbols,key=names[i++])&&key!=HIDDEN)result.push(key);return result;};var $getOwnPropertySymbols=function getOwnPropertySymbols(it){var names=getNames(toIObject(it)),result=[],i=0,key;while(names.length>i)if(has(AllSymbols,key=names[i++]))result.push(AllSymbols[key]);return result;};var $stringify=function stringify(it){if(it===undefined||isSymbol(it))return;var args=[it],i=1,$$=arguments,replacer,$replacer;while($$.length>i)args.push($$[i++]);replacer=args[1];if(typeof replacer=='function')$replacer=replacer;if($replacer||!isArray(replacer))replacer=function(key,value){if($replacer)value=$replacer.call(this,key,value);if(!isSymbol(value))return value;};args[1]=replacer;return _stringify.apply($JSON,args);};var buggyJSON=$fails(function(){var S=$Symbol();return _stringify([S])!='[null]'||_stringify({a:S})!='{}'||_stringify(Object(S))!='{}';});if(!useNative){$Symbol=function Symbol(){if(isSymbol(this))throw TypeError('Symbol is not a constructor');return wrap(uid(arguments.length>0?arguments[0]:undefined));};$redef($Symbol.prototype,'toString',function toString(){return this._k;});isSymbol=function(it){return it instanceof $Symbol;};$.create=$create;$.isEnum=$propertyIsEnumerable;$.getDesc=$getOwnPropertyDescriptor;$.setDesc=$defineProperty;$.setDescs=$defineProperties;$.getNames=$names.get=$getOwnPropertyNames;$.getSymbols=$getOwnPropertySymbols;if(DESCRIPTORS&&!_dereq_(49)){$redef(ObjectProto,'propertyIsEnumerable',$propertyIsEnumerable,true);}}
        var symbolStatics={'for':function(key){return has(SymbolRegistry,key+='')?SymbolRegistry[key]:SymbolRegistry[key]=$Symbol(key);},keyFor:function keyFor(key){return keyOf(SymbolRegistry,key);},useSetter:function(){setter=true;},useSimple:function(){setter=false;}};$.each.call(('hasInstance,isConcatSpreadable,iterator,match,replace,search,'+'species,split,toPrimitive,toStringTag,unscopables').split(','),function(it){var sym=wks(it);symbolStatics[it]=useNative?sym:wrap(sym);});setter=true;$def($def.G+$def.W,{Symbol:$Symbol});$def($def.S,'Symbol',symbolStatics);$def($def.S+$def.F*!useNative,'Object',{create:$create,defineProperty:$defineProperty,defineProperties:$defineProperties,getOwnPropertyDescriptor:$getOwnPropertyDescriptor,getOwnPropertyNames:$getOwnPropertyNames,getOwnPropertySymbols:$getOwnPropertySymbols});$JSON&&$def($def.S+$def.F*(!useNative||buggyJSON),'JSON',{stringify:$stringify});setToStringTag($Symbol,'Symbol');setToStringTag(Math,'Math',true);setToStringTag(global.JSON,'JSON',true);},{"19":19,"21":21,"23":23,"25":25,"29":29,"30":30,"31":31,"37":37,"47":47,"48":48,"49":49,"5":5,"61":61,"62":62,"67":67,"68":68,"79":79,"83":83,"84":84}],171:[function(_dereq_,module,exports){'use strict';var $=_dereq_(47),redef=_dereq_(62),weak=_dereq_(15),isObject=_dereq_(39),has=_dereq_(31),frozenStore=weak.frozenStore,WEAK=weak.WEAK,isExtensible=Object.isExtensible||isObject,tmp={};var $WeakMap=_dereq_(16)('WeakMap',function(get){return function WeakMap(){return get(this,arguments.length>0?arguments[0]:undefined);};},{get:function get(key){if(isObject(key)){if(!isExtensible(key))return frozenStore(this).get(key);if(has(key,WEAK))return key[WEAK][this._i];}},set:function set(key,value){return weak.def(this,key,value);}},weak,true,true);if(new $WeakMap().set((Object.freeze||Object)(tmp),7).get(tmp)!=7){$.each.call(['delete','has','get','set'],function(key){var proto=$WeakMap.prototype,method=proto[key];redef(proto,key,function(a,b){if(isObject(a)&&!isExtensible(a)){var result=frozenStore(this)[key](a,b);return key=='set'?this:result;}return method.call(this,a,b);});});}},{"15":15,"16":16,"31":31,"39":39,"47":47,"62":62}],172:[function(_dereq_,module,exports){'use strict';var weak=_dereq_(15);_dereq_(16)('WeakSet',function(get){return function WeakSet(){return get(this,arguments.length>0?arguments[0]:undefined);};},{add:function add(value){return weak.def(this,value,true);}},weak,false,true);},{"15":15,"16":16}],173:[function(_dereq_,module,exports){'use strict';var $def=_dereq_(19),$includes=_dereq_(8)(true);$def($def.P,'Array',{includes:function includes(el){return $includes(this,el,arguments.length>1?arguments[1]:undefined);}});_dereq_(4)('includes');},{"19":19,"4":4,"8":8}],174:[function(_dereq_,module,exports){var $def=_dereq_(19);$def($def.P,'Map',{toJSON:_dereq_(14)('Map')});},{"14":14,"19":19}],175:[function(_dereq_,module,exports){var $def=_dereq_(19),$entries=_dereq_(57)(true);$def($def.S,'Object',{entries:function entries(it){return $entries(it);}});},{"19":19,"57":57}],176:[function(_dereq_,module,exports){var $=_dereq_(47),$def=_dereq_(19),ownKeys=_dereq_(58),toIObject=_dereq_(79),createDesc=_dereq_(61);$def($def.S,'Object',{getOwnPropertyDescriptors:function getOwnPropertyDescriptors(object){var O=toIObject(object),setDesc=$.setDesc,getDesc=$.getDesc,keys=ownKeys(O),result={},i=0,key,D;while(keys.length>i){D=getDesc(O,key=keys[i++]);if(key in result)setDesc(result,key,createDesc(0,D));else result[key]=D;}return result;}});},{"19":19,"47":47,"58":58,"61":61,"79":79}],177:[function(_dereq_,module,exports){var $def=_dereq_(19),$values=_dereq_(57)(false);$def($def.S,'Object',{values:function values(it){return $values(it);}});},{"19":19,"57":57}],178:[function(_dereq_,module,exports){var $def=_dereq_(19),$re=_dereq_(63)(/[\\^$*+?.()|[\]{}]/g,'\\$&');$def($def.S,'RegExp',{escape:function escape(it){return $re(it);}});},{"19":19,"63":63}],179:[function(_dereq_,module,exports){var $def=_dereq_(19);$def($def.P,'Set',{toJSON:_dereq_(14)('Set')});},{"14":14,"19":19}],180:[function(_dereq_,module,exports){'use strict';var $def=_dereq_(19),$at=_dereq_(71)(true);$def($def.P,'String',{at:function at(pos){return $at(this,pos);}});},{"19":19,"71":71}],181:[function(_dereq_,module,exports){'use strict';var $def=_dereq_(19),$pad=_dereq_(73);$def($def.P,'String',{padLeft:function padLeft(maxLength){return $pad(this,maxLength,arguments.length>1?arguments[1]:undefined,true);}});},{"19":19,"73":73}],182:[function(_dereq_,module,exports){'use strict';var $def=_dereq_(19),$pad=_dereq_(73);$def($def.P,'String',{padRight:function padRight(maxLength){return $pad(this,maxLength,arguments.length>1?arguments[1]:undefined,false);}});},{"19":19,"73":73}],183:[function(_dereq_,module,exports){'use strict';_dereq_(75)('trimLeft',function($trim){return function trimLeft(){return $trim(this,1);};});},{"75":75}],184:[function(_dereq_,module,exports){'use strict';_dereq_(75)('trimRight',function($trim){return function trimRight(){return $trim(this,2);};});},{"75":75}],185:[function(_dereq_,module,exports){var $=_dereq_(47),$def=_dereq_(19),$ctx=_dereq_(18),$Array=_dereq_(17).Array||Array,statics={};var setStatics=function(keys,length){$.each.call(keys.split(','),function(key){if(length==undefined&&key in $Array)statics[key]=$Array[key];else if(key in[])statics[key]=$ctx(Function.call,[][key],length);});};setStatics('pop,reverse,shift,keys,values,entries',1);setStatics('indexOf,every,some,forEach,map,filter,find,findIndex,includes',3);setStatics('join,slice,concat,push,splice,unshift,sort,lastIndexOf,'+'reduce,reduceRight,copyWithin,fill');$def($def.S,'Array',statics);},{"17":17,"18":18,"19":19,"47":47}],186:[function(_dereq_,module,exports){_dereq_(92);var global=_dereq_(30),hide=_dereq_(32),Iterators=_dereq_(46),ITERATOR=_dereq_(84)('iterator'),NL=global.NodeList,HTC=global.HTMLCollection,NLProto=NL&&NL.prototype,HTCProto=HTC&&HTC.prototype,ArrayValues=Iterators.NodeList=Iterators.HTMLCollection=Iterators.Array;if(NL&&!(ITERATOR in NLProto))hide(NLProto,ITERATOR,ArrayValues);if(HTC&&!(ITERATOR in HTCProto))hide(HTCProto,ITERATOR,ArrayValues);},{"30":30,"32":32,"46":46,"84":84,"92":92}],187:[function(_dereq_,module,exports){var $def=_dereq_(19),$task=_dereq_(76);$def($def.G+$def.B,{setImmediate:$task.set,clearImmediate:$task.clear});},{"19":19,"76":76}],188:[function(_dereq_,module,exports){var global=_dereq_(30),$def=_dereq_(19),invoke=_dereq_(34),partial=_dereq_(59),navigator=global.navigator,MSIE=!!navigator&&/MSIE .\./.test(navigator.userAgent);var wrap=function(set){return MSIE?function(fn,time){return set(invoke(partial,[].slice.call(arguments,2),typeof fn=='function'?fn:Function(fn)),time);}:set;};$def($def.G+$def.B+$def.F*MSIE,{setTimeout:wrap(global.setTimeout),setInterval:wrap(global.setInterval)});},{"19":19,"30":30,"34":34,"59":59}],189:[function(_dereq_,module,exports){_dereq_(86);_dereq_(170);_dereq_(125);_dereq_(133);_dereq_(137);_dereq_(138);_dereq_(126);_dereq_(136);_dereq_(135);_dereq_(131);_dereq_(132);_dereq_(130);_dereq_(127);_dereq_(129);_dereq_(134);_dereq_(128);_dereq_(96);_dereq_(95);_dereq_(115);_dereq_(116);_dereq_(117);_dereq_(118);_dereq_(119);_dereq_(120);_dereq_(121);_dereq_(122);_dereq_(123);_dereq_(124);_dereq_(98);_dereq_(99);_dereq_(100);_dereq_(101);_dereq_(102);_dereq_(103);_dereq_(104);_dereq_(105);_dereq_(106);_dereq_(107);_dereq_(108);_dereq_(109);_dereq_(110);_dereq_(111);_dereq_(112);_dereq_(113);_dereq_(114);_dereq_(163);_dereq_(166);_dereq_(169);_dereq_(165);_dereq_(161);_dereq_(162);_dereq_(164);_dereq_(167);_dereq_(168);_dereq_(91);_dereq_(93);_dereq_(92);_dereq_(94);_dereq_(87);_dereq_(88);_dereq_(90);_dereq_(89);_dereq_(154);_dereq_(155);_dereq_(156);_dereq_(157);_dereq_(158);_dereq_(159);_dereq_(139);_dereq_(97);_dereq_(160);_dereq_(171);_dereq_(172);_dereq_(140);_dereq_(141);_dereq_(142);_dereq_(143);_dereq_(144);_dereq_(147);_dereq_(145);_dereq_(146);_dereq_(148);_dereq_(149);_dereq_(150);_dereq_(151);_dereq_(153);_dereq_(152);_dereq_(173);_dereq_(180);_dereq_(181);_dereq_(182);_dereq_(183);_dereq_(184);_dereq_(178);_dereq_(176);_dereq_(177);_dereq_(175);_dereq_(174);_dereq_(179);_dereq_(185);_dereq_(188);_dereq_(187);_dereq_(186);module.exports=_dereq_(17);},{"100":100,"101":101,"102":102,"103":103,"104":104,"105":105,"106":106,"107":107,"108":108,"109":109,"110":110,"111":111,"112":112,"113":113,"114":114,"115":115,"116":116,"117":117,"118":118,"119":119,"120":120,"121":121,"122":122,"123":123,"124":124,"125":125,"126":126,"127":127,"128":128,"129":129,"130":130,"131":131,"132":132,"133":133,"134":134,"135":135,"136":136,"137":137,"138":138,"139":139,"140":140,"141":141,"142":142,"143":143,"144":144,"145":145,"146":146,"147":147,"148":148,"149":149,"150":150,"151":151,"152":152,"153":153,"154":154,"155":155,"156":156,"157":157,"158":158,"159":159,"160":160,"161":161,"162":162,"163":163,"164":164,"165":165,"166":166,"167":167,"168":168,"169":169,"17":17,"170":170,"171":171,"172":172,"173":173,"174":174,"175":175,"176":176,"177":177,"178":178,"179":179,"180":180,"181":181,"182":182,"183":183,"184":184,"185":185,"186":186,"187":187,"188":188,"86":86,"87":87,"88":88,"89":89,"90":90,"91":91,"92":92,"93":93,"94":94,"95":95,"96":96,"97":97,"98":98,"99":99}],190:[function(_dereq_,module,exports){(function(global){!(function(global){"use strict";var hasOwn=Object.prototype.hasOwnProperty;var undefined;var iteratorSymbol=typeof Symbol==="function"&&Symbol.iterator||"@@iterator";var inModule=typeof module==="object";var runtime=global.regeneratorRuntime;if(runtime){if(inModule){module.exports=runtime;}
        return;}
        runtime=global.regeneratorRuntime=inModule?module.exports:{};function wrap(innerFn,outerFn,self,tryLocsList){var generator=Object.create((outerFn||Generator).prototype);var context=new Context(tryLocsList||[]);generator._invoke=makeInvokeMethod(innerFn,self,context);return generator;}
        runtime.wrap=wrap;function tryCatch(fn,obj,arg){try{return{type:"normal",arg:fn.call(obj,arg)};}catch(err){return{type:"throw",arg:err};}}
        var GenStateSuspendedStart="suspendedStart";var GenStateSuspendedYield="suspendedYield";var GenStateExecuting="executing";var GenStateCompleted="completed";var ContinueSentinel={};function Generator(){}
        function GeneratorFunction(){}
        function GeneratorFunctionPrototype(){}
        var Gp=GeneratorFunctionPrototype.prototype=Generator.prototype;GeneratorFunction.prototype=Gp.constructor=GeneratorFunctionPrototype;GeneratorFunctionPrototype.constructor=GeneratorFunction;GeneratorFunction.displayName="GeneratorFunction";function defineIteratorMethods(prototype){["next","throw","return"].forEach(function(method){prototype[method]=function(arg){return this._invoke(method,arg);};});}
        runtime.isGeneratorFunction=function(genFun){var ctor=typeof genFun==="function"&&genFun.constructor;return ctor?ctor===GeneratorFunction||(ctor.displayName||ctor.name)==="GeneratorFunction":false;};runtime.mark=function(genFun){if(Object.setPrototypeOf){Object.setPrototypeOf(genFun,GeneratorFunctionPrototype);}else{genFun.__proto__=GeneratorFunctionPrototype;}
            genFun.prototype=Object.create(Gp);return genFun;};runtime.awrap=function(arg){return new AwaitArgument(arg);};function AwaitArgument(arg){this.arg=arg;}
        function AsyncIterator(generator){function invoke(method,arg){var result=generator[method](arg);var value=result.value;return value instanceof AwaitArgument?Promise.resolve(value.arg).then(invokeNext,invokeThrow):Promise.resolve(value).then(function(unwrapped){result.value=unwrapped;return result;});}
            if(typeof process==="object"&&process.domain){invoke=process.domain.bind(invoke);}
            var invokeNext=invoke.bind(generator,"next");var invokeThrow=invoke.bind(generator,"throw");var invokeReturn=invoke.bind(generator,"return");var previousPromise;function enqueue(method,arg){function callInvokeWithMethodAndArg(){return invoke(method,arg);}
                return previousPromise=previousPromise?previousPromise.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):new Promise(function(resolve){resolve(callInvokeWithMethodAndArg());});}
            this._invoke=enqueue;}
        defineIteratorMethods(AsyncIterator.prototype);runtime.async=function(innerFn,outerFn,self,tryLocsList){var iter=new AsyncIterator(wrap(innerFn,outerFn,self,tryLocsList));return runtime.isGeneratorFunction(outerFn)?iter:iter.next().then(function(result){return result.done?result.value:iter.next();});};function makeInvokeMethod(innerFn,self,context){var state=GenStateSuspendedStart;return function invoke(method,arg){if(state===GenStateExecuting){throw new Error("Generator is already running");}
            if(state===GenStateCompleted){if(method==="throw"){throw arg;}
                return doneResult();}
            while(true){var delegate=context.delegate;if(delegate){if(method==="return"||(method==="throw"&&delegate.iterator[method]===undefined)){context.delegate=null;var returnMethod=delegate.iterator["return"];if(returnMethod){var record=tryCatch(returnMethod,delegate.iterator,arg);if(record.type==="throw"){method="throw";arg=record.arg;continue;}}
                if(method==="return"){continue;}}
                var record=tryCatch(delegate.iterator[method],delegate.iterator,arg);if(record.type==="throw"){context.delegate=null;method="throw";arg=record.arg;continue;}
                method="next";arg=undefined;var info=record.arg;if(info.done){context[delegate.resultName]=info.value;context.next=delegate.nextLoc;}else{state=GenStateSuspendedYield;return info;}
                context.delegate=null;}
                if(method==="next"){context._sent=arg;if(state===GenStateSuspendedYield){context.sent=arg;}else{context.sent=undefined;}}else if(method==="throw"){if(state===GenStateSuspendedStart){state=GenStateCompleted;throw arg;}
                    if(context.dispatchException(arg)){method="next";arg=undefined;}}else if(method==="return"){context.abrupt("return",arg);}
                state=GenStateExecuting;var record=tryCatch(innerFn,self,context);if(record.type==="normal"){state=context.done?GenStateCompleted:GenStateSuspendedYield;var info={value:record.arg,done:context.done};if(record.arg===ContinueSentinel){if(context.delegate&&method==="next"){arg=undefined;}}else{return info;}}else if(record.type==="throw"){state=GenStateCompleted;method="throw";arg=record.arg;}}};}
        defineIteratorMethods(Gp);Gp[iteratorSymbol]=function(){return this;};Gp.toString=function(){return"[object Generator]";};function pushTryEntry(locs){var entry={tryLoc:locs[0]};if(1 in locs){entry.catchLoc=locs[1];}
            if(2 in locs){entry.finallyLoc=locs[2];entry.afterLoc=locs[3];}
            this.tryEntries.push(entry);}
        function resetTryEntry(entry){var record=entry.completion||{};record.type="normal";delete record.arg;entry.completion=record;}
        function Context(tryLocsList){this.tryEntries=[{tryLoc:"root"}];tryLocsList.forEach(pushTryEntry,this);this.reset(true);}
        runtime.keys=function(object){var keys=[];for(var key in object){keys.push(key);}
            keys.reverse();return function next(){while(keys.length){var key=keys.pop();if(key in object){next.value=key;next.done=false;return next;}}
                next.done=true;return next;};};function values(iterable){if(iterable){var iteratorMethod=iterable[iteratorSymbol];if(iteratorMethod){return iteratorMethod.call(iterable);}
            if(typeof iterable.next==="function"){return iterable;}
            if(!isNaN(iterable.length)){var i=-1,next=function next(){while(++i<iterable.length){if(hasOwn.call(iterable,i)){next.value=iterable[i];next.done=false;return next;}}
                next.value=undefined;next.done=true;return next;};return next.next=next;}}
            return{next:doneResult};}
        runtime.values=values;function doneResult(){return{value:undefined,done:true};}
        Context.prototype={constructor:Context,reset:function(skipTempReset){this.prev=0;this.next=0;this.sent=undefined;this.done=false;this.delegate=null;this.tryEntries.forEach(resetTryEntry);if(!skipTempReset){for(var name in this){if(name.charAt(0)==="t"&&hasOwn.call(this,name)&&!isNaN(+name.slice(1))){this[name]=undefined;}}}},stop:function(){this.done=true;var rootEntry=this.tryEntries[0];var rootRecord=rootEntry.completion;if(rootRecord.type==="throw"){throw rootRecord.arg;}
                return this.rval;},dispatchException:function(exception){if(this.done){throw exception;}
                var context=this;function handle(loc,caught){record.type="throw";record.arg=exception;context.next=loc;return!!caught;}
                for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];var record=entry.completion;if(entry.tryLoc==="root"){return handle("end");}
                    if(entry.tryLoc<=this.prev){var hasCatch=hasOwn.call(entry,"catchLoc");var hasFinally=hasOwn.call(entry,"finallyLoc");if(hasCatch&&hasFinally){if(this.prev<entry.catchLoc){return handle(entry.catchLoc,true);}else if(this.prev<entry.finallyLoc){return handle(entry.finallyLoc);}}else if(hasCatch){if(this.prev<entry.catchLoc){return handle(entry.catchLoc,true);}}else if(hasFinally){if(this.prev<entry.finallyLoc){return handle(entry.finallyLoc);}}else{throw new Error("try statement without catch or finally");}}}},abrupt:function(type,arg){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc<=this.prev&&hasOwn.call(entry,"finallyLoc")&&this.prev<entry.finallyLoc){var finallyEntry=entry;break;}}
                if(finallyEntry&&(type==="break"||type==="continue")&&finallyEntry.tryLoc<=arg&&arg<=finallyEntry.finallyLoc){finallyEntry=null;}
                var record=finallyEntry?finallyEntry.completion:{};record.type=type;record.arg=arg;if(finallyEntry){this.next=finallyEntry.finallyLoc;}else{this.complete(record);}
                return ContinueSentinel;},complete:function(record,afterLoc){if(record.type==="throw"){throw record.arg;}
                if(record.type==="break"||record.type==="continue"){this.next=record.arg;}else if(record.type==="return"){this.rval=record.arg;this.next="end";}else if(record.type==="normal"&&afterLoc){this.next=afterLoc;}},finish:function(finallyLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.finallyLoc===finallyLoc){this.complete(entry.completion,entry.afterLoc);resetTryEntry(entry);return ContinueSentinel;}}},"catch":function(tryLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc===tryLoc){var record=entry.completion;if(record.type==="throw"){var thrown=record.arg;resetTryEntry(entry);}
                return thrown;}}
                throw new Error("illegal catch attempt");},delegateYield:function(iterable,resultName,nextLoc){this.delegate={iterator:values(iterable),resultName:resultName,nextLoc:nextLoc};return ContinueSentinel;}};})(typeof global==="object"?global:typeof window==="object"?window:typeof self==="object"?self:this);}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}]},{},[1]);;"use strict";var appMakeBeCool=(typeof appMakeBeCool==='undefined')?{}:console.log('Namespace appMakeBeCool is taken');appMakeBeCool.Site=function($,window,document,undefined){var $window=$(window),$document=$(document),$htmlBody=$('html, body'),_site={properties:{},globals:{siteConfigured:false,siteMode:null,winWidth:0},utils:{},classes:{},classInstances:[],events:{}};_site.init=function(options){var _options=$.extend({onComplete:function(){}},options);_site.config();_site.extendClasses();_site.instantiateClasses();_site.setup();_site.setEventBinds();_site.globals.siteConfigured=true;$window.trigger('siteConfigComplete');_options.onComplete();$window.trigger('siteInitComplete',{options:_options});};_site.setSiteMode=function(){_site.globals.siteMode='ThemeMode';};_site.config=function(){_site.globals.winWidth=$window.width();if(!window.requestAnimationFrame){window.requestAnimationFrame=(window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(callback){return window.setTimeout(callback,1000/60);});}};_site.setup=function(){};_site.setEventBinds=function(){};_site.eventBinds=function(){return{}};_site.extendClasses=function(){_site.utils.extend(site.classes.SiteMode,site.base.Class);};_site.instantiateClasses=function(){site.createClassInstances(_site.getSiteMode());};_site.createClassInstance=function(instanceName,classObject,classProperties,classExtends){if(classExtends)_site.utils.extend(classObject,classExtends);if(typeof instanceName!=='string')return console.log('Error: _site.createClassInstance() expects a string for instanceName');if(typeof classObject!=='function')return console.log('Error: _site.createClassInstance() expects a function for classObject');var _classProperties=classProperties||{};site.classInstances[instanceName]=new classObject(_classProperties,$,$window,$document);return site.classInstances[instanceName];};_site.getSiteObj=function(){return site;};_site.getSiteMode=function(){var siteMode=[];siteMode.push({classObject:_site.globals.siteMode,classExtends:'SiteMode'});return siteMode;};_site.utils={extend:function(subClass,superClass){var F=function(){};F.prototype=superClass.prototype;subClass.prototype=new F();subClass.prototype.constructor=subClass;subClass.superclass=superClass.prototype;if(superClass.prototype.constructor==Object.prototype.constructor){superClass.prototype.constructor=superClass;}},arrayShiftTo:function(array,index,targetIndex){if(typeof array!=='object')return console.log('Error: array provided is not of type object');if(typeof index!=='number'||index<0||index>=array.length)return console.log('error: index provided is not valid');if(typeof targetIndex!=='number'||targetIndex<0||targetIndex>=array.length)return console.log('error: targetIndex provided is not valid');var origItem=array[index];array.splice(index,1);array.splice(targetIndex,0,origItem);return array;},mergeOptions:function(obj1,obj2){var obj3={};for(var attrname in obj1){obj3[attrname]=obj1[attrname];}
        for(var attrname in obj2){obj3[attrname]=obj2[attrname];}
        return obj3;}};var site=this;$.extend(site,{classes:{},modules:{},base:{},classInstances:{}});site.init=function(){if(!$.fn.findAndSelf)$.fn.findAndSelf=function(selector){return this.find(selector).andSelf().filter(selector);}
    _site.setSiteMode();_site.init();};site.addClass=function(name,Class){site.classes[name]=Class;};site.createClassInstance=function(instanceName,classObject,classProperties,classExtends){return _site.createClassInstance(instanceName,classObject,classProperties,classExtends);};site.createClassInstances=function(obj){if(obj.length>0){$.each(obj,function(){var _obj=$.extend({instanceName:this.classObject,classObject:this.classObject,classProperties:{classId:this.classObject},classExtends:site.base.Class},this);if(typeof _obj.classObject==='string')_obj.classObject=site.classes[_obj.classObject];if(typeof _obj.classExtends==='string')_obj.classExtends=site.classes[_obj.classExtends];_site.createClassInstance(_obj.instanceName,_obj.classObject,_obj.classProperties,_obj.classExtends);});}};site.utils={extend:function(subClass,superClass){_site.utils.extend(subClass,superClass);},arrayShiftTo:function(array,index,targetIndex){return _site.utils.arrayShiftTo(array,index,targetIndex);},mergeOptions:function(obj1,obj2){return _site.utils.mergeOptions(obj1,obj2);}};site.getGlobals=function(){return _site.globals;};site.getClassInstance=function(instanceName){return site.classInstances[instanceName];};site.base.Class=function(properties){var _baseClass=this;var _CONSTANTS={VAR_1:null,VAR_2:null};var _defaults={sourceEl:null,classId:null,classType:null,msg:'This is the default base message',debugMode:false,eventsLog:{binds:[],triggers:[]},classDependents:[],triggerSrc:null,instanceName:'',autoCallCreateComplete:true,instanceIdAttr:'data-mbc-instance-id',onCreateComplete:function(){},onLoadComplete:function(){},onDestroyComplete:function(){}};_baseClass.properties=$.extend(_defaults,properties);_baseClass.globals={classId:'',alive:false,instantiated:false,setupComplete:false,createComplete:false,loadComplete:false,classDependentsInstantiated:false,classDependentsInstances:[],classType:'',timeouts:[],intervals:[],customCreate:function(){},customCreateComplete:function(){},customDestroy:function(){},customDestroyComplete:function(){},customResurrect:function(){},customLoadComplete:function(){}};var _init=function(){_config();};var _config=function(){_baseClass.globals.classType=_baseClass.properties.classType||_baseClass.properties.classId;_baseClass.properties.sourceEl=$(_baseClass.properties.sourceEl);_baseClass.globals.classId=_baseClass.properties.classId||instance;};var _setup=function(){};_baseClass.getConstants=function(){return _CONSTANTS;};_init();};site.base.Class.prototype={addMethod:function(name,fn){var _baseClass=this;if(!name||typeof fn!=='function')return _baseClass.logError('addMethod() parameters passed in are invalid');if(!_baseClass[name])_baseClass[name]=fn;},create:function(options){var _baseClass=this;var _options=$.extend({createStart:function(){},createComplete:function(){}},options);if(_baseClass.globals.alive){_baseClass.log(_baseClass);return _baseClass.logWarning('Class.create cannot create class, it is already created.');}
        _baseClass.globals.alive=true;_baseClass.createStart(_options.createStart);_baseClass.createClassDependents();if(_baseClass.properties.sourceEl.length>0)_baseClass.properties.sourceEl.attr(_baseClass.properties.instanceIdAttr,_baseClass.globals.classId);if(typeof _baseClass.globals.customCreate==='function'&&!_baseClass.globals.instantiated){_baseClass.globals.customCreate();}else if(typeof _baseClass.globals.customResurrect==='function'&&_baseClass.globals.instantiated){_baseClass.globals.customResurrect();}
        _baseClass.globals.setupComplete=true;if(_baseClass.properties.autoCallCreateComplete===true){_baseClass.createComplete(_options.createComplete);}
        return true;},destroy:function(options){var _baseClass=this;var _options=$.extend({destroyStart:function(){},destroyComplete:function(){}},options);if(!_baseClass.globals.alive)return _baseClass.logWarning('Class.destroy cannot destroy class, it has not been created.');_baseClass.destroyStart(function(){_baseClass.destroyClassDependents();if(typeof _baseClass.globals.customDestroy==='function')_baseClass.globals.customDestroy();_baseClass.globals.alive=false;_baseClass.destroyComplete(_options.destroyComplete);});_baseClass.clearAllTimeouts();_baseClass.clearAllIntervals();return true;},createClassDependents:function(){var _baseClass=this;if(_baseClass.globals.classDependentsInstantiated){$.each(_baseClass.globals.classDependentsInstances,function(i){var _this=this;_this.create();});return true;}
        if(_baseClass.properties.classDependents.length<1)return false;$.each(_baseClass.properties.classDependents,function(){_site.utils.extend(this.obj,site.base.Class);var _properties=$.extend({onCreateComplete:function(){setTimeout(function(){if(!_baseClass.globals.createComplete)_baseClass.createComplete();},1);}},this.properties);_baseClass.globals.classDependentsInstances.push(new this.obj(_properties));});_baseClass.globals.classDependentsInstantiated=true;return true;},destroyClassDependents:function(){var _baseClass=this;if(_baseClass.globals.classDependentsInstances.length<1)return false;$.each(_baseClass.globals.classDependentsInstances,function(){var _this=this;_this.destroy();});return true;},classDependentsStatus:function(){var _baseClass=this;if(_baseClass.properties.classDependents.length===0)return true;var _ret={setupComplete:true,loadComplete:true};$.each(_baseClass.properties.classDependents,function(i){if(!_baseClass.globals.classDependentsInstances[i].globals.setupComplete)_ret=$.extend(_ret,{setupComplete:false});if(!_baseClass.globals.classDependentsInstances[i].globals.loadComplete)_ret=$.extend(_ret,{loadComplete:false});});return _ret;},getInstanceName:function(){var _baseClass=this;if(_baseClass.properties.instanceName){return _baseClass.properties.instanceName;}else{return false;}},createStart:function(fn){var _baseClass=this;if(typeof fn==='function')fn();},createComplete:function(fn){var _baseClass=this;if(_baseClass.globals.createComplete)return false;if(_baseClass.globals.classDependentsInstances.length>0)_baseClass.loadCompleteChecker();if(_baseClass.globals.classDependentsInstances.length>0&&!_baseClass.classDependentsStatus().setupComplete){return false;}
        var _fn=function(){if(typeof fn==='function')fn();_baseClass.properties.onCreateComplete();_baseClass.globals.customCreateComplete();_baseClass.globals.createComplete=true;_baseClass.globals.instantiated=true;$window.trigger('classCreateComplete',{classId:_baseClass.properties.classId,classType:_baseClass.globals.classType});if(_baseClass.isLoaded())_baseClass.globals.loadComplete=true;};if(typeof _fn==='function')_fn();return true;},loadComplete:function(fn){var _baseClass=this;var _fn=function(){if(typeof fn==='function')fn();_baseClass.properties.onLoadComplete();_baseClass.globals.customLoadComplete();_baseClass.globals.loadComplete=true;};_fn();},destroyStart:function(fn){var _baseClass=this;this.trigger('classDestroyStart',{classId:_baseClass.properties.classId,classType:_baseClass.globals.classType});if(typeof fn==='function')fn();},destroyComplete:function(fn){var _baseClass=this;var _fn=function(){if(typeof fn==='function')fn();_baseClass.properties.onDestroyComplete();_baseClass.globals.customDestroyComplete();_baseClass.globals.createComplete=false;_baseClass.trigger('classDestroyComplete',{classId:_baseClass.properties.classId,classType:_baseClass.globals.classType});};if(typeof fn==='function')_fn();},isLoaded:function(){var _baseClass=this;if(!_baseClass.globals.createComplete)return false;else if(_baseClass.globals.classDependentsInstances<1)return true;else if(_baseClass.classDependentsStatus().loadComplete)return true;else return false;},loadCompleteChecker:function(){var _baseClass=this;var __baseClass=_baseClass;var interval=__baseClass.setInterval(function(){if(__baseClass.isLoaded()){__baseClass.clearInterval(interval);_baseClass=__baseClass;__baseClass.loadComplete();}},60);},log:function(msg,obj){var _baseClass=this;if(!_baseClass.properties.debugMode)return;if(typeof msg==='object'){obj=msg;msg='';}
        if(typeof obj!=='object')obj='';if(typeof console==='object'&&typeof console.log==='function'){console.log(_baseClass.globals.classId+': '+msg,obj);}},logError:function(msg,obj){var _baseClass=this;_baseClass.log('Error - '+msg,obj);},logWarning:function(msg,obj){var _baseClass=this;_baseClass.log('Warning - '+msg,obj);},logNotice:function(msg,obj){var _baseClass=this;_baseClass.log('Notice - '+msg,obj);},setInterval:function(fn,duration){var _baseClass=this;if(typeof fn!=='function')return _baseClass.logError('setInterval() fn provided is not a function');var _duration=duration||1;var interval=setInterval(fn,duration);_baseClass.globals.intervals.push(interval);return interval;},clearInterval:function(id){var _baseClass=this;clearInterval(id);},clearAllIntervals:function(){var _baseClass=this;if(_baseClass.globals.intervals.length===0)return false;$.each(_baseClass.globals.intervals,function(){_baseClass.clearInterval(this);});_baseClass.globals.intervals=[];return true;},setTimeout:function(fn,duration){var _baseClass=this;if(typeof fn!=='function')return _baseClass.logError('setTimeout() fn provided is not a function');var _duration=duration||1;var timeout=setTimeout(fn,duration);_baseClass.globals.timeouts.push(timeout);return timeout;},clearTimeout:function(id){var _baseClass=this;clearTimeout(id);},clearAllTimeouts:function(){var _baseClass=this;if(_baseClass.globals.timeouts.length===0)return false;$.each(_baseClass.globals.timeouts,function(){_baseClass.clearTimeout(this);});_baseClass.globals.timeouts=[];return true;},on:function(el,event,fn){var _baseClass=this;if(_baseClass.properties.debugMode){console.log('SET LIVE - class:'+_baseClass.globals.classId+', event:'+event);}
        el.on(event,function(e,data){if(_baseClass.properties.debugMode&&event!='scroll'){console.log('LIVE - class:'+_baseClass.globals.classId+', event:'+event);}
            if(typeof fn==='function')fn(e,data,this);});},bind:function(el,event,fn){var _baseClass=this;if(_baseClass.properties.debugMode){console.log('SET BIND - class:'+_baseClass.globals.classId+', event:'+event);}
        el.bind(event,function(e,data){if(_baseClass.properties.debugMode&&event!='scroll'){console.log('BIND - class:'+_baseClass.globals.classId+', event:'+event);}
            if(typeof fn==='function')fn(e,data,this);});},unbind:function(el,event){var _baseClass=this;if(_baseClass.properties.debugMode){console.log('UNBIND - class:'+_baseClass.globals.classId+', event:'+event);}
        el.unbind(event,function(e){if(_baseClass.properties.debugMode){console.log('UNBIND - class:'+_baseClass.globals.classId+', event:'+event);}});},trigger:function(name,data){var _baseClass=this;var _data;if(!data)_data={};else _data=data;if(_baseClass.properties.debugMode&&event!='scroll'){console.log('TRIGGER - class:'+_baseClass.globals.classId+', event:'+name);}
        $window.trigger(name,_data);return true;},makeTemplate:function(template,data){var output,pattern,varName,varValue,_ref;pattern=/(?:\{{2})([\w\[\]\.]+)(?:\}{2})/;output=template;while(pattern.test(output)){varName=output.match(pattern)[1];varValue=(_ref=this.getObjectProperty(data,varName))!=null?_ref:'';output=output.replace(pattern,""+varValue);}
        return output;},getObjectProperty:function(object,property){var piece,pieces;property=property.replace(/\[(\w+)\]/g,'.$1');pieces=property.split('.');while(pieces.length){piece=pieces.shift();if((object!=null)&&piece in object){object=object[piece];}else{return null;}}
        return object;},getRequestArgs:function(){var result=[];var location=window.location.search;if(location=='undefined'||location==''||location==undefined)return result;location=location.split('?');location=location[1].split('&');for(var i=0;i<location.length;i++){var temp=location[i].split('=');result[temp[0]]=temp[1];}
        return result;},};};appMakeBeCool.gateway=new appMakeBeCool.Site(jQuery,window,window.document);if(!appMakeBeCool.gateway)appMakeBeCool.gateway=new appMakeBeCool.Site();"use strict";appMakeBeCool.gateway.addClass('SiteMode',function(properties,$window,$document){var _siteMode=this,_defaults={},_properties=$.extend(_defaults,properties),_globals={},_init=function(){appMakeBeCool.gateway.base.Class.apply(_siteMode,[_properties]);_siteMode.globals.customCreate=function(){_config();_setup();_setBinds();_setCustomMethods()};_siteMode.create();},_config=function(){},_setup=function(){},_setBinds=function(){},_setCustomMethods=function(){_siteMode.globals.customResurrect=function(){};_siteMode.globals.customDestroy=function(){};};_siteMode.addMethod('init',function(){});_siteMode.addMethod('getSiteGlobals',function(){return appMakeBeCool.gateway.getGlobals();});_siteMode.addMethod('getSiteObj',function(){return appMakeBeCool.gateway;});_init();});"use strict";appMakeBeCool.gateway.addClass('ThemeMode',function(properties,$,$window,$document){var _themeMode=this,_defaults={classMode:'theme-mode'},_properties=$.extend(_defaults,properties),_globals={siteObj:null,preloaded:false},_init=function(){appMakeBeCool.gateway.classes.SiteMode.apply(_themeMode,[_properties]);if(!_globals.preloaded){return _themeMode.init();}
    _config();_extendClasses();_instantiateClasses();_setup();_setBinds();_setCustomMethods();_themeMode.trigger(_themeMode.globals.classType+'_Complete');},_config=function(){_globals.siteObj=_themeMode.getSiteObj();},_extendClasses=function(){_globals.siteObj.utils.extend(_globals.siteObj.classes.SearchPromoCode,_globals.siteObj.base.Class);_globals.siteObj.utils.extend(_globals.siteObj.classes.PromoCodePage,_globals.siteObj.base.Class);_globals.siteObj.utils.extend(_globals.siteObj.classes.ConfirmEmail,_globals.siteObj.base.Class);_globals.siteObj.utils.extend(_globals.siteObj.classes.ScrollTop,_globals.siteObj.base.Class);_globals.siteObj.utils.extend(_globals.siteObj.classes.tabsDashboard,_globals.siteObj.base.Class);_globals.siteObj.utils.extend(_globals.siteObj.classes.FormValidate,_globals.siteObj.base.Class);_globals.siteObj.utils.extend(_globals.siteObj.classes.FormAjax,_globals.siteObj.base.Class);_globals.siteObj.utils.extend(_globals.siteObj.classes.BgImages,_globals.siteObj.base.Class);_globals.siteObj.utils.extend(_globals.siteObj.classes.SettingPage,_globals.siteObj.base.Class);_globals.siteObj.utils.extend(_globals.siteObj.classes.GalleriesFunctions,_globals.siteObj.base.Class);_globals.siteObj.utils.extend(_globals.siteObj.classes.SearchControl,_globals.siteObj.base.Class);_globals.siteObj.utils.extend(_globals.siteObj.classes.ModalWindows,_globals.siteObj.base.Class);_globals.siteObj.utils.extend(_globals.siteObj.classes.FormsFunctions,_globals.siteObj.base.Class);_globals.siteObj.utils.extend(_globals.siteObj.classes.WidgetVideo,_globals.siteObj.base.Class);_globals.siteObj.utils.extend(_globals.siteObj.classes.Dropdown,_globals.siteObj.base.Class);_globals.siteObj.utils.extend(_globals.siteObj.classes.MenuToggle,_globals.siteObj.base.Class);_globals.siteObj.utils.extend(_globals.siteObj.classes.Packery,_globals.siteObj.base.Class);_globals.siteObj.utils.extend(_globals.siteObj.classes.LightGallery,_globals.siteObj.base.Class);_globals.siteObj.utils.extend(_globals.siteObj.classes.Droppable,_globals.siteObj.base.Class);_globals.siteObj.utils.extend(_globals.siteObj.classes.CatalogSide,_globals.siteObj.base.Class);_globals.siteObj.utils.extend(_globals.siteObj.classes.FileUpload,_globals.siteObj.base.Class);_globals.siteObj.utils.extend(_globals.siteObj.classes.Watermark,_globals.siteObj.base.Class);_globals.siteObj.utils.extend(_globals.siteObj.classes.galleryPage,_globals.siteObj.base.Class);_globals.siteObj.utils.extend(_globals.siteObj.classes.CountArticles,_globals.siteObj.base.Class);_globals.siteObj.utils.extend(_globals.siteObj.classes.PersonalArea,_globals.siteObj.base.Class);_globals.siteObj.utils.extend(_globals.siteObj.classes.ContactsPage,_globals.siteObj.base.Class);_globals.siteObj.utils.extend(_globals.siteObj.classes.Notice,_globals.siteObj.base.Class);_globals.siteObj.utils.extend(_globals.siteObj.classes.feedbackPopup,_globals.siteObj.base.Class);_globals.siteObj.utils.extend(_globals.siteObj.classes.Lightbox,_globals.siteObj.base.Class);_globals.siteObj.utils.extend(_globals.siteObj.classes.clientTabs,_globals.siteObj.base.Class);_globals.siteObj.utils.extend(_globals.siteObj.classes.plans,_globals.siteObj.base.Class);_globals.siteObj.utils.extend(_globals.siteObj.classes.tabsDashboard,_globals.siteObj.base.Class);_globals.siteObj.utils.extend(_globals.siteObj.classes.OrderFunctions,_globals.siteObj.base.Class);_globals.siteObj.utils.extend(_globals.siteObj.classes.dashboardFunctions,_globals.siteObj.base.Class);},_instantiateClasses=function(){_globals.siteObj.createClassInstance('SearchPromoCode',_globals.siteObj.classes.SearchPromoCode,{classId:'SearchPromoCode'});_globals.siteObj.createClassInstance('PromoCodePage',_globals.siteObj.classes.PromoCodePage,{classId:'PromoCodePage'});_globals.siteObj.createClassInstance('ConfirmEmail',_globals.siteObj.classes.ConfirmEmail,{classId:'ConfirmEmail'});_globals.siteObj.createClassInstance('ScrollTop',_globals.siteObj.classes.ScrollTop,{classId:'ScrollTop'});_globals.siteObj.createClassInstance('tabsDashboard',_globals.siteObj.classes.tabsDashboard,{classId:'tabsDashboard'});_globals.siteObj.createClassInstance('formValidate',_globals.siteObj.classes.FormValidate,{classId:'FormValidate'});_globals.siteObj.createClassInstance('formAjax',_globals.siteObj.classes.FormAjax,{classId:'FormAjax'});_globals.siteObj.createClassInstance('BgImages',_globals.siteObj.classes.BgImages,{classId:'BgImages'});_globals.siteObj.createClassInstance('SettingPage',_globals.siteObj.classes.SettingPage,{classId:'SettingPage'});_globals.siteObj.createClassInstance('GalleriesFunctions',_globals.siteObj.classes.GalleriesFunctions,{classId:'GalleriesFunctions'});_globals.siteObj.createClassInstance('SearchControl',_globals.siteObj.classes.SearchControl,{classId:'SearchControl'});_globals.siteObj.createClassInstance('ModalWindows',_globals.siteObj.classes.ModalWindows,{classId:'ModalWindows'});_globals.siteObj.createClassInstance('FormsFunctions',_globals.siteObj.classes.FormsFunctions,{classId:'FormsFunctions'});_globals.siteObj.createClassInstance('WidgetVideo',_globals.siteObj.classes.WidgetVideo,{classId:'WidgetVideo'});_globals.siteObj.createClassInstance('Dropdown',_globals.siteObj.classes.Dropdown,{classId:'Dropdown'});_globals.siteObj.createClassInstance('MenuToggle',_globals.siteObj.classes.MenuToggle,{classId:'MenuToggle'});_globals.siteObj.createClassInstance('Packery',_globals.siteObj.classes.Packery,{classId:'Packery'});_globals.siteObj.createClassInstance('LightGallery',_globals.siteObj.classes.LightGallery,{classId:'LightGallery'});_globals.siteObj.createClassInstance('Droppable',_globals.siteObj.classes.Droppable,{classId:'Droppable'});_globals.siteObj.createClassInstance('CatalogSide',_globals.siteObj.classes.CatalogSide,{classId:'CatalogSide'});_globals.siteObj.createClassInstance('FileUpload',_globals.siteObj.classes.FileUpload,{classId:'FileUpload'});_globals.siteObj.createClassInstance('Watermark',_globals.siteObj.classes.Watermark,{classId:'Watermark'});_globals.siteObj.createClassInstance('galleryPage',_globals.siteObj.classes.galleryPage,{classId:'galleryPage'});_globals.siteObj.createClassInstance('CountArticles',_globals.siteObj.classes.CountArticles,{classId:'CountArticles'});_globals.siteObj.createClassInstance('PersonalArea',_globals.siteObj.classes.PersonalArea,{classId:'PersonalArea'});_globals.siteObj.createClassInstance('ContactsPage',_globals.siteObj.classes.ContactsPage,{classId:'ContactsPage'});_globals.siteObj.createClassInstance('Notice',_globals.siteObj.classes.Notice,{classId:'Notice'});_globals.siteObj.createClassInstance('feedbackPopup',_globals.siteObj.classes.feedbackPopup,{classId:'feedbackPopup'});_globals.siteObj.createClassInstance('Lightbox',_globals.siteObj.classes.Lightbox,{classId:'Lightbox'});_globals.siteObj.createClassInstance('clientTabs',_globals.siteObj.classes.clientTabs,{classId:'clientTabs'});_globals.siteObj.createClassInstance('plans',_globals.siteObj.classes.plans,{classId:'plans'});_globals.siteObj.createClassInstance('tabsDashboard',_globals.siteObj.classes.tabsDashboard,{classId:'tabsDashboard'});_globals.siteObj.createClassInstance('OrderFunctions',_globals.siteObj.classes.OrderFunctions,{classId:'OrderFunctions'});_globals.siteObj.createClassInstance('dashboardFunctions',_globals.siteObj.classes.dashboardFunctions,{classId:'dashboardFunctions'});},_setup=function(){$('body').addClass(_properties.classMode);},_setBinds=function(){_binds().setCompleteBind();},_binds=function(){return{setCompleteBind:function(){_themeMode.bind($window,_themeMode.globals.classType+'_Complete',function(e,data){_themeMode.trigger('SearchPromoCode_Init',data);_themeMode.trigger('PromoCodePage_Init',data);_themeMode.trigger('ConfirmEmail_Init',data);_themeMode.trigger('ScrollTop_Init',data);_themeMode.trigger('tabsDashboard_Init',data);_themeMode.trigger('FormValidate_Init',data);_themeMode.trigger('FormAjax_Init',data);_themeMode.trigger('BgImages_Init',data);_themeMode.trigger('SettingPage_Init',data);_themeMode.trigger('GalleriesFunctions_Init',data);_themeMode.trigger('SearchControl_Init',data);_themeMode.trigger('ModalWindows_Init',data);_themeMode.trigger('FormsFunctions_Init',data);_themeMode.trigger('WidgetVideo_Init',data);_themeMode.trigger('Dropdown_Init',data);_themeMode.trigger('MenuToggle_Init',data);_themeMode.trigger('Packery_Init',data);_themeMode.trigger('LightGallery_Init',data);_themeMode.trigger('Droppable_Init',data);_themeMode.trigger('CatalogSide_Init',data);_themeMode.trigger('FileUpload_Init',data);_themeMode.trigger('Watermark_Init',data);_themeMode.trigger('galleryPage_Init',data);_themeMode.trigger('CountArticles_Init',data);_themeMode.trigger('ContactsPage_Init',data);_themeMode.trigger('PersonalArea_Init',data);_themeMode.trigger('Notice_Init',data);_themeMode.trigger('feedbackPopup_Init',data);_themeMode.trigger('Lightbox_Init',data);_themeMode.trigger('clientTabs_Init',data);_themeMode.trigger('plans_Init',data);_themeMode.trigger('tabsDashboard_Init',data);_themeMode.trigger('OrderFunctions_Init',data);_themeMode.trigger('dashboardFunctions_Init',data);});}}},_setCustomMethods=function(){_themeMode.globals.customResurrect=function(){};_themeMode.globals.customDestroy=function(){};};_themeMode.addMethod('init',function(){_themeMode.bind($window,'siteConfigComplete',function(){_globals.preloaded=true;_init();});});_init();});"use strict";appMakeBeCool.gateway.addClass('FormAjax',function(properties,$,$window,$document){var _formAjax=this,_d={forms:['#contact-form'],successMessageSuffix:'success',errorMessageSuffix:'fail'},_p=$.extend(_d,properties),_g={forms:[],successMessages:[],errorMessages:[],preloaded:false},_init=function(){appMakeBeCool.gateway.base.Class.apply(_formAjax,[_p]);if(!_g.preloaded){return _formAjax.init();}
    _formAjax.globals.customCreate=function(){_config();_setup();_setBinds();_setCustomMethods();};_formAjax.create();},_config=function(){if(_p.forms.length){for(var i in _p.forms){_g.forms.push($(_p.forms[i]));_g.successMessages.push($(_p.forms[i]+_p.successMessageSuffix));}}},_setup=function(){if(_g.forms.length>1){for(var i in _g.forms){_g.forms[0].ajaxForm({dataType:'json',beforeSubmit:_formBeforeSubmit,success:_formSuccess,error:_formError});}}},_setBinds=function(){},_binds=function(){return{}},_triggers=function(){return{}},_setCustomMethods=function(){_formAjax.globals.customResurrect=function(){};_formAjax.globals.customDestroy=function(){};},_formBeforeSubmit=function(arr,$form,options){},_formError=function(response,statusText,xhr,$form){if(response.error){$('.popup').addClass('fail');var $message=$('.'+_p.errorMessageSuffix);var $btn=$message.find('.eerepeate');$btn.on('click',function(){$('.popup').removeClass('fail');});}else{for(var key in response.errors){var el=$('#'+key);el.addClass('error');}}},_formSuccess=function(response,statusText,xhr,$form){if(response.success){$('.popup').addClass('success');var $message=$('.'+_p.successMessageSuffix);var $btn=$message.find('.repeate');$btn.on('click',function(){$form.resetForm();$('.popup').removeClass('success');});}else{$('.popup').addClass('fail');$message=$('.'+_p.errorMessageSuffix);$btn=$message.find('.repeate');$btn.on('click',function(){$('.popup').removeClass('fail');});}};_formAjax.addMethod('init',function(){_formAjax.bind($window,_formAjax.globals.classType+'_Init',function(e,data,el){_g.preloaded=true;_init();});});_init();});"use strict";appMakeBeCool.gateway.addClass('FormValidate',function(properties,$,$window,$document){var _formValidate=this,_d={forms:['#create-gallery','#accountInfo','#contactNew','#studioSettings','#contact-form','#contactNew','#lightboxEnter','#changeAccountPass'],sideFormSubmitBtn:".form-submit-btn"},_p=$.extend(_d,properties),_g={forms:[],sideFormSubmitBtn:null,preloaded:false},_init=function(){appMakeBeCool.gateway.base.Class.apply(_formValidate,[_p]);if(!_g.preloaded){return _formValidate.init();}
    _formValidate.globals.customCreate=function(){_config();_setup();_setBinds();_setCustomMethods();};_formValidate.create();},_config=function(){_g.sideFormSubmitBtn=$(_p.sideFormSubmitBtn);if(_p.forms.length){for(var i in _p.forms){_g.forms.push($(_p.forms[i]));}}},_setup=function(){if(_g.forms.length){for(var i in _g.forms){_g.forms[i].validate({rules:{question:{required:true,minlength:5},message:{required:true,minlength:5},galleryName:{required:true,minlength:4},email:{required:true,email:true},phone:{required:true},firstname:{required:true,minlength:2},lastname:{required:true,minlength:2},birthday:{required:true},country:{required:true},region:{required:true,minlength:5},index:{required:true,minlength:3},city:{required:true,minlength:3},street:{required:true,minlength:3},house:{required:true},corps:{required:true},flat:{required:true},notes:{required:true},pass:{required:true},newpass:{required:true,minlength:6},repass:{required:true,equalTo:'#newpass'},},messages:{firstname:{required:global.validationMessages.firstname},lastname:{required:global.validationMessages.lastname},phone:{required:global.validationMessages.phone},birthday:{required:global.validationMessages.birthday},country:{required:global.validationMessages.country},region:{required:global.validationMessages.region},index:{required:global.validationMessages.index},city:{required:global.validationMessages.city},street:{required:global.validationMessages.street},house:{required:global.validationMessages.house},corps:{required:global.validationMessages.corps},flat:{required:global.validationMessages.flat},notes:{required:global.validationMessages.notes},question:{required:global.validationMessages.question},galleryName:{required:global.validationMessages.galleryName},email:{required:global.validationMessages.emailRequired,email:global.validationMessages.email},pass:{required:global.validationMessages.passwordRequired,},repass:{required:global.validationMessages.repasswordRequired,equalTo:global.validationMessages.repassEqual,},newpass:{required:global.validationMessages.newpasswordRequired,},text:global.validationMessages.text,message:global.validationMessages.text},errorPlacement:function(error,element){$(element).parent().addClass('error');$(element).parent().append(error);},success:function(element){$(element).parent().removeClass('error');}});}}},_setBinds=function(){_binds().setSideFormSubmit();},_binds=function(){return{setSideFormSubmit:function(){_g.sideFormSubmitBtn.on('click',function(e){e.preventDefault();let id=$(e.target).attr('href');_formSubmit($(id));});}}},_formSubmit=function($form){$form.submit();},_triggers=function(){return{}},_setCustomMethods=function(){_formValidate.globals.customResurrect=function(){};_formValidate.globals.customDestroy=function(){};};_formValidate.addMethod('init',function(){_formValidate.bind($window,_formValidate.globals.classType+'_Init',function(e,data,el){_g.preloaded=true;_init();});});_init();});"use strict";appMakeBeCool.gateway.addClass('BgImages',function(properties,$,$window,$document){var _bgimages=this,_d={bgImages:'.bg-image',},_p=$.extend(_d,properties),_g={bgImages:null,preloaded:false},_init=function(){appMakeBeCool.gateway.base.Class.apply(_bgimages,[_p]);if(!_g.preloaded){return _bgimages.init();}
    _bgimages.globals.customCreate=function(){_config();_setup();_setBinds();_setCustomMethods();}
    _bgimages.create();},_config=function(){_g.bgImages=$(_p.bgImages);},_setup=function(){bgImages_init();},_setBinds=function(){_binds().reinit();},_binds=function(){return{reinit:function(){_bgimages.bind($window,'bgImages_reinit',function(e,data,el){_config();bgImages_reinit();});}}},_triggers=function(){return{}},bgImages_init=function(){if(_g.bgImages.length){_g.bgImages.each(function(){var $node=$(this);if($node.hasClass('img-added')){return false;}
    $node.addClass('img-added');var imgUrl=$node.data('bgimage');$node.css({backgroundImage:"url('"+imgUrl+"')"});});}},bgImages_reinit=function(){let $photos=_g.bgImages.not('.img-added');$photos.each(function(){var $node=$(this);if($node.hasClass('img-added')){return false;}
    $node.addClass('img-added');var imgUrl=$node.data('bgimage');$node.css({backgroundImage:"url('"+imgUrl+"')"});});},_setCustomMethods=function(){_bgimages.globals.customResurrect=function(){}
    _bgimages.globals.customDestroy=function(){}}
    _bgimages.addMethod('init',function(){_bgimages.bind($window,_bgimages.globals.classType+'_Init',function(e,data,el){_g.preloaded=true;_init();});});_init();});"use strict";appMakeBeCool.gateway.addClass('SettingPage',function(properties,$,$window,$document){var _settingPage=this,_d={selectNav:'.nav-page__select select',listNav:'.nav-page__list li a',navBlock:'.nav-page',header:'#header',changeView:'.change-template input',headingWrap:'.heading-wrap',heading:'.heading--setting-page',navSelectWrap:'.nav-page__select-wrap',saveSettingsBtn:'#saveSettings',settingsForm:'#settingsForm',studioSettingsForm:'#studioSettings',saveStudioSettingsBtn:'.saveStudioSettings',studioSettingsOptions:'.settings--options',studioSettingsSocials:'.settings--socials',studioSettingsContacts:'.settings--show',accessibilitySelect:'#accessibility',deleteGalleryBtn:'#deleteGallery',cancelDelete:'#cancelDelete',addMore:'.btn--add-more'},_p=$.extend(_d,properties),_g={selectNav:null,listNav:null,navBlock:null,header:null,changeView:null,headingWrap:null,heading:null,navSelectWrap:null,saveSettingsBtn:null,settingsForm:null,studioSettingsForm:null,saveStudioSettingsBtn:null,studioSettingsOptions:null,studioSettingsSocials:null,studioSettingsContacts:null,accessibilitySelect:null,deleteGalleryBtn:null,cancelDelete:null,addMore:null,preloaded:false},_init=function(){appMakeBeCool.gateway.base.Class.apply(_settingPage,[_p]);if(!_g.preloaded){return _settingPage.init();}
    _settingPage.globals.customCreate=function(){_config();_setup();_setBinds();_setCustomMethods();};_settingPage.create();},_config=function(){_g.selectNav=$(_p.selectNav);_g.listNav=$(_p.listNav);_g.navBlock=$(_p.navBlock);_g.header=$(_p.header);_g.changeView=$(_p.changeView);_g.headingWrap=$(_p.headingWrap);_g.heading=$(_p.heading);_g.navSelectWrap=$(_p.navSelectWrap);_g.saveSettingsBtn=$(_p.saveSettingsBtn);_g.settingsForm=$(_p.settingsForm);_g.studioSettingsForm=$(_p.studioSettingsForm);_g.saveStudioSettingsBtn=$(_p.saveStudioSettingsBtn);_g.studioSettingsOptions=$(_p.studioSettingsOptions);_g.studioSettingsSocials=$(_p.studioSettingsSocials);_g.studioSettingsContacts=$(_p.studioSettingsContacts);_g.accessibilitySelect=$(_p.accessibilitySelect);_g.deleteGalleryBtn=$(_p.deleteGalleryBtn);_g.cancelDelete=$(_p.cancelDelete);_g.addMore=$(_p.addMore);},_setup=function(){_setSelectsData();_setCheckboxData();},_setBinds=function(){_binds().changeSelectNav();_binds().navListClick();_binds().fixedListNav();_binds().fixedHeading();_binds().changeTempImg();_binds().changeNavActive();_binds().setSaveSettings();_binds().setSaveStudioSettings();_binds().setChangeAccessibilitySelect();_binds().setDeleteGalleryClick();_binds().setSubmitDeleteGalleryPopup();_binds().setCancelDeleteGalleryPopup();_binds().addMorePosition();_binds().setClickMoreInfo();},_binds=function(){return{changeSelectNav:function(){_g.selectNav.change(function(){let id='#'+$(this).val();_clickScroll(id)});},navListClick:function(){_g.listNav.on('click',function(e){e.preventDefault();let id='#'+$(this).data('scroll');_clickScroll(id);})},addMorePosition:function(){$('body').on('click','.btn--remove-more',function(e){e.preventDefault();$(this).closest('.more-wrap').remove();});$('body').on('click','.btn--add-more',function(e){e.preventDefault();var moreSection=$(this).closest('.more-wrap').clone();moreSection.find('.select2').remove();$(this).closest('.more-wrap').find('.btn--remove-more').addClass('active');$(this).closest('.more-wrap').after(moreSection);$(this).closest('.more-wrap').find('.btn--add').remove();$('select.form-control').select2({minimumResultsForSearch:Infinity,containerCssClass:"select-papa",dropdownCssClass:"select-papa__dropped"});$('select.form-control').on('select2:open',function(e){let wrap=$(this).closest('.form-group');wrap.addClass('focus');});$('select.form-control').on('select2:close',function(e){let wrap=$(this).closest('.form-group');wrap.removeClass('focus');});});},fixedListNav:function(){if(_g.navBlock.length>0){$window.on('scroll',function(){if($window.scrollTop()+_g.header.height()+40>_g.navBlock.offset().top){_g.navBlock.addClass('fixed-nav-list').find('.nav-page__list').css('top',_g.header.height()+40)}else{_g.navBlock.removeClass('fixed-nav-list')}})}},fixedHeading:function(){if($(_g.headingWrap).length>0){$window.on('scroll',function(){if($window.scrollTop()>$(_g.headingWrap).offset().top){let heightHeading=$(_g.headingWrap).height();let heightNav=$(_g.navSelectWrap).outerHeight();let widthHeading=$(_g.headingWrap).width();$(_g.heading).width(widthHeading);$(_g.headingWrap).addClass('fixed-heading').height(heightHeading);$(_g.navBlock).addClass('fixed-nav-select').height(heightNav);$(_g.navSelectWrap).css('top',heightHeading).width(widthHeading-20);}else{$(_g.headingWrap).removeClass('fixed-heading');$(_g.navBlock).removeClass('fixed-nav-select')}}).resize(function(){let heightHeading=$(_g.headingWrap).height();let widthHeading=$(_g.headingWrap).width();$(_g.heading).width(widthHeading);$(_g.navSelectWrap).css('top',heightHeading).width(widthHeading-20);if($('body').width()<767){$(_g.headingWrap).removeClass('fixed-heading');$(_g.navBlock).removeClass('fixed-nav-select')}});}},changeTempImg:function(){$(_g.changeView).on('click',function(){let nameImg=$(this).val();let nameRadio=$(this).attr('name');let pathImgBig='../uploadsDemo/'+nameImg+'.jpg';let pathImgMob='../uploadsDemo/'+nameImg+'Mobile.png';$('#'+nameRadio+'Temp .col-photo__temp').css('backgroundImage',"url('"+pathImgBig+"')");$('#'+nameRadio+'Temp .col-photo__mob').css('backgroundImage',"url('"+pathImgMob+"')");})},changeNavActive:function(){$window.on('scroll',function(){$('.b-set-item').each(function(){let offsetTop=$(this).offset().top;let $windowScroll=$window.scrollTop()+_g.headingWrap.height()+180;let $windowScrollToBottom=$window.scrollTop()+$(window).height()+180;if(($windowScroll>offsetTop)||($windowScrollToBottom>=$(document).outerHeight())){$(_g.listNav).removeClass('active');$('.nav-page__list').find("a[data-scroll='"+$(this).attr('id')+"']").addClass('active');}})})},setSaveSettings:function(){_settingPage.on(_g.saveSettingsBtn,'click',function(e,data,el){e.preventDefault();var $formGroups=_g.settingsForm.find('.form-group');var elements='input, radio, select, textarea';var settings={};var photoDate='';var status='';var password='';var typography='';var successMessage='';$formGroups.each(function(index,el){var $setting=$(el).find(elements);var $settingType=$setting.attr('type');var val;if($setting.length>0){var settingName=$setting.attr('name');if($setting.length===2){$($setting).each(function(){if(!$(this).attr('id')){settings['pin']=$(this).val();}});}
        settings['digitalPrice']=$('#digitalPriceWithCommission').val();settings['cost_all_digital_photos']=$('#digitalTotalPriceWithCommission').val();if($settingType=='checkbox')val=$setting.is(':checked');else if($settingType=='radio'){val=$(el).find('[name="'+settingName+'"]:checked').val();}
        else val=$setting.val();if(settingName!=='checkbox'&&settingName!=='password'&&settingName!=='status'&&settingName!=='name'&&settingName!=='photoDate'&&settingName!=='order_due_date'&&settingName!=='expiration_date'&&settingName!==''&&settingName!=='undefined'&&settingName!==undefined)settings[settingName]=val;if(settingName==='photoDate'){photoDate=val;}else if(settingName==='expiration_date'){expiration_date=val;}else if(settingName==='order_due_date'){order_due_date=val;}else if(settingName==='status'){status=val;}else if(settingName==='password'){password=val;}else if(settingName==='typography'){typography=val;}else if(settingName==='name'){name=val;}else if(settingName==='successMessage'){successMessage=val;}}});delete settings.typography;var $_GET=_settingPage.getRequestArgs();$.ajax({url:global.ajaxHandlerUrl,method:'post',data:{gallery:$_GET['gallery'],password:password,settings:JSON.stringify(settings),photoDate:photoDate,status:status,typography:typography,name:name,expiration_date:expiration_date,action:'saveGallerySettings'},success:function(response){response=JSON.parse(response);if(response.success==true){let data={type:'success',message:global.popupMessages['saveStudioSettingsSuccess'],link:null,};_triggers().triggerPopup(data);}},});});},setSaveStudioSettings:function(){_settingPage.bind(_g.saveStudioSettingsBtn,'click',function(e,data,el){e.preventDefault();let studioSettings={subdomain:'',options:{socials:{},contacts:{},typography:{}}};studioSettings['subdomain']=$('#subdomain').val();_g.studioSettingsOptions.each(function(i,el){let $element=$(el);studioSettings['options'][$element.attr('name')]=$element.val();});_g.studioSettingsSocials.each(function(i,el){let $element=$(el);studioSettings['options']['socials'][$element.attr('name')]=$element.val();});_g.studioSettingsContacts.each(function(i,el){let $element=$(el);studioSettings['options'][$element.attr('name')]=$element.is(':checked')?1:0;});var studioSettingsTypographyWrap=$document.find('.typography-settings-wrap');var counter=0;studioSettingsTypographyWrap.each(function(i,el){let $element=$(el);studioSettings['options']['typography'][counter]={};var percent_cost=$element.find('input[name="percent_cost"]').val();var extra=$element.find('.extra').val();var price=extra+(extra*percent_cost/100);studioSettings['options']['typography'][counter]['extra']=$element.find('.extra').val();studioSettings['options']['typography'][counter]['id']=$element.find('.typography-select').val();studioSettings['options']['typography'][counter]['percent_cost']=$element.find('input[name="percent_cost"]').val();counter++;});$.ajax({url:global.ajaxHandlerUrl,method:'post',data:{studioSettings:JSON.stringify(studioSettings),color_scheme:$('#studioSettings select[name="color_scheme"] option:selected').val(),color:$('#studioSettings input[name="color"]').val(),action:'saveStudioSettings'},success:function(response){response=JSON.parse(response);if(response.success===true){let data={type:'success',message:global.popupMessages['saveStudioSettingsSuccess'],link:null,};_triggers().triggerPopup(data);}},});});},setChangeAccessibilitySelect:function(){_settingPage.bind(_g.accessibilitySelect,'change',function(e,data,el){e.preventDefault();if(_g.accessibilitySelect.val()==='with'){$('#password').removeClass('form-control__disabled');$('#special_password').removeClass('form-control__disabled');}else{$('#password').addClass('form-control__disabled');$('#special_password').addClass('form-control__disabled');}});},setDeleteGalleryClick:function(){_settingPage.bind(_g.deleteGalleryBtn,'click',function(e,data,el){e.preventDefault();console.log('delete!');$('#deleteGalleryPopup').removeClass('blocked');$('#deleteGalleryPopup').addClass('active');$('body').addClass('muted');});},setSubmitDeleteGalleryPopup:function(){_settingPage.bind($('#submitDelete'),'click',function(e,data,el){e.preventDefault();var galleryId=parseInt(window.location.search.split('=')[1]);$.ajax({url:global.ajaxHandlerUrl,method:'post',data:{galleries:galleryId,action:'removeGalleries'},beforeSend:function(){_settingPage.trigger('feedbackPopup_showPopup',{type:'success',message:'      '});},success:function(response){console.log(response);response=JSON.parse(response);if(response.success){var url=document.location.origin+'/dashboard/galleries';document.location.href=url;}else{console.log(response.error);}}});});},setCancelDeleteGalleryPopup:function(){_settingPage.bind($('#cancelDelete'),'click',function(e,data,el){e.preventDefault();$('#deleteGalleryPopup').addClass('blocked');$('#deleteGalleryPopup').removeClass('active');$('body').removeClass('muted');});},setClickMoreInfo:function(){_settingPage.bind($('.link--open-page-more'),'click',function(e,data,el){e.preventDefault();var id=$(el).closest('.more-wrap').find('select').val();$.ajax({url:global.ajaxHandlerUrl,method:'post',data:{id:id,action:'getTypography'},success:function(response){response=JSON.parse(response);if(response.success){_setTypographyInfo(response.info);_setTypographyPrice(response.price);_triggers().triggerScripts();$('#printMore').addClass('active');}else{_triggers().triggerPopup(response);}}});});}};},_setSelectsData=function(){var selects=$(document).find('select');var value='';var options='';$(selects).each(function(){var select=$(this);var name=select.attr('name');if(name==='status'){value=$('#status-val').text();}else if(name==='accessibility'){value=$('#accessibility-val').text();}else{value=$('#language-val').text();}
    options=$(this).find('option');$(options).each(function(){var val=$(this).val();if(val===value){select.val(val);}});if(_g.accessibilitySelect.val()==='with'){$('#password').removeClass('form-control__disabled');$('#special_password').removeClass('form-control__disabled');}else{$('#password').addClass('form-control__disabled');$('#special_password').addClass('form-control__disabled');}});},_setCheckboxData=function(){var inputs=$(document).find('input');$(inputs).each(function(){if($(this).attr('type')==='checkbox'){var data=$(this).data();for(var z in data){var value=data[z];}
    if(value){$(this).prop('checked',true);}}});},_clickScroll=function($node){let id=$node;if(id.length>0){$('html, body').animate({'scrollTop':$(id).offset().top-_g.headingWrap.height()-27-(_g.navBlock.height()*0.9)},{step:function(now,fx){},duration:800,queue:false,start:function(){},complete:function(){}},500);}},_setTypographyInfo=function(info){let site=info.site?info.site:'';$('#typography-name').text(info.name);$('#typography-site').text(site);$('#typography-email').text(info.email);$('#typography-phone').text(info.phone);$('#typography-address').text(info.address);$('#typography-regions').text(info.regions);},_setTypographyPrice=function(data){if($(document).find('.tabs').length>0){$(document).find('.tabs').remove();}
    $(document).find('.landing-gallery__popup-order--main').append('<div>');let divs=$('.landing-gallery__popup-order--main').find('div');var tabs={};$(divs).each(function(){if(!$(this).attr('class')){tabs=$(this);tabs.addClass('tabs');}});tabs.append('<ul>');var titleContainer=tabs.find('ul');titleContainer.addClass('tabs__caption tabs__caption--center');var step=0;for(var i in data){_appendTabTitle(titleContainer,i,step);_appendTab(tabs,data[i],step);step++;}},_appendTabTitle=function(parent,name,step){parent.append('<li>');var li=parent.find('li');var newLi={};$(li).each(function(){if(!$(this).attr('class')){newLi=$(this);newLi.addClass('tab-title');if(step===0){newLi.addClass('active');}
    newLi.append('<a>');var link=newLi.find('a');link.attr('rel','nofollow');link.attr('href','#');link.text(name);}});return newLi;},_appendTab=function(parent,data,step){parent.append('<div>');var div=parent.find('div');var newDiv={};$(div).each(function(){if(!$(this).attr('class')){newDiv=$(this);newDiv.addClass('tabs__content');if(step===0){newDiv.addClass('active');}
    newDiv.append('<div>');var subDiv=newDiv.find('div');subDiv.addClass('landing-gallery__table');for(var k in data){_appendTabRow(subDiv,k,data[k]);}}});},_appendTabRow=function(parent,size,cost){parent.append('<div>');var rows=parent.find('div');var row={};$(rows).each(function(){if(!$(this).attr('class')){row=$(this);}});row.addClass('row');row.append('<div>');var leftDiv=row.find('div');leftDiv.addClass('col-xs-6 left-side');leftDiv.append('<div>');var sizeDiv=leftDiv.find('div');sizeDiv.addClass('landing-gallery__size');sizeDiv.text(size);row.append('<div>');var divs=row.find('div');$(divs).each(function(){if(!$(this).attr('class')){var rightDiv=$(this);rightDiv.addClass('col-xs-6 right-side');rightDiv.append('<span>');var costSpan=rightDiv.find('span');costSpan.addClass('landing-gallery__price-dashboard');costSpan.text(cost);costSpan.append('<span>');var currency=costSpan.find('span');currency.addClass('ruble');currency.text('a');}});},_loadSettings=function(){},_triggers=function(){return{triggerPopup:function(data){_settingPage.trigger('feedbackPopup_showPopup',data);},triggerScripts:function(){_settingPage.trigger('tabsDashboard_Init');}};},_setCustomMethods=function(){_settingPage.globals.customResurrect=function(){};_settingPage.globals.customDestroy=function(){};};_settingPage.addMethod('init',function(){_settingPage.bind($window,_settingPage.globals.classType+'_Init',function(e,data,el){_g.preloaded=true;_init();});});_init();});"use strict";appMakeBeCool.gateway.addClass('GalleriesFunctions',function(properties,$,$window,$document){var _galleriesFunctions=this,_d={galleryList:'#galleryList',contactList:'#contactList',galleryModes:'#galleryModes',galleryWrap:'.gallery-wrap',gallerySort:'#gallerySort',galleryCircle:'.gallery .circle',galleryBar:'#galleryBar',galleryBarCounter:'#galleryBarCounter',gallerySortCircle:'#gallerySortCircle',galleryBarAll:'#galleryBarAll',galleryBarNone:'#galleryBarNone',galleryMenuClose:'.gallery__menu-close',galleryDots:'.gallery .dots',galleryBarMenu:'#galleryBarMenu',galleryBarMenuBtn:'#galleryBarMenuBtn',deleteGalleryPopup:'#deleteGalleryPopup',deleteGallery:'.delete-gallery',galleryBarDeleteAllBtn:'#galleryBarDeleteAllBtn',deleteGalleryPopupErase:'#deleteGalleryPopupErase',deleteGalleryPopupArchive:'#deleteGalleryPopupArchive',createGalleryPopup:'#createGalleryPopup',createGalleryPopupBtn:'#createGalleryPopupBtn',hideAlbumRowView:'.open-gallery__hide-row-view .btn',navAlbum:'.open-gallery__nav-col',createGalleryForm:'#create-gallery',albumCover:'.gallery__album .gallery__album-img',closeCover:'.closeYourself',getMoreGalleriesBtn:'#getMoreGalleries',contactListBtn:'.contact-list__item .dots',contactEditBtn:'#contactEditBtn',contactEditMenu:'#contactEditMenu',offset:12,settingsLink:'#settings-link',downloadPhotos:'#downloadPhotos',changeWatermark:'#changeWatermark',changeAlbumWatermark:'#changeAlbumWatermark',digitalPrice:'#price',digitalTotalPrice:'#price_total',},_p=$.extend(_d,properties),_g={galleryList:null,galleryModes:null,gallerySort:null,galleryCircle:null,galleryBar:null,galleryBarCounter:null,gallerySortCircle:null,galleryBarAll:null,galleryBarNone:null,galleryMenuClose:null,galleryDots:null,galleryBarMenu:null,galleryBarMenuBtn:null,deleteGalleryPopup:null,deleteGallery:null,galleryBarDeleteAllBtn:null,deleteGalleryPopupErase:null,deleteGalleryPopupArchive:null,createGalleryPopup:null,createGalleryPopupBtn:null,hideAlbumRowView:null,navAlbum:null,createGalleryForm:null,albumCover:null,closeCover:null,getMoreGalleriesBtn:null,contactList:null,contactListBtn:null,contactEditBtn:null,contactEditMenu:null,settingsLink:null,galleriesIdList:null,downloadPhotos:null,changeWatermark:null,changeAlbumWatermark:null,digitalPrice:null,digitalTotalPrice:null,preloaded:false},_init=function(){appMakeBeCool.gateway.base.Class.apply(_galleriesFunctions,[_p]);if(!_g.preloaded){return _galleriesFunctions.init();}
    _galleriesFunctions.globals.customCreate=function(){_config();_setCustomMethods();_setup();_setBinds();};_galleriesFunctions.create();},_config=function(){_g.galleryList=$(_p.galleryList);_g.galleryModes=$(_p.galleryModes);_g.galleryWrap=$(_p.galleryWrap);_g.gallerySort=$(_p.gallerySort);_g.galleryCircle=$(_p.galleryCircle);_g.galleryBar=$(_p.galleryBar);_g.galleryBarCounter=$(_p.galleryBarCounter);_g.gallerySortCircle=$(_p.gallerySortCircle);_g.galleryBarAll=$(_p.galleryBarAll);_g.galleryBarNone=$(_p.galleryBarNone);_g.galleryMenuClose=$(_p.galleryMenuClose);_g.galleryDots=$(_p.galleryDots);_g.galleryBarMenu=$(_p.galleryBarMenu);_g.galleryBarMenuBtn=$(_p.galleryBarMenuBtn);_g.deleteGalleryPopup=$(_p.deleteGalleryPopup);_g.deleteGallery=$(_p.deleteGallery);_g.galleryBarDeleteAllBtn=$(_p.galleryBarDeleteAllBtn);_g.deleteGalleryPopupErase=$(_p.deleteGalleryPopupErase);_g.deleteGalleryPopupArchive=$(_p.deleteGalleryPopupArchive);_g.createGalleryPopup=$(_p.createGalleryPopup);_g.createGalleryPopupBtn=$(_p.createGalleryPopupBtn);_g.hideAlbumRowView=$(_p.hideAlbumRowView);_g.navAlbum=$(_p.navAlbum);_g.createGalleryForm=$(_p.createGalleryForm);_g.albumCover=$(_p.albumCover);_g.closeCover=$(_p.closeCover);_g.getMoreGalleriesBtn=$(_p.getMoreGalleriesBtn);_g.contactList=$(_p.contactList);_g.contactListBtn=$(_p.contactListBtn);_g.contactEditBtn=$(_p.contactEditBtn);_g.contactEditMenu=$(_p.contactEditMenu);_g.settingsLink=$(_p.settingsLink);_g.downloadPhotos=$(_p.downloadPhotos);_g.changeWatermark=$(_p.changeWatermark);_g.changeAlbumWatermark=$(_p.changeAlbumWatermark);_g.digitalPrice=$(_p.digitalPrice);_g.digitalTotalPrice=$(_p.digitalTotalPrice);},_setup=function(){_initGalleryIsotope();_initContactIsotope();_g.contactListBtn.on('click',function(e,count){_contactMenuOpen(e,count);});$('body').on('click',function(e){var $element=$(e.target);if(!$element.hasClass('gallery-bar__menu-litem')&&!$element.hasClass('dots')){_closeGalleryBarMenu();}});},_setBinds=function(){_binds().setGalleryMenuToggle();_binds().setGalleryModesToggle();_binds().setGallerySelections();_binds().setGalleryDelete();_binds().setCreateGallery();_binds().setAlbumTail();_binds().setSendGalleryData();_binds().setGalleryCover();_binds().closeGalleryCover();_binds().setGetMoreGalleries();_binds().setGalleryMenuActions();_binds().setPhotoLoaded();_binds().setUnselectAllGalleries();_binds().setDownloadPhotos();_binds().setChangeWatermark();_binds().setChangeAlbumWatermark();_binds().setArchiveGallery();_binds().setCloseDropdownList();_binds().onChangeDigitalPrice();_binds().initDigitalPrice();_binds().onChangeDigitalTotalPrice();_binds().initDigitalTotalPrice();},_binds=function(){return{setCloseDropdownList:function(){$('.b-dropdown__list').on('click',function(){let $dots=$(this).siblings('.dots'),$parent=$(this).closest('.contact-list__item');$parent.siblings().removeClass('active');$parent.siblings().find('.dots').removeClass('active');$dots.toggleClass('active');$parent.toggleClass('active');});},setGalleryMenuToggle:function(){_g.galleryDots.unbind('click');_galleriesFunctions.bind(_g.galleryDots,'click',function(e){e.preventDefault();console.log('menu toggle');let $dot=$(e.currentTarget);if(!$dot.hasClass('active')){$dot.addClass('active');_openGalleryMenu($dot);console.log($dot);}else{$dot.removeClass('active');_closeGalleryMenu($dot);}});_g.contactEditBtn.unbind('click');_galleriesFunctions.bind(_g.contactEditBtn,'click',function(e){e.preventDefault();_g.contactEditMenu.slideToggle(0);_g.contactEditBtn.toggleClass('active');});_g.galleryMenuClose.unbind('click');_galleriesFunctions.bind(_g.galleryMenuClose,'click',function(e){e.preventDefault();let $closeBtn=$(e.target),$dot=$closeBtn.closest(_p.galleryWrap).find(_p.galleryDots);$dot.removeClass('active');_closeGalleryMenu($(e.target));});},setGalleryCover:function(){_galleriesFunctions.on(_g.albumCover,'click',function(e){e.preventDefault();_toggleAlbumCover(e);});},setGalleryModesToggle:function(){_galleriesFunctions.on(_g.galleryModes,'click',function(e){e.preventDefault();_toggleGalleryTileRowView();});},closeGalleryCover:function(){_galleriesFunctions.on(_g.closeCover,'click',function(e){e.preventDefault();$(e.target).closest('.modal').removeClass('active');});},setGallerySelections:function(){_g.galleryCircle.unbind('click');_galleriesFunctions.bind(_g.galleryCircle,'click',function(e){console.log('circle click');e.preventDefault();let $galleryWrap=$(e.target).closest(_p.galleryWrap),$circle=$(e.target);if($circle.hasClass('circle--valid')){_unselectGallery($circle,$galleryWrap);}else{_selectGallery($circle,$galleryWrap);}});_g.gallerySortCircle.unbind('click');_galleriesFunctions.bind(_g.gallerySortCircle,'click',function(e){e.preventDefault();if($(e.target).hasClass('circle--valid')){$(e.target).removeClass('circle--valid');_unselectAllGalleries();_hideGalleryBar();}else{$(e.target).addClass('circle--valid');_selectAllGalleries();_counterForGalleryBar();_showGalleryBar();}});_g.galleryBarAll.unbind('click');_galleriesFunctions.bind(_g.galleryBarAll,'click',function(e){e.preventDefault();_selectAllGalleries();_counterForGalleryBar();});_g.galleryBarNone.unbind('click');_galleriesFunctions.bind(_g.galleryBarNone,'click',function(e){e.preventDefault();_unselectAllGalleries();_counterForGalleryBar();_hideGalleryBar();});},setGalleryBar:function(){_galleriesFunctions.on(_g.galleryBarMenuBtn,'click',function(e){e.preventDefault();let $openBtn=$(e.currentTarget);if(!$openBtn.hasClass('active')){_openGalleryBarMenu();$openBtn.addClass('active');}else{_closeGalleryBarMenu();$openBtn.removeClass('active');}});},setGalleryDelete:function(){_g.deleteGallery.unbind('click');_galleriesFunctions.bind(_g.deleteGallery,'click',function(e){e.preventDefault();let $galleryWrap=$(e.target).closest(_p.galleryWrap);let galleryTitle=$galleryWrap.find('.gallery__ttl').text();let galleryId=$galleryWrap.data('id');_g.galleriesIdList=[];_g.galleriesIdList.push(galleryId);_appendGalleryTitles(galleryTitle);_deleteGalleryPopupOpen();});_g.galleryBarDeleteAllBtn.unbind('click');_galleriesFunctions.bind(_g.galleryBarDeleteAllBtn,'click',function(e){e.preventDefault();let galleryTitleList=[];_g.galleriesIdList=[];$('.gallery-wrap--selected').each(function(){let galleryTitle=$(this).find('.gallery__ttl').text();let galleryId=$(this).data('id');galleryTitleList.push(galleryTitle);_g.galleriesIdList.push(galleryId);});console.log(galleryTitleList);_appendGalleryTitles(galleryTitleList);_deleteGalleryPopupOpen();});_g.deleteGalleryPopupErase.unbind('click');_galleriesFunctions.bind(_g.deleteGalleryPopupErase,'click',function(e){e.preventDefault();$.ajax({url:global.ajaxHandlerUrl,method:'post',data:{galleries:JSON.stringify(_g.galleriesIdList),action:'removeGalleries'},beforeSend:function(){_galleriesFunctions.trigger('feedbackPopup_showPopup',{type:'success',message:'      '});},success:function(response){response=JSON.parse(response);console.log(response);if(response['success']==true){$('#feedback > .popup--center').removeClass('success');$('#feedback').removeClass('active');_deleteAllGalleries(response['removeIds']);}else{$('#feedback > .popup--center').removeClass('success');$('#feedback').removeClass('active');if(response['errorIds'].length>0){_deleteAllGalleries(response['removeIds']);}else{_galleriesFunctions.trigger('feedbackPopup_showPopup',{type:'success',message:'    '});}}}});});},setArchiveGallery:function(){_galleriesFunctions.bind(_g.deleteGalleryPopupArchive,'click',function(e,data,el){e.preventDefault();$.ajax({url:global.ajaxHandlerUrl,method:'post',data:{galleries:JSON.stringify(_g.galleriesIdList),action:'archiveGalleries'},success:function(response){response=JSON.parse(response);console.log(response);if(response['success']==true){data={type:'success',message:response.message};_triggers().triggerPopup(data);_deleteAllGalleries(response['removeIds']);}else{if(response['errorIds'].length>0){_deleteAllGalleries(response['removeIds']);}else{data={message:'    '};_triggers().triggerPopup(data);}}}});});_galleriesFunctions.bind($('.archive-gallery-btn'),'click',function(e,data,el){e.preventDefault();let $galleryWrap=$(e.target).closest(_p.galleryWrap);let galleryId={};galleryId[0]=$galleryWrap.data('id');$.ajax({url:global.ajaxHandlerUrl,method:'post',data:{galleries:JSON.stringify(galleryId),action:'archiveGalleries'},success:function(response){response=JSON.parse(response);console.log(response);if(response['success']==true){data={type:'success',message:response.message};_triggers().triggerPopup(data);_deleteAllGalleries(response['removeIds']);}else{if(response['errorIds'].length>0){_deleteAllGalleries(response['removeIds']);}else{data={message:'    '};_triggers().triggerPopup(data);}}}});});},setCreateGallery:function(){_galleriesFunctions.on(_g.createGalleryPopupBtn,'click',function(e){e.preventDefault();_createNewGallery();});},setAlbumTail:function(){_galleriesFunctions.on(_g.hideAlbumRowView,'click',function(e){e.preventDefault();_toggleGalleryTileRowView();})},setSendGalleryData:function(){_galleriesFunctions.on(_g.createGalleryForm,'submit',function(e,data,el){e.preventDefault();let $form=$(el);let fields=$form.find('input, select, textarea');let formdata={};if($form.valid()){$.each(fields,function(el,data){let $data=$(data);formdata[$data.attr('name')]=$data.val();});$form.find('.error').remove();$.ajax({url:global.ajaxHandlerUrl,method:'post',data:{data:JSON.stringify(formdata),action:'createGallery'},success:function(response){response=JSON.parse(response);if(response['success']===true){_prependItemsIsotope($(response['output']));_g.createGalleryPopup.find('.close').trigger('click');_reconfigGalleries();_rebindGalleries();}else{console.log(response);$.each(response['errors'],function(el,data){let $formGroup=$form.find('[name="'+el+'"]').parent();let $label=$('<label id="email-error" class="error" for="'+el+'">'+data+'</label>');if($formGroup.find('.email-error').length<1)$formGroup.append($label);});}}});}});},setGetMoreGalleries:function(){_galleriesFunctions.on(_g.getMoreGalleriesBtn,'click',function(e,data,el){e.preventDefault();var type_item=$('#galleryModes a.active span').attr('class');$.ajax({method:'post',url:global.ajaxHandlerUrl,data:{offset:_p.offset,action:'getGalleries',type_item:type_item},success:function(response){response=JSON.parse(response);if(response['success']==true){let $append=$(response['output']);_appendItemsIsotope($append);_reconfigGalleries();_rebindGalleries();if(response['moreGalleries']==false)$(el).hide();_p.offset=_p.offset*1+global.options['galleriesStep']*1;}}});});},setGalleryMenuActions:function(){},setPhotoLoaded:function(){_galleriesFunctions.bind($window,'basetheme_photoLoaded',function(e,data,el){_reconfigPhotos();_rebindPhotos();});},setUnselectAllGalleries:function(){_galleriesFunctions.bind($window,'galleriesFunctions_unselectAllGalleries',function(e,data,el){_unselectAllGalleries();_hideGalleryBar()});},setDownloadPhotos:function(){_galleriesFunctions.bind(_g.downloadPhotos,'click',function(e,data,el){e.preventDefault();var photos=$document.find('.gallery-wrap--selected');var ids={};let number=0;photos.each(function(){ids[number]=$(this).data('id');number++;});if(number>1){$.ajax({url:global.ajaxHandlerUrl,data:{photosId:ids,openGallery:true,action:'createArchive',type:'download_photo_in_gallery'},method:'post',success:function(response){response=JSON.parse(response);if(response.success){_triggers().triggerPopup({type:'success',message:response.message});}else{console.log(response.message);}}});}else{var link=document.location.origin+'/ajax/downloadphoto?id='+ids[0];window.open(link);}});},setChangeWatermark:function(){_galleriesFunctions.bind(_g.changeWatermark,'click',function(e,data,el){e.preventDefault();var watermarkId=$(el).parent('form').find('select').val();var galleryId=_galleriesFunctions.getRequestArgs()['gallery'];$.ajax({url:global.ajaxHandlerUrl,data:{watermark:watermarkId,gallery:galleryId,action:'changePhotosWatermark'},method:'post',success:function(response){response=JSON.parse(response);if(response.success){_triggers().triggerPopup({type:'success',message:response.message});}else{_triggers().triggerPopup({type:'failure',message:response.error});}}});});},setChangeAlbumWatermark:function(){_g.changeAlbumWatermark.unbind('click');_galleriesFunctions.bind(_g.changeAlbumWatermark,'click',function(e,data,el){e.preventDefault();var watermarkId=$(el).parent('form').find('select').val();var galleryId=_galleriesFunctions.getRequestArgs()['gallery'];var albumId=$('.open-gallery__ttl').attr('data-current-album');$.ajax({url:global.ajaxHandlerUrl,data:{watermark:watermarkId,album:albumId,gallery:galleryId,action:'changePhotosWatermark'},method:'post',success:function(response){response=JSON.parse(response);if(response.success){_triggers().triggerPopup({type:'success',message:response.message});}else{_triggers().triggerPopup({type:'failure',message:response.error});}}});});},onChangeDigitalPrice:function(){_galleriesFunctions.bind(_g.digitalPrice,'keyup change',function(e,data,el){_changeDigitalPrice(el);});},initDigitalPrice:function(){_changeDigitalPrice(_g.digitalPrice);},onChangeDigitalTotalPrice:function(){_galleriesFunctions.bind(_g.digitalTotalPrice,'keyup change',function(e,data,el){_changeDigitalTotalPrice(el);});},initDigitalTotalPrice:function(){_changeDigitalTotalPrice(_g.digitalTotalPrice);},}},_changeDigitalPrice=function(el){const $totalPrice=$('#digitalPriceWithCommission');let acquiringCommission=parseFloat($('#acquiring_commission').val());let transactionCommission=parseFloat($('#transaction_commission').val());const $totalPriceLabel=$('#total-price-photo__price');let currentPrice=parseFloat($(el).val());let priceWithAcquiringCommission;let totalPrice;if(currentPrice){priceWithAcquiringCommission=currentPrice+currentPrice*acquiringCommission/100;totalPrice=priceWithAcquiringCommission+priceWithAcquiringCommission*transactionCommission/100;$totalPrice.val(totalPrice.toFixed(2));$totalPriceLabel.text(totalPrice.toFixed(2));}else{currentPrice=$totalPrice.val();priceWithAcquiringCommission=currentPrice-currentPrice*transactionCommission/100;totalPrice=priceWithAcquiringCommission-priceWithAcquiringCommission*acquiringCommission/100;_g.digitalPrice.val(totalPrice.toFixed(0));}},_changeDigitalTotalPrice=function(el){const $totalPrice=$('#digitalTotalPriceWithCommission');let acquiringCommission=parseFloat($('#acquiring_total_commission').val());let transactionCommission=parseFloat($('#transaction_total_commission').val());const $totalPriceLabel=$('#total-price_total-photo__price');let currentPrice=parseFloat($(el).val());let priceWithAcquiringCommission;let totalPrice;if(currentPrice){priceWithAcquiringCommission=currentPrice+currentPrice*acquiringCommission/100;totalPrice=priceWithAcquiringCommission+priceWithAcquiringCommission*transactionCommission/100;$totalPrice.val(totalPrice.toFixed(2));$totalPriceLabel.text(totalPrice.toFixed(2));}else{currentPrice=$totalPrice.val();priceWithAcquiringCommission=currentPrice-currentPrice*transactionCommission/100;totalPrice=priceWithAcquiringCommission-priceWithAcquiringCommission*acquiringCommission/100;_g.digitalTotalPrice.val(totalPrice.toFixed(0));}},_triggers=function(){return{triggerPopup:function(data){_galleriesFunctions.trigger('feedbackPopup_showPopup',data);}}},_toggleGalleryTileRowView=function(){let $galleryItems=$(_p.galleryWrap);let $galleryModeItems=_g.galleryModes.find('.tab-nav__item');const ROW_CLASS="gallery-wrap--row";const TILE_CLASS="gallery-wrap--tile";if($galleryItems.hasClass(ROW_CLASS)){$galleryItems.removeClass(ROW_CLASS).addClass(TILE_CLASS);_g.gallerySort.removeClass('active');}else{$galleryItems.removeClass(TILE_CLASS).addClass(ROW_CLASS);_g.gallerySort.addClass('active');}
    if($(_g.navAlbum).length>0){$(_g.navAlbum).toggleClass('row-view');}
    _reinitGalleryIsotope();$galleryModeItems.each(function(){$(this).toggleClass('active');});},_selectGallery=function($circle,$galleryWrap){$circle.addClass('circle--valid');$galleryWrap.addClass('gallery-wrap--selected');_showGalleryBar();_counterForGalleryBar();},_unselectGallery=function($circle,$galleryWrap){_config();$circle.removeClass('circle--valid');$galleryWrap.removeClass('gallery-wrap--selected');_counterForGalleryBar();_g.gallerySortCircle.removeClass('circle--valid');if(!_g.galleryCircle.hasClass('circle--valid')){_hideGalleryBar();}},_showGalleryBar=function(){_g.galleryBar.addClass('active');},_hideGalleryBar=function(){_g.galleryBar.removeClass('active');_g.galleryBarMenu.removeClass('dropped');_g.galleryBarMenu.css('display','none');_g.galleryBarMenuBtn.removeClass('active');},_counterForGalleryBar=function(){let counterOfSelected=$('.gallery .circle--valid').length;_g.galleryBarCounter.text(counterOfSelected);if(counterOfSelected>1){$('.singlePhoto').css('display','none');$('.gallery-bar .gallery-bar__side .dots').css('display','none');}else{$('.singlePhoto').css('display','block');$('.gallery-bar .gallery-bar__side .dots').css('display','inline-block');}},_selectAllGalleries=function(){var counter=_g.galleryCircle.length;let galleries=_g.galleryCircle.not(':hidden');galleries.addClass('circle--valid');galleries.closest(_g.galleryWrap).addClass('gallery-wrap--selected');galleries.closest(_g.galleryCircle).addClass('circle--valid');},_unselectAllGalleries=function(){var counter=_g.galleryCircle.length;_g.galleryCircle.removeClass('circle--valid');_g.galleryWrap.removeClass('gallery-wrap--selected');_g.gallerySortCircle.removeClass('circle--valid');},_openGalleryMenu=function($galleryDots){let $gallery=$galleryDots.closest(_p.galleryWrap),$galleryMenu=$gallery.find('.gallery__menu'),$allGallerymenus=$('.gallery__menu'),$allGalleries=$(_p.galleryWrap);$allGallerymenus.removeClass('active');$allGalleries.removeClass('menu-active');$gallery.addClass('menu-active');$galleryMenu.addClass('active');},_closeGalleryMenu=function($galleryMenuClose){let $gallery=$galleryMenuClose.closest(_p.galleryWrap),$galleryMenu=$gallery.find('.gallery__menu');$gallery.removeClass('menu-active');$galleryMenu.removeClass('active');},_openGalleryBarMenu=function(){_g.galleryBarMenu.addClass('active');},_closeGalleryBarMenu=function(){_g.galleryBarMenu.css('display','none');_g.galleryBarMenu.removeClass('dropped');},_deleteGallery=function(){},_deleteAllGalleries=function(removeIds){let $galleries=[];$.each(removeIds,function(index,id){if($galleries.length<1){console.log('< 1');$galleries=$(_p.galleryWrap+'[data-id="'+id+'"]');}
else{console.log('else');$galleries=$galleries.add($(_p.galleryWrap+'[data-id="'+id+'"]'));}});_removeItemsIsotope($galleries);_g.deleteGalleryPopup.find('.close').trigger('click');},_deleteGalleryPopupOpen=function(galleryTitle){_closeGalleryMenu($('.gallery-wrap--tile .gallery__menu.active .gallery__menu-close'));_g.deleteGalleryPopup.addClass('active');},_contactMenuOpen=function(e){let $this=$(e.target).closest('.dots'),$parent=$(e.target).closest('.contact-list__item');$parent.siblings().removeClass('active');$parent.siblings().find('.dots').removeClass('active');$this.toggleClass('active');$parent.toggleClass('active');},_appendGalleryTitles=function(galleryTitle){let text='',$addedParagraph=_g.deleteGalleryPopup.find('p.added'),resultText='';if(!Array.isArray(galleryTitle)){text=_g.deleteGalleryPopup.find('.hidden-one').html();resultText=text+' <b>'+galleryTitle+'</b>?';}else{if(galleryTitle.length===1){text=_g.deleteGalleryPopup.find('.hidden-one').html();}else{text=_g.deleteGalleryPopup.find('.hidden-all').html();}
    resultText+=text+' ';galleryTitle.forEach(function(currentValue,index,arr){if(index===(arr.length-1)){resultText+='<b>'+currentValue+'</b>';}else{resultText+='<b>'+currentValue+'</b>, ';}});resultText+='?';}
    $addedParagraph.remove();_g.deleteGalleryPopup.find('h2').after('<p class="added">'+resultText+'</p>');_g.deleteGalleryPopup.addClass('active');},_createNewGallery=function(){_closeGalleryMenu($('.gallery-wrap--tile .gallery__menu.active .gallery__menu-close'));_g.createGalleryPopup.addClass('active');},_initGalleryIsotope=function(){let convertDate=function(string){let dateArr=string.split('-'),day=dateArr[0],month=dateArr[1]>1?dateArr[1]-1:0,year=dateArr[2],newDate=new Date(year,month,day);return newDate;};_g.iso=_g.galleryList.isotope({itemSelector:'.gallery-wrap',layoutMode:'fitRows',getSortData:{pname:function(itemElem){let name=$(itemElem).find('.pname').text();return name;},pcount:function(itemElem){let count=parseInt($(itemElem).find('.pcount').text());return count;},ppub:function(itemElem){let pubDate=$(itemElem).find('.ppub').text();return convertDate(pubDate);},pshoot:function(itemElem){let pubDate=$(itemElem).find('.pshoot').text();return convertDate(pubDate);},pstatus:function(itemElem){let status=$(itemElem).find('.pstatus').text();return status;}}});_sortGalleryIsotope();},_initContactIsotope=function(){let convertDate=function(string){let dateArr=string.split('-'),day=dateArr[0],month=dateArr[1]>1?dateArr[1]-1:0,year=dateArr[2],newDate=new Date(year,month,day);return newDate;};_g.iso=_g.contactList.isotope({itemSelector:'.contact-list__item',layoutMode:'fitRows',getSortData:{name:function(itemElem){let cname=$(itemElem).find('.contact-list__item-ttl .link').text();return cname;},email:function(itemElem){let cemail=parseInt($(itemElem).find('.contact-list__item-email').text());return cemail;},tel:function(itemElem){let ctel=$(itemElem).find('.contact-list__item-tel').text();return ctel;},date:function(itemElem){let cdate=$(itemElem).find('.contact-list__item-data').text();return convertDate(cdate);}}});_sortContactIsotope();},_reinitGalleryIsotope=function(){_g.galleryList.isotope('layout');},_toggleAlbumCover=function(e){_g.albumCover.find('.inner').removeClass('active');$(e.target).toggleClass('active');},_reconfigPhotos=function(){_g.galleryCircle=$(_p.galleryCircle);_g.galleryDots=$(_p.galleryDots);_g.galleryMenuClose=$(_p.galleryMenuClose);},_rebindPhotos=function(){_binds().setGalleryMenuToggle();_binds().setGallerySelections();_binds().setGalleryDelete();_binds().setGalleryMenuActions();},_appendItemsIsotope=function($items){_g.galleryList.isotope().append($items).isotope('appended',$items);},_prependItemsIsotope=function($items){_g.galleryList.isotope().prepend($items).isotope('prepended',$items);},_removeItemsIsotope=function($items){_g.galleryList.isotope('remove',$items).isotope('layout');},_reconfigGalleries=function(){_g.galleryDots=$(_p.galleryDots);_g.galleryCircle=$(_p.galleryCircle);_g.galleryMenuClose=$(_p.galleryMenuClose);_g.deleteGallery=$(_p.deleteGallery);_g.settingsLink=$(_p.settingsLink);},_rebindGalleries=function(){_binds().setGalleryMenuToggle();_binds().setGallerySelections();_binds().setGalleryDelete();_binds().setGalleryMenuActions();},_sortGalleryIsotope=function(){let $gallerySortLink=$('#gallerySort .link');$gallerySortLink.on('click',function(e){e.preventDefault();let $gallerySortLinkClicked=$(this),sortValue=$(this).attr('data-sort-value');if(!$gallerySortLinkClicked.hasClass('link--reverse')){$('#gallerySort .link').removeClass('active');$gallerySortLinkClicked.addClass('link--reverse');$gallerySortLinkClicked.addClass('active');_g.galleryList.isotope({sortBy:sortValue,sortAscending:false});}else{$gallerySortLinkClicked.removeClass('link--reverse');_g.galleryList.isotope({sortBy:sortValue,sortAscending:true});}});},_sortContactIsotope=function(){let $contactSortLink=$('.contact-list__sort .link');$contactSortLink.on('click',function(e){e.preventDefault();let $contactSortLinkClicked=$(this),sortValue=$(this).attr('data-sort-value');if(!$contactSortLinkClicked.hasClass('link--reverse')){$('.contact-list__sort .link').removeClass('active');$contactSortLinkClicked.addClass('link--reverse');$contactSortLinkClicked.addClass('active');_g.contactList.isotope({sortBy:sortValue,sortAscending:false});}else{$contactSortLinkClicked.removeClass('link--reverse');_g.contactList.isotope({sortBy:sortValue,sortAscending:true});}});},_setCustomMethods=function(){_galleriesFunctions.globals.customResurrect=function(){};_galleriesFunctions.globals.customDestroy=function(){};};_galleriesFunctions.addMethod('init',function(){_galleriesFunctions.bind($window,_galleriesFunctions.globals.classType+'_Init',function(e,data,el){_g.preloaded=true;_init();});});_init();});"use strict";appMakeBeCool.gateway.addClass('SearchControl',function(properties,$,$window,$document){var _searchControl=this,_d={searchControlToggle:'.search-control__toggle',searchControlForm:'#searchGalleries',searchCancel:'#search-cancel',grid:'#galleryList',searchControlFormOrders:'#searchOrders'},_p=$.extend(_d,properties),_g={searchControlToggle:null,searchControlForm:null,searchCancel:null,grid:null,searchControlFormOrders:null,preloaded:false},_init=function(){appMakeBeCool.gateway.base.Class.apply(_searchControl,[_p]);if(!_g.preloaded){return _searchControl.init();}
    _searchControl.globals.customCreate=function(){_config();_setup();_setBinds();_setCustomMethods();};_searchControl.create();},_config=function(){_g.searchControlToggle=$(_p.searchControlToggle);_g.searchControlForm=$(_p.searchControlForm);_g.searchCancel=$(_p.searchCancel);_g.grid=$(_p.grid);_g.searchControlFormOrders=$(_p.searchControlFormOrders);},_setup=function(){_g.searchControlToggle.on('click',function(e){e.preventDefault();let $filterBtn=$(this);if($filterBtn.hasClass('active'))return;_g.searchControlForm.slideToggle(500);_g.searchControlFormOrders.slideToggle(500);$filterBtn.toggleClass('active');});_g.searchCancel.on('click',function(e){e.preventDefault();if(!_g.searchControlToggle.hasClass('active'))return;_g.searchControlForm.slideToggle(500);_g.searchControlFormOrders.slideToggle(500);_g.searchControlToggle.removeClass('active');_g.grid.isotope({filter:'*'});});_g.searchControlForm.find('select').on('change',function(e){_g.searchControlForm.trigger('submit');});_g.searchControlForm.find('input').on('change',function(e){_g.searchControlForm.trigger('submit');});},_setBinds=function(){_binds().setSearchControlFormOrdersSubmit();_binds().setSearchControlFormGalleriesSubmit();},_binds=function(){return{setSearchControlFormOrdersSubmit:function(){_searchControl.bind(_g.searchControlFormOrders,'submit',function(e,data,el){e.preventDefault();var code=$('#filterCode').val();var date=$('#filterDate').val();_g.grid.isotope({filter:function(){if(code!==''){var dcode=$(this).data('code')+'';if(dcode.indexOf(code)){return false;}}
            if(date!==''){var ddate=$(this).data('date')+'';if(ddate.indexOf(date)){return false;}}
            return true;}});});},setSearchControlFormGalleriesSubmit:function(){_searchControl.bind(_g.searchControlForm,'submit',function(e,data,el){e.preventDefault();let name=$('#filterName').val();let status=$('#filterStatus').val();let photoDate=$('#filterPhotoDate').val();_g.searchPromoCodeGrid.isotope({filter:function(){if(name!==''){var dname=$(this).data('name')+'';if(dname.indexOf(name)){return false;}}
            if(status!==''){var dstatus=$(this).data('status')+'';if(dstatus.indexOf(status)){return false;}}
            if(photoDate!==''){var ddate=$(this).data('date')+'';if(ddate.indexOf(photoDate)){return false;}}
            return true;}});});},};},_triggers=function(){return{};},_setCustomMethods=function(){_searchControl.globals.customResurrect=function(){};_searchControl.globals.customDestroy=function(){};};_searchControl.addMethod('init',function(){_searchControl.bind($window,_searchControl.globals.classType+'_Init',function(e,data,el){_g.preloaded=true;_init();});});_init();});"use strict";appMakeBeCool.gateway.addClass('ModalWindows',function(properties,$,$window,$document){var _modalWindows=this,_d={modal:'.modal',closeModal:'.modal .close--small',closeModalBig:'.modal .close',closeBtn:'.close',closeWidget:'.widgets .close--small',videoWrap:'.video',showModalBtn:'.btn-show-modal',repeateBtn:'.repeate',modalCartMain:'.landing-gallery__popup-order--main',modalCartSuccess:'.landing-gallery__popup-order--success',modalCartSuccessBackBtn:'.btn-back_order--success',btnIncrCount:'.counter__btn--inc',btnDecrCount:'.counter__btn--dec',changePlanBtn:'.btn__change-plan',confirmChangePlan:'.confirm-change-plan',clearGalleryBtn:'#clear-gallery',header:'#header',chosenPlanId:null,chosenPlanType:null,},_p=$.extend(_d,properties),_g={modal:null,closeModal:null,closeModalBig:null,closeWidget:null,closeBtn:null,videoWrap:null,showModalBtn:null,repeateBtn:null,modalCartMain:null,modalCartSuccess:null,modalCartSuccessBackBtn:null,btnIncrCount:null,btnDecrCount:null,changePlanBtn:null,confirmChangePlan:null,clearGalleryBtn:null,header:null,preloaded:false},_init=function(){appMakeBeCool.gateway.base.Class.apply(_modalWindows,[_p]);if(!_g.preloaded){return _modalWindows.init();}
    _modalWindows.globals.customCreate=function(){_config();_setup();_setBinds();_setCustomMethods();};_modalWindows.create();},_config=function(){_g.modal=$(_p.modal);_g.closeModal=$(_p.closeModal);_g.closeWidget=$(_p.closeWidget);_g.closeBtn=$(_p.closeBtn);_g.videoWrap=$(_p.videoWrap);_g.closeModalBig=$(_p.closeModalBig);_g.showModalBtn=$(_p.showModalBtn);_g.repeateBtn=$(_p.repeateBtn);_g.modalCartMain=$(_p.modalCartMain);_g.modalCartSuccess=$(_p.modalCartSuccess);_g.modalCartSuccessBackBtn=$(_p.modalCartSuccessBackBtn);_g.btnIncrCount=$(_p.btnIncrCount);_g.btnDecrCount=$(_p.btnDecrCount);_g.changePlanBtn=$(_p.changePlanBtn);_g.confirmChangePlan=$(_p.confirmChangePlan);_g.clearGalleryBtn=$(_p.clearGalleryBtn);_g.header=$(_p.header);},_setup=function(){if($(window).width()>1280){$(document).keydown(function(evt){if(evt.keyCode===27){_g.closeModal.click();_g.closeModalBig.click();return false;}});}
    _g.closeModal.on('click',function(e){_closeModalWindows(e);});_g.closeBtn.on('click',function(e){_closeModalWindows(e);});_g.closeWidget.on('click',function(e){let parent=$(this).parent();parent.remove();e.preventDefault();});_g.repeateBtn.on('click',function(e){e.preventDefault();$(this).closest('.popup').removeClass('fail');});},_setBinds=function(){_binds().showStandartModal();_binds().setClickBackBtn();_binds().setClickCartSuccessBackBtn();_binds().setClickIncrCountBtn();_binds().setClickDecrCountBtn();_binds().setChangeImgTypeTabs();_binds().setChangePlanBtnClick();_binds().setConfirmChangePlan();_binds().setClearGallery();},_binds=function(){return{showStandartModal:function(){$('body').on('click','.btn-show-modal',function(e){e.preventDefault();let $el=$(this);if($el.hasClass('blocked'))return;let modalId=$el.attr('data-targetModal');$('#'+modalId).addClass('active');$('body').addClass('muted');$('#printMore').removeClass('active');$('#lightBoxLogin').removeClass('active');if($('body').hasClass('setting-gallery-page')){_g.header.addClass('fixed');}})},setClickBackBtn:function(){_modalWindows.bind($('.modal-back-btn'),'click',function(e,data,el){e.preventDefault();});},setClickCartSuccessBackBtn:function(){_modalWindows.bind(_g.modalCartSuccessBackBtn,'click',function(e,data,el){e.preventDefault();_g.modalCartSuccess.removeClass('active');_g.modalCartMain.addClass('active');});},setClickIncrCountBtn:function(){_modalWindows.bind(_g.btnIncrCount,'click',function(e,data,el){e.preventDefault();var form=$(el).closest('form');var currentCount=Number($(form).find('.count-value').val());var count=currentCount+1;$(form).find('.count-value').val(count);_setCartItemTotalCost(count);});},setClickDecrCountBtn:function(){_modalWindows.bind(_g.btnDecrCount,'click',function(e,data,el){e.preventDefault();var form=$(el).closest('form');var currentCount=Number($(form).find('.count-value').val());var count=currentCount-1;if(count<=0){$(form).find('.count-value').val(0);$(el).attr('disabled',true);_setCartItemTotalCost(0);}else{$(form).find('.count-value').val(count);_setCartItemTotalCost(count);}});},setChangeImgTypeTabs:function(){_modalWindows.bind($('.photo-type'),'click',function(e,data,el){e.preventDefault();$('.photo-type').each(function(){$(this).removeClass('active');});$(el).addClass('active');});},setChangePlanBtnClick:function(){_modalWindows.bind(_g.changePlanBtn,'click',function(e,data,el){var $btn=$(el);var plan_id=$btn.data('id');_d.chosenPlanId=plan_id;if($btn.hasClass('plan-month')){var term='/'+global.lexicon['month'];_d.chosenPlanType='month';}else if($btn.hasClass('plan-year')){var term='/'+global.lexicon['year'];_d.chosenPlanType='year';}
        $('#cost').html($btn.find('.price').html()+term);});},setConfirmChangePlan:function(){_modalWindows.bind(_g.confirmChangePlan,'click',function(e,data,el){e.preventDefault();$.ajax({url:global.ajaxHandlerUrl,method:'post',data:{planId:_d.chosenPlanId,type:_d.chosenPlanType,action:'changePlan'},success:function(response){response=JSON.parse(response);if(response['success']===true){if(response['plan']){_modalWindows.trigger('feedbackPopup_showPopup',{type:'success',message:response['message']});}else{var requestData={};requestData.orderNumber=response.code;requestData.amount=response.amount;_paymentRequest(requestData,'post');}}else{$('#js_delete_all_albums_popup').addClass('active');$('#js_delete_all_albums_popup .popup_messages').html(response['message']);}}});});},setClearGallery:function(){_modalWindows.bind(_g.clearGalleryBtn,'click',function(e,data,el){e.preventDefault();var $_GET=_modalWindows.getRequestArgs();$.ajax({url:global.ajaxHandlerUrl,method:'post',data:{gallery:$_GET['gallery'],clearGallery:true,action:'removephotos'},beforeSend:function(){$('#removeAll > .popup--center').removeClass('success');$('#removeAll').removeClass('active');_modalWindows.trigger('feedbackPopup_showPopup',{type:'success',message:'      '});},success:function(response){response=JSON.parse(response);$('#removeAll > .popup--center').removeClass('success');$('#removeAll').removeClass('active');if(response['success']===true){$('#feedback > .popup--center').removeClass('success');$('#feedback').removeClass('active');window.location.reload();}else{$('#feedback > .popup--center').removeClass('success');$('#feedback').removeClass('active');_modalWindows.trigger('feedbackPopup_showPopup',{type:'success',message:'    '});}}});});}};},_paymentRequest=function(data,method){if(data.amount&&method==='post'){if(!data.orderNumber){console.log('Order number is not isset or empty!');}else{$.ajax({url:global.ajaxHandlerUrl,data:{orderNumber:data.orderNumber,amount:data.amount,action:'paymentRequest'},xhrFields:{withCredentials:true},method:method,success:function(response){;response=JSON.parse(response);console.log(response);if(response.success){window.location.href=response.formUrl;}else{console.log(response);}}});}}},_triggers=function(){return{};},_closeModalWindows=function(e){let modWin=$(e.target).closest('.modal');modWin.removeClass('active');let videoIframe=_g.videoWrap.find('iframe'),videoAttr=videoIframe.attr('src');videoAttr=videoAttr+'?enablejsapi=1';videoIframe.attr('src',videoAttr);$('body').removeClass('active muted');e.preventDefault();if($('body').hasClass('setting-gallery-page')){_g.header.removeClass('fixed');}},_setModalListRowImgCount=function(){if(_g.photosInCart.length>0){var rowSizeItems=$('.landing-gallery__size');$(rowSizeItems).each(function(){var rowItemSize=$(this).text();for(var key in _g.photosInCart){console.log(key);}});}},_convertPriceToNumber=function(price){var spacePos=price.indexOf(' ');var priceNumber='';for(var i=0;i<spacePos;i++){priceNumber+=price[i];}
    return Number(priceNumber);},_setCartItemTotalCost=function(count){var price=_convertPriceToNumber($('.photo-price-counter').text());var overallCost=0;overallCost=price*count;$('.total-sum').text(parseFloat(overallCost).toFixed(2));},_setCustomMethods=function(){_modalWindows.globals.customResurrect=function(){};_modalWindows.globals.customDestroy=function(){};};_modalWindows.addMethod('init',function(){_modalWindows.bind($window,_modalWindows.globals.classType+'_Init',function(e,data,el){_g.preloaded=true;_init();});});_init();});"use strict";appMakeBeCool.gateway.addClass('FormsFunctions',function(properties,$,$window,$document){var _formsFunctions=this,_d={datepickerBtn:'.datepicker-label',datepicker:'.datepicker',searchBtn:'#search-toggle',formLabel:'.addon label',inputAdd:'#inputAdd',range:'input[type="range"]',inputFile:'input[type="file"]'},_p=$.extend(_d,properties),_g={datepickerBtn:null,datepicker:null,searchBtn:null,formLabel:null,inputAdd:null,range:null,inputFile:null,preloaded:false},_init=function(){appMakeBeCool.gateway.base.Class.apply(_formsFunctions,[_p]);if(!_g.preloaded){return _formsFunctions.init();}
    _formsFunctions.globals.customCreate=function(){_config();_setup();_setBinds();_setCustomMethods();};_formsFunctions.create();},_config=function(){_g.datepickerBtn=$(_p.datepickerBtn);_g.datepicker=$(_p.datepicker);_g.searchBtn=$(_p.searchBtn);_g.formLabel=$(_p.formLabel);_g.inputAdd=$(_p.inputAdd);_g.range=$(_p.range);_g.inputFile=$(_p.inputFile);},_setup=function(){_initDatepicker();_focusInput();_phoneInputMask();_textareaAutosize();_initSelect2();_g.searchBtn.on('focus',function(e){_searchToggle(e);});_g.searchBtn.on('focusout',function(e){_searchToggle(e);});_g.formLabel.on('click',function(e){_setFocus(e);});_g.inputAdd.on('click',function(e){_addInput(e);});_g.range.on("change",function(e){_setRange(e);});_g.inputFile.on("change",function(e){_setInputFileName(e);});_g.inputFile.on("change",function(e){_setInputFileName(e);});$('.default-prevented').on('click',function(e){e.preventDefault();});},_setBinds=function(){_binds().resizeCustomSelect();},_binds=function(){return{resizeCustomSelect:function(){$window.resize(function(){_setMaxWidthCustomSelect();})}};},_triggers=function(){return{};},_initDatepicker=function(){_g.datepicker.each(function(){let $datapicker=$(this);if($datapicker.closest('.search-control').length){if($datapicker.closest('.orders-filter')){$datapicker.datepicker({changeYear:true,dateFormat:"yy-mm-dd",yearRange:'1940:'+new Date().getFullYear()});}
    $datapicker.datepicker({changeMonth:true,changeYear:true,dateFormat:'MM yy',yearRange:'1940:'+new Date().getFullYear()});}else if($datapicker.closest('.addon').hasClass('date-shooting')){$datapicker.datepicker({changeYear:true,dateFormat:"dd-mm-yy",yearRange:'1940:'+new Date().getFullYear()});}else{$datapicker.datepicker({changeYear:true,dateFormat:"yy-mm-dd",yearRange:'1940:'+new Date().getFullYear()});}});_g.datepickerBtn.on('click',function(e){let $datapicker=$(e.target).parent().find(_p.datepicker);$datapicker.datepicker("show");});},_focusInput=function(){$(".addon input").focus(function(){let wrap=$(this).closest('.form-group');wrap.addClass('focus');});$(".addon input").focusout(function(){let wrap=$(this).closest('.form-group');wrap.removeClass('focus');});$('select.form-control').on('select2:open',function(e){let wrap=$(this).closest('.form-group');wrap.addClass('focus');});$('select.form-control').on('select2:close',function(e){let wrap=$(this).closest('.form-group');wrap.removeClass('focus');});},_phoneInputMask=function(){if($('input[type="tel"]').length){var maskList=$.masksSort($.masksLoad("phone-codes.json"),['#'],/[0-9]|#/,"mask");var maskOpts={inputmask:{definitions:{'#':{validator:"[0-9]",cardinality:1}},showMaskOnHover:false,autoUnmask:true},match:/[0-9]/,replace:'#',list:maskList,listKey:"mask",onMaskChange:function(maskObj,completed){if(completed){var hint=maskObj.name_ru;if(maskObj.desc_ru&&maskObj.desc_ru!=""){hint+=" ("+maskObj.desc_ru+")";}
        $("#descr").html(hint);}else{$("#descr").html(" ");}
        $(this).attr("placeholder",$(this).inputmask("getemptymask"));}};$('.js_customer_phone').inputmasks(maskOpts);$('input[type="tel"]').inputmask({mask:'+9(999)999-99-99',placeholder:'+ (   )   -  -  ',showMaskOnHover:false,showMaskOnFocus:true,onBeforePaste:function(pastedValue,opts){var processedValue=pastedValue;return processedValue;}});}
    if($('input[name="cvv"]').length){$('input[name="cvv"]').inputmask({mask:'999',placeholder:' ',showMaskOnHover:false,showMaskOnFocus:true,clearIncomplete:true,});}
    if($('input[name="card"]').length){$('input[name="card"]').inputmask({mask:'9999-9999-9999-9999',placeholder:'0000-0000-0000-0000',showMaskOnHover:false,showMaskOnFocus:true,clearIncomplete:true,});}},_textareaAutosize=function(){if($('textarea').length){autosize($('textarea'));}},_initSelect2=function(){if($('select.form-control').length){$('select.form-control').select2({minimumResultsForSearch:Infinity,containerCssClass:"select-papa",dropdownCssClass:"select-papa__dropped"});_setMaxWidthCustomSelect();}},_searchToggle=function(e){$(e.target).closest('form').toggleClass('active');e.preventDefault();},_setMaxWidthCustomSelect=function(){if($window.width()>767){$('select.form-control').each(function(){let widthParent=$(this).parent().outerWidth()-2;let widthLabel=$(this).parent().find('.control-label').outerWidth();$(this).next().css('maxWidth',widthParent-widthLabel+'px')})}else{$('select.form-control').each(function(){$(this).next().css('maxWidth','none')})}},_setFocus=function(e){let $parent=$(e.target).closest('.form-group'),$input=$parent.find('input'),$select=$parent.find('select');$input.focus();$select.select2("open");},_setRange=function(e){let $label=$(e.target).siblings('.range-label'),$labelVal=$label.find('span'),val=$(e.target).val();$labelVal.html(val+'%');},_setInputFileName=function(e){let $label=$(e.target).siblings('.control-label--file'),val=e.target.files;name=val[0].name;$label.html(name);},_addInput=function(e){e.preventDefault();let $form=$(e.target).closest('form'),$input=$form.find('.form-group').first(),$newInput=$input.clone();$newInput.insertBefore($input);},_setCustomMethods=function(){_formsFunctions.globals.customResurrect=function(){};_formsFunctions.globals.customDestroy=function(){};};_formsFunctions.addMethod('init',function(){_formsFunctions.bind($window,_formsFunctions.globals.classType+'_Init',function(e,data,el){_g.preloaded=true;_init();});});_init();});"use strict";appMakeBeCool.gateway.addClass('WidgetVideo',function(properties,$,$window,$document){var _widgetVideo=this,_d={playBtn:'.widgets-play',video:'#video'},_p=$.extend(_d,properties),_g={playBtn:null,video:null,preloaded:false},_init=function(){appMakeBeCool.gateway.base.Class.apply(_widgetVideo,[_p]);if(!_g.preloaded){return _widgetVideo.init();}
    _widgetVideo.globals.customCreate=function(){_config();_setup();_setBinds();_setCustomMethods();};_widgetVideo.create();},_config=function(){_g.playBtn=$(_p.playBtn);_g.video=$(_p.video);},_setup=function(){_g.playBtn.on('click',function(event){event.preventDefault();_g.video.addClass('active');$('body').addClass('active');});},_setBinds=function(){},_binds=function(){return{};},_triggers=function(){return{};},_setCustomMethods=function(){_widgetVideo.globals.customResurrect=function(){};_widgetVideo.globals.customDestroy=function(){};};_widgetVideo.addMethod('init',function(){_widgetVideo.bind($window,_widgetVideo.globals.classType+'_Init',function(e,data,el){_g.preloaded=true;_init();});});_init();});"use strict";appMakeBeCool.gateway.addClass('Dropdown',function(properties,$,$window,$document){var _dropdown=this,_d={dropdownList:'.dropdown-control__list',dropdownBtn:'.dropdown-control__field',dropdownItem:'.dropdown-control__list-item',dropdownMenuBtn:'.b-dropdown__btn',listDropdown:'.cat-side__inner-list .cat-list__ttl'},_p=$.extend(_d,properties),_g={dropdownBtn:null,dropdownItem:null,dropdownList:null,dropdownMenuBtn:null,listDropdown:null,preloaded:false},_init=function(){appMakeBeCool.gateway.base.Class.apply(_dropdown,[_p]);if(!_g.preloaded){return _dropdown.init();}
    _dropdown.globals.customCreate=function(){_config();_setup();_setBinds();_setCustomMethods();};_dropdown.create();},_config=function(){_g.dropdownBtn=$(_p.dropdownBtn);_g.dropdownItem=$(_p.dropdownItem);_g.dropdownList=$(_p.dropdownList);_g.dropdownMenuBtn=$(_p.dropdownMenuBtn);_g.listDropdown=$(_p.listDropdown);},_setup=function(){_g.listDropdown.on('click',function(){$(this).toggleClass('active');});_g.dropdownBtn.on('click',function(){$(this).next().fadeToggle(0);$(this).toggleClass('focus');});_g.dropdownItem.on('click',function(e){let $item=$(e.target),itemValue=$item.text(),$parent=$item.closest('.dropdown-control'),$list=$item.closest('.dropdown-control__list'),$items=$list.find('a'),$field=$parent.find('.dropdown-control__field');$items.removeClass('active');$item.addClass('active');$field.text(itemValue);if($(window).width()<768){$list.fadeToggle(0);}
    event.preventDefault();});},_setBinds=function(){_binds().openDropDownMenu();_binds().closeDropDownMenu();_binds().closeGalleryBarMenu();_binds().knowledgeOpenDropDownMenu();_binds().knowledgeCloseContentList();},_binds=function(){return{openDropDownMenu:function(){$(_g.dropdownMenuBtn).on('click',function(e){e.preventDefault();$(this).closest('.b-dropdown').toggleClass('active');});},closeDropDownMenu:function(){$($window).on('click',function(event){if(!$(event.target).hasClass('b-dropdown__btn')){let dropdowns=document.getElementsByClassName("b-dropdown");let i;for(i=0;i<dropdowns.length;i++){let openDropdown=dropdowns[i];if(openDropdown.classList.contains('active')){openDropdown.classList.remove('active');}}}})},closeGalleryBarMenu:function(){$($window).on('click',function(event){if(!$(event.target).hasClass('b-dropdown__btn')){$(".gallery-bar__menu.active").removeClass('active');$("#galleryBarMenuBtn.active").removeClass('active');}})},knowledgeOpenDropDownMenu:function(){$('.knowledge__open-items').on('click',function(){$(this).toggleClass('active');$(this).closest('.knowledge__cat-mode').find('.cat-list').first().slideToggle();});},knowledgeCloseContentList:function(){if($(window).width()<1280){if($('.search-list .search-list__item').length!=0){$('.knowledge-content-list').hide();}else{$('.knowledge-content-list').show();};}}};},_triggers=function(){return{};},_setCustomMethods=function(){_dropdown.globals.customResurrect=function(){};_dropdown.globals.customDestroy=function(){};};_dropdown.addMethod('init',function(){_dropdown.bind($window,_dropdown.globals.classType+'_Init',function(e,data,el){_g.preloaded=true;_init();});});_init();});"use strict";appMakeBeCool.gateway.addClass('MenuToggle',function(properties,$,$window,$document){var _menuToggle=this,_d={menuBtn:'#headerTopBtnAuth',menu:'#header__menu',body:'body',accBtn:'#cabinet__accaunt-btn',noticeBtn:'#cabinet__notofication-btn',notice:'#cabinet__notification',accMenu:'#accaunt__menu',clientLandingMenuBtn:'#topBtn',clientLandingMenu:'#topMenu',logout:'#logout'},_p=$.extend(_d,properties),_g={menuBtn:null,menu:null,body:null,accBtn:null,accMenu:null,noticeBtn:null,notice:null,clientLandingMenuBtn:null,clientLandingMenu:null,logout:null,preloaded:false},_init=function(){appMakeBeCool.gateway.base.Class.apply(_menuToggle,[_p]);if(!_g.preloaded){return _menuToggle.init();}
    _menuToggle.globals.customCreate=function(){_config();_setup();_setBinds();_setCustomMethods();};_menuToggle.create();},_config=function(){_g.menuBtn=$(_p.menuBtn);_g.menu=$(_p.menu);_g.body=$(_p.body);_g.accBtn=$(_p.accBtn);_g.accMenu=$(_p.accMenu);_g.noticeBtn=$(_p.noticeBtn);_g.notice=$(_p.notice);_g.clientLandingMenuBtn=$(_p.clientLandingMenuBtn);_g.clientLandingMenu=$(_p.clientLandingMenu);_g.logout=$(_p.logout);},_setup=function(){if($(window).width()<1280){_g.menuBtn.on('click',function(event){event.preventDefault();$(this).toggleClass('pressed');_closeAccauntMenu(event);_closeNotification(event);_openMenu();});_g.accBtn.on('click',function(event){event.preventDefault();$(this).toggleClass('pressed');_closeMenu(event);_closeNotification(event);_openAccauntMenu();});_g.noticeBtn.on('click',function(event){event.preventDefault();$(this).toggleClass('pressed');_closeMenu(event);_closeAccauntMenu(event);_openNotification();});_g.clientLandingMenuBtn.on('click',function(){_toggleLandingMenu();});}},_setBinds=function(){_binds().setLogout();},_binds=function(){return{setLogout:function(){_menuToggle.bind(_g.logout,'click',function(e,data,el){e.preventDefault();$.ajax({url:global.ajaxHandlerUrl,method:'post',data:{action:'logout'},success:function(response){response=JSON.parse(response);if(response['success']==true){window.location=global.resourceLinks['index'];}}});});}};},_triggers=function(){return{};},_openMenu=function(){_g.menu.fadeToggle(0);_g.menuBtn.toggleClass('active');if((_g.noticeBtn.hasClass('pressed')||_g.accBtn.hasClass('pressed'))==false){_g.body.toggleClass('active');}
    _g.accBtn.removeClass('pressed');_g.noticeBtn.removeClass('pressed');},_openAccauntMenu=function(){_g.accMenu.fadeToggle(0);if((_g.noticeBtn.hasClass('pressed')||_g.menuBtn.hasClass('pressed'))==false){_g.body.toggleClass('active');}
    _g.menuBtn.removeClass('pressed');_g.noticeBtn.removeClass('pressed');},_openNotification=function(){_g.notice.fadeToggle(0);if((_g.menuBtn.hasClass('pressed')||_g.accBtn.hasClass('pressed'))==false){_g.body.toggleClass('active');}
    _g.menuBtn.removeClass('pressed');_g.accBtn.removeClass('pressed');},_toggleLandingMenu=function(){_g.clientLandingMenu.toggleClass('active');$('body').toggleClass('active');},_closeNotification=function(event){if(($(event.target).closest(_g.notice).length)||($(event.target).closest(_g.noticeBtn).length))return;_g.notice.hide();event.stopPropagation();},_closeMenu=function(event){if(($(event.target).closest(_g.menu).length)||($(event.target).closest(_g.menuBtn).length))return;_g.menu.hide();_g.menu.removeClass('active');_g.menuBtn.removeClass('active');event.stopPropagation();},_closeAccauntMenu=function(event){if(($(event.target).closest(_g.accMenu).length)||($(event.target).closest(_g.accBtn).length))return;_g.accMenu.hide();event.stopPropagation();},_setCustomMethods=function(){_menuToggle.globals.customResurrect=function(){};_menuToggle.globals.customDestroy=function(){};};_menuToggle.addMethod('init',function(){_menuToggle.bind($window,_menuToggle.globals.classType+'_Init',function(e,data,el){_g.preloaded=true;_init();});});_init();});"use strict";appMakeBeCool.gateway.addClass('Packery',function(properties,$,$window,$document){var _packery=this,_d={packery:'.packery',},_p=$.extend(_d,properties),_g={packery:null,preloaded:false},_init=function(){appMakeBeCool.gateway.base.Class.apply(_packery,[_p]);if(!_g.preloaded){return _packery.init();}
    _packery.globals.customCreate=function(){_config();_setup();_setBinds();_setCustomMethods();};_packery.create();},_config=function(){_g.packery=$(_p.packery);},_setup=function(){if(_g.packery.length){var items=_g.packery.find('.landing-gallery__album-img');if(items.length>0){_g.packery.packery({columnWidth:'.landing-gallery__album-img',itemSelector:'.landing-gallery__album-img',gutter:2,percentPosition:true});}}},_setBinds=function(){_binds().setReinitPackery();},_binds=function(){return{setReinitPackery:function(){_packery.bind($window,'packery_reinitPackery',function(e,data,el){if(_g.packery.length){_g.packery.packery({columnWidth:'.landing-gallery__album-img',itemSelector:'.landing-gallery__album-img',gutter:2,percentPosition:true});}});}};},_triggers=function(){return{};},_setCustomMethods=function(){_packery.globals.customResurrect=function(){};_packery.globals.customDestroy=function(){};};_packery.addMethod('init',function(){_packery.bind($window,_packery.globals.classType+'_Init',function(e,data,el){_g.preloaded=true;_init();});});_init();});"use strict";appMakeBeCool.gateway.addClass('LightGallery',function(properties,$,$window,$document){var _lightGallery=this,_d={lightgallery:'.landing-gallery__album',slideBtn:'#slideshow',firstSlide:'#firstSlide',listPhotoGallery:'.b-photo-list',},_p=$.extend(_d,properties),_g={lightgallery:null,slideBtn:null,firstSlide:null,listPhotoGallery:null,preloaded:false},_init=function(){appMakeBeCool.gateway.base.Class.apply(_lightGallery,[_p]);if(!_g.preloaded){return _lightGallery.init();}
    _lightGallery.globals.customCreate=function(){_config();_setup();_setBinds();_setCustomMethods();};_lightGallery.create();},_config=function(){_g.lightgallery=$(_p.lightgallery);_g.firstSlide=$(_p.firstSlide);_g.slideBtn=$(_p.slideBtn);_g.listPhotoGallery=$(_p.listPhotoGallery);},_setup=function(){_g.slideBtn.on('click',function(){_g.lightgallery.lightGallery({selector:'.landing-gallery__album-img',keyPress:92,download:false,autoplayControls:false,progressBar:false,pause:2000,thumbnail:false,counter:false});_g.firstSlide.trigger('click');return false;});_g.listPhotoGallery.lightGallery({selector:'.open-gallery-wrap--tile .zoom-in',download:false,autoplayControls:false,progressBar:false,addClass:'gallery-photo',appendCounterTo:'.lg',thumbnail:false,escKey:true});$document.keyup(function(e){if(e.keyCode===27)$('.lg-close.lg-icon').trigger('click');});},_setBinds=function(){},_binds=function(){return{};},_triggers=function(){return{};},_setCustomMethods=function(){_lightGallery.globals.customResurrect=function(){};_lightGallery.globals.customDestroy=function(){};};_lightGallery.addMethod('init',function(){_lightGallery.bind($window,_lightGallery.globals.classType+'_Init',function(e,data,el){_g.preloaded=true;_init();});});_init();});"use strict";appMakeBeCool.gateway.addClass('ClientLanding',function(properties,$,$window,$document){var _clientLanding=this,_d={lightBtn:'.landing-bar__menu .dots',lightMenu:'.landing-bar__menu-list',buyPhoto:'#buyPhoto',buyPhotoMasonry:'.js_add_basket',modalWindow:'.modal--landing',modalWindowClose:'.modal .close--small',modalPhoto:'.modal .landing-gallery__album-img .inner',photoSize:'.landing-gallery__buy',cartTtl:'.landing-gallery__popup-order--sum h3',cartOrderMain:'.landing-gallery__popup-order--main',cartOrderSum:'.landing-gallery__popup-order--sum',cartOrderSuccess:'.landing-gallery__popup-order--success',undo:'.modal .back-btn',slickFor:'.slick-for',slickForImgName:'.slick-wrap .landing-gallery__img-name',slickNav:'.slick-nav',addToFavourites:'.landing-bar__menu-star',addToFavouritesMasonry:'.js_add_favorite',emailPopupForm:'#lightboxEnter',downloadPhotos:'#downloadPhotos',toOrder:'.to_order',downloadAllPhotos:'#downloadAllPhotos',downloadAllPopup:'#downloadAll',downloadOnePhoto:'#downloadOnePhoto',openGalleryBtn:'.gallery-open',},_p=$.extend(_d,properties),_g={lightBtn:null,lightMenu:null,buyPhoto:null,buyPhotoMasonry:null,modalWindow:null,currentPhoto:null,modalPhoto:null,photoSize:null,cartTtl:null,cartOrderMain:null,cartOrderSum:null,cartOrderSuccess:null,undo:null,modalWindowClose:null,slickFor:null,slickNav:null,slickForImgName:null,photosInCart:null,addToFavourites:null,addToFavouritesMasonry:null,btnIncrCount:null,btnDecrCount:null,deleteItem:null,emailPopupForm:null,clientEmail:null,deleteFavourite:null,downloadPhotos:null,toOrder:null,downloadAllPhotos:null,downloadAllPopup:null,downloadOnePhoto:null,openGalleryBtn:null,preloaded:false},_init=function(){appMakeBeCool.gateway.base.Class.apply(_clientLanding,[_p]);if(!_g.preloaded){return _clientLanding.init();}
    _clientLanding.globals.customCreate=function(){_config();_setup();_setBinds();_setCustomMethods();};_clientLanding.create();},_config=function(){_g.lightBtn=$(_p.lightBtn);_g.lightMenu=$(_p.lightMenu);_g.buyPhoto=$(_p.buyPhoto);_g.buyPhotoMasonry=$(_p.buyPhotoMasonry);_g.modalWindow=$(_p.modalWindow);_g.currentPhoto=$(_p.currentPhoto);_g.modalPhoto=$(_p.modalPhoto);_g.photoSize=$(_p.photoSize);_g.cartTtl=$(_p.cartTtl);_g.cartOrderMain=$(_p.cartOrderMain);_g.cartOrderSum=$(_p.cartOrderSum);_g.cartOrderSuccess=$(_p.cartOrderSuccess);_g.undo=$(_p.undo);_g.modalWindowClose=$(_p.modalWindowClose);_g.slickFor=$(_p.slickFor);_g.slickNav=$(_p.slickNav);_g.slickForImgName=$(_p.slickForImgName);_g.createAlbmBtn=$(_p.createAlbmBtn);_g.photosInCart={};_g.addToFavourites=$(_p.addToFavourites);_g.addToFavouritesMasonry=$(_p.addToFavouritesMasonry);_g.favouritesPhotos={};_g.emailPopupForm=$(_p.emailPopupForm);_g.clientEmail='';_g.downloadPhotos=$(_p.downloadPhotos);_g.toOrder=$(_p.toOrder);_g.openGalleryBtn=$(_p.openGalleryBtn);_g.downloadAllPhotos=$(_p.downloadAllPhotos);_g.downloadAllPopup=$(_p.downloadAllPopup);_g.downloadOnePhoto=$(_p.downloadOnePhoto);},_setup=function(){var pathname=document.location.pathname.split('/');var page=pathname[pathname.length-1];var url=document.location.pathname;var urlArr=url.split('/');document.domain=window.location.host;if(urlArr.length>2){_getFavouritesData();}
    _g.slickFor.on('init',function(e){var $current=$(this).find('.slick-current'),name=$current.attr('data-name');_g.slickForImgName.text(name);});_g.slickFor.slick({slidesToShow:1,slidesToScroll:1,arrows:true,fade:true,asNavFor:_g.slickNav,lazyLoad:'progressive',});_g.slickFor.on('afterChange',function(e){var $current=$(this).find('.slick-current'),name=$current.attr('data-name');_g.slickForImgName.text(name);_checkFavouriteStatus(_g.favouritesPhotos);});_g.slickNav.slick({slidesToShow:10,slidesToScroll:5,asNavFor:_g.slickFor,centerMode:false,focusOnSelect:true,infinite:true,responsive:[{breakpoint:1024,settings:{slidesToShow:8,slidesToScroll:4,}},{breakpoint:600,settings:{slidesToShow:6,slidesToScroll:3,}},{breakpoint:480,settings:{slidesToShow:5,slidesToScroll:1,}}]});_g.lightBtn.on('click',function(){_g.lightMenu.fadeToggle(0);return false;});_g.buyPhoto.on('click',function(){var galleryId=document.location.pathname.split('/')[2];$.ajax({url:window.global.siteUrl+global.ajaxHandlerUrl,data:{gallery:galleryId,action:'getGallerySettings'},xhrFields:{withCredentials:true},method:'post',success:function(response){response=JSON.parse(response);if(response.success){_cartPhoto();$('.photo__counter').removeClass('active');_setModalListRowImgCount();}else{var data={success:'false',message:response.message};_triggers().triggerPopup(data);}
            $('.landing-gallery__popup-order--main .tabs__caption li').eq(0).click();}});});_g.buyPhotoMasonry.on('click',function(){var galleryId=document.location.pathname.split('/')[2];var bgimage=$(this).data('bgimage');var name=$(this).data('name');var small=$(this).data('small');var id=$(this).data('id');$.ajax({url:window.global.siteUrl+global.ajaxHandlerUrl,data:{gallery:galleryId,action:'getGallerySettings'},xhrFields:{withCredentials:true},method:'post',success:function(response){response=JSON.parse(response);if(response.success){_cartPhotoMasonry(id,bgimage,name,small);$('.photo__counter').removeClass('active');_setModalListRowImgCount();}else{var data={success:'false',message:response.message};_triggers().triggerPopup(data);}
            $('.landing-gallery__popup-order--main .tabs__caption li').eq(0).click();}});});_g.photoSize.on('click',function(e){$.ajax({url:window.global.siteUrl+global.ajaxHandlerUrl,data:{action:'checkClient'},xhrFields:{withCredentials:true},method:'POST',success:function(response){response=JSON.parse(response);if(response.success===false){$('#lightBoxLogin').find('h2').text('   ');$('#lightBoxLogin').find('.js_text_form_login').text('        .');$('#lightBoxLogin').removeClass('blocked');$('#lightBoxLogin').addClass('active');$('body').addClass('muted');}else{$('.count-value').val(1)
            var counter=$(this).closest('.photo__counter');counter.addClass('active');_setCartTtl(e);_toggleCartSum();_setCartItemTotalCost(1);}}});});_g.undo.on('click',function(){_backToCart();});_g.modalWindowClose.on('click',function(){_backToCart();$('#lightBoxLogin').find('.js_text_form_login').text('');});},_setBinds=function(){_binds().setAddToFavouritesClick();_binds().setAddToFavouritesClickMasonry();_binds().setLightboxEmailPopupSubmit();_binds().setCheckCartCount();_binds().setDownloadAllClick();_binds().setApproveDownloadPopup();_binds().setDownloadOneClick();_binds().setGalleryItemClick();_binds().setOpenGalleryClick();},_binds=function(){return{setAddToFavouritesClick:function(){_clientLanding.bind(_g.addToFavourites,'click',function(e,data,el){e.preventDefault();var datObj={};var photos=$('.large-img');var photoId=0;var galleryId='';var galleryIdPos=document.location.pathname.indexOf('gallery/')+8;while(document.location.pathname[galleryIdPos]!=='/'){galleryId+=document.location.pathname[galleryIdPos];galleryIdPos++;}
        datObj['gallery']=Number(galleryId);$(photos).each(function(){if($(this).hasClass('slick-active')){photoId=Number($(this).attr('data-id'));datObj['photo']=photoId;}});photoId=$('.fotorama__active .fotorama__html > div').attr('data-id');datObj['photo']=photoId;console.log('da');$.ajax({url:window.global.siteUrl+global.ajaxHandlerUrl,data:{favourites:datObj,action:'createFavourite'},xhrFields:{withCredentials:true},method:'post',success:function(response){response=JSON.parse(response);if(response.success){$('.landing-gallery__album-msg--success').fadeIn();$('.landing-gallery__album-msg--success').find('h3').text(response.message);setTimeout(function(){$('.landing-gallery__album-msg--success').fadeOut();},1500);}else{if(response.client===false){$('#lightBoxLogin').removeClass('blocked');$('#lightBoxLogin').find('h2').text(' ');$('#lightBoxLogin').find('.js_text_form_login').text('  ,       ,   .  , ,   . .');$('#lightBoxLogin').addClass('active');$('body').addClass('muted');}else{$('.landing-gallery__album-msg--error').fadeIn();$('.landing-gallery__album-msg--error').find('h3').text(response.message);setTimeout(function(){$('.landing-gallery__album-msg--error').fadeOut();},1500);}}}});});},setAddToFavouritesClickMasonry:function(){_clientLanding.bind(_g.addToFavouritesMasonry,'click',function(e,data,el){e.preventDefault();var data={};data['gallery']=$(el).data('gallery');data['photo']=$(el).data('id');$.ajax({url:window.global.siteUrl+global.ajaxHandlerUrl,data:{favourites:data,action:'createFavourite'},xhrFields:{withCredentials:true},method:'post',success:function(response){response=JSON.parse(response);if(response.success){$(el).closest('.thumbs_album').find('.landing-gallery__album-msg--success').fadeIn();$(el).closest('.thumbs_album').find('.landing-gallery__album-msg--success').find('h3').text(response.message);setTimeout(function(){$(el).closest('.thumbs_album').addClass('icon-added-favorites').find('.landing-gallery__album-msg--success').fadeOut();},1500);}else{if(response.client===false){$('#lightBoxLogin').removeClass('blocked');$('#lightBoxLogin').find('h2').text(' ');$('#lightBoxLogin').find('.js_text_form_login').text('  ,       ,   .  , ,   . .');$('#lightBoxLogin').addClass('active');$('body').addClass('muted');}else{$(el).closest('.thumbs_album').find('.landing-gallery__album-msg--error').fadeIn();$(el).closest('.thumbs_album').find('.landing-gallery__album-msg--error').find('h3').text(response.message);setTimeout(function(){$(el).closest('.thumbs_album').find('.landing-gallery__album-msg--error').fadeOut();},1500);}}}});});},setLightboxEmailPopupSubmit:function(){_clientLanding.bind(_g.emailPopupForm,'submit',function(e,data,el){e.preventDefault();_g.clientEmail=$(el).find('input').val();var clientEmail=_g.clientEmail;$.ajax({url:window.global.siteUrl+global.ajaxHandlerUrl,data:{clientEmail:clientEmail,action:'createClient'},xhrFields:{withCredentials:true},method:'post',success:function(response){response=JSON.parse(response);if(response.success){$('#lightBoxLogin').removeClass('active');$('body').removeClass('muted');$('#lightBoxLogin').addClass('blocked');data={type:'success',message:response.message};_triggers().triggerPopup(data);var path=document.location.pathname.split('/');if(path.length===3){document.location.href=document.location.href+'/home';}}else{if(response.success===false){data={type:'fail',message:response.message};_triggers().triggerPopup(data);console.log(response.message);}}}});})},setClearCartClick:function(){_clientLanding.bind(_g.clearCart,'click',function(e,data,el){e.preventDefault();$(_g.deleteItem).each(function(){$(this).click();});});},setDownloadAllClick:function(){_clientLanding.bind(_g.downloadAllPhotos,'click',function(e,data,el){e.preventDefault();$('#lightBox_download_shared_album').removeClass('blocked');$('#lightBox_download_shared_album').addClass('active');$('body').addClass('muted');});_clientLanding.bind($('#form_download_shared_album'),'submit',function(e,data,el){var email=$('#form_download_shared_album input[name="email"]').val();e.preventDefault();var photos=$('.img-for-download');var photosId=[];var galleryId='';var galleryIdPos=document.location.pathname.indexOf('gallery/')+8;while(document.location.pathname[galleryIdPos]!=='/'){galleryId+=document.location.pathname[galleryIdPos];galleryIdPos++;}
        var number=0;$(photos).each(function(){photosId[number]=$(this).data('id');number++;});$.ajax({url:window.global.siteUrl+global.ajaxHandlerUrl,data:{gallery:galleryId,photosId:photosId,clientSide:true,action:'createArchive',type:'download_shared_album',email:email},xhrFields:{withCredentials:true},method:'post',success:function(response){response=JSON.parse(response);if(response.success){_g.downloadAllPopup.find('.client-email').text(' '+email);_g.downloadAllPopup.addClass('active');$('body').addClass('muted');}else{if(response.client===false){$('#lightBoxLogin').removeClass('blocked');$('#lightBoxLogin').addClass('active');$('body').addClass('muted');}else{$('#downloadAllInfo').find('.js_client-email-info').text(response.message);$('#downloadAllInfo').find('.js_client-email-a').text(response.message_a);$('#downloadAllInfo').find('.js_client-email-a').attr('href',response.message_href);$('#downloadAllInfo').removeClass('blocked');$('#downloadAllInfo').addClass('active');$('body').addClass('muted');}}
                $('#lightBox_download_shared_album').removeClass('active');}});});_clientLanding.bind($('#js_share-gallery-album'),'submit',function(e,data,el){e.preventDefault();const $btnSubmit=$(el).find('.btn');$btnSubmit.attr('disabled','disabled');$btnSubmit.text(' ...');var galleryId='';var galleryIdPos=document.location.pathname.indexOf('gallery/')+8;while(document.location.pathname[galleryIdPos]!=='/'){galleryId+=document.location.pathname[galleryIdPos];galleryIdPos++;}
        console.log(galleryId);var $_GET=_clientLanding.getRequestArgs();var input=$(el).find('input');var emails={};if(input.length>1){$(input).each(function(){var email=$(this).val();var name=$(this).attr('name')+'-'+email;emails[name]=email;});}else{emails=input.val();}
        var textarea=$(el).find('textarea');var text=textarea.val();$.ajax({url:window.global.siteUrl+global.ajaxHandlerUrl,method:'post',data:{gallery:galleryId,emails:emails,text:text,action:'createArchiveNew',type:'share',},success:function(response){response=JSON.parse(response);$btnSubmit.removeAttr('disabled');$btnSubmit.text(' ');if(response.success){_galleryPage.trigger('feedbackPopup_showPopup',{type:'success',message:'       '});}else{_galleryPage.trigger('feedbackPopup_showPopup',{type:'failure',message:'   .   '});}}});});},setApproveDownloadPopup:function(){_clientLanding.bind(_g.downloadAllPopup.find('.btn'),'click',function(e,data,el){e.preventDefault();_g.downloadAllPopup.removeClass('active');$('body').removeClass('muted');});},setDownloadOneClick:function(){_clientLanding.bind(_g.downloadOnePhoto,'click',function(e,data,el){e.preventDefault();var photos=$('.img-for-download');var photoId=0;photoId=$('.fotorama__active .fotorama__html > div').data('id');var domainPos=document.location.host.indexOf('.')+1;var link='';while(document.location.host[domainPos]){link+=document.location.host[domainPos];domainPos++;}
        link+='/ajax/downloadphoto?id='+photoId;window.open('https://greenlight.ink/ajax/downloadphoto?id='+photoId,"_self");});},setCheckCartCount:function(){_clientLanding.bind(_g.toOrder,'click',function(e,data,el){if($('.cart-item').length<1){e.preventDefault();}});},setGalleryItemClick:function(){_clientLanding.bind($('.gallery-item'),'click',function(e,data,el){e.preventDefault();if($(el).data('access')==='with'){$('#enterPassword').addClass('active');$(el).addClass('active-pass-form');}else{document.location.href=$(el).find('a').attr('href');}})},setOpenGalleryClick:function(){_clientLanding.bind(_g.openGalleryBtn,'click',function(e,data,el){e.preventDefault();if($(el).data('prereg')===1){var path=window.location.pathname.split('/');var galleryId=path[path.length-1];$.ajax({method:'post',url:window.global.siteUrl+global.ajaxHandlerUrl,xhrFields:{withCredentials:true},data:{galleryId:galleryId,action:'checkClient'},success:function(response){response=JSON.parse(response);if(response.client){document.location.href=$(el).attr('href');}else{$('#lightBoxLogin').removeClass('blocked');$('#lightBoxLogin').addClass('active');$('body').addClass('muted');}}});}else{document.location.href=$(el).attr('href');}});}};},_getCartData=function(){$.ajax({url:window.global.siteUrl+global.ajaxHandlerUrl,data:{session:true,action:'session'},xhrFields:{withCredentials:true},method:'post',success:function(response){$('.cart_loader').css({"display":"none"});response=JSON.parse(response);if(response.session!==null){_g.photosInCart=response.session;_setModalListRowImgCount();}
    else{_g.photosInCart={};}
        console.log('getCardData',_g.photosInCart);}});},_cartPhoto=function(){_g.modalWindow.addClass('active');let currentAttr=$('.fotorama__active img').eq(0).attr('src');_g.modalPhoto.each(function(){$(this).find('img').attr('src',currentAttr);});},_cartPhotoMasonry=function(id,bgimage,name,small){_g.modalWindow.addClass('active');_g.modalPhoto.each(function(){$(this).find('img').attr('data-id',id);$(this).find('img').attr('src',bgimage);$(this).find('img').attr('data-name',name);$(this).find('img').attr('data-small',small);});},_setModalListRowImgCount=function(){var i=0;for(var key in _g.photosInCart){i++;}
    if(i>0){var rowSizeItems=$('.landing-gallery__size');var currentImage=$('.landing-gallery__img-name').text();for(key in _g.photosInCart){if(_g.photosInCart[key].name===currentImage){$(rowSizeItems).each(function(){var rowItemSize=$(this).text();for(var z in _g.photosInCart[key].options){var pos=_g.photosInCart[key].options[z].optionName.indexOf(rowItemSize);if(pos>=0){var counterRow=$(this).closest('.row').find('.photo__counter');counterRow.addClass('active');counterRow.text(_g.photosInCart[key].options[z].count);if(Number(counterRow.text())<1){counterRow.removeClass('active');}}}});}}}},_setFavouritesPageData=function(photos){var id=0;var photoId=0;var albumId=0;var galleryId=0;var mediumUrl='';var count=0;var lastDir='';var lastDirPos=document.location.pathname.lastIndexOf('/')+1;while(document.location.pathname[lastDirPos]){lastDir+=document.location.pathname[lastDirPos];lastDirPos++;}
    if(photos.length>0){$(photos).each(function(){count++;});}
    $(photos).each(function(){id=this.favouriteId;photoId=this.id;albumId=this.albumId;galleryId=this.galleryId;mediumUrl=this.medium_url;if(lastDir==='favourites'){_createFavouritePhotoItem(photoId,albumId,galleryId,mediumUrl,id);}});if(lastDir==='favourites'){if($('.landing-gallery__album').find('.landing-gallery__album-img').length<1){$('.info-msg').attr('style','');}}
    $('.landing-control__label-counter-value').text(count);if(count>0){var menuLink=$(document).find('.landing-menu__chosen');menuLink.parent('li').append('<span>');var chosenCount=menuLink.parent('li').find('span');chosenCount.attr('class','item-count');chosenCount.text(count);}
    _triggers().triggerPackery();_triggers().triggerBgImages();var photosContainer=$('.wrap').find('.packery');var contHeight=0;var contItems=photosContainer.find('.landing-gallery__album-img');_g.deleteFavourite=$('.delete-favourite-item');_g.deleteFavourite.on('click',function(e){e.preventDefault();var id=parseInt($(this).attr('data-favId'));var itemContainer=$(this).closest('.landing-gallery__album-img');$.ajax({url:window.global.siteUrl+global.ajaxHandlerUrl,data:{id:id,action:'deleteFavourite'},xhrFields:{withCredentials:true},method:'post',success:function(response){response=JSON.parse(response);if(response.success){itemContainer.remove();console.log('Delete item favourite!');}else{console.log(response.error);}}});})},_createFavouritePhotoItem=function(photo,album,gallery,url,id){var photosContainer=$('.wrap').find('.packery');if(photosContainer.length>0){var itemContainer=_createDiv(photosContainer);if(parseInt(photosContainer.find('div').length)<2){itemContainer.attr('id','firstSlide');}
    itemContainer.attr('class','landing-gallery__album-img'+' '+'img-for-download');itemContainer.attr('data-id',photo);itemContainer.attr('data-src',url);itemContainer.attr('data-exthumbimage',url);itemContainer.append('<a>');var item=itemContainer.find('a');item.attr('class','inner'+' '+'bg-image');item.attr('href',document.location.origin+'/gallery/'+gallery+'/album/'+album+'/lightbox/'+photo);item.attr('data-bgimage',url);item.css({backgroundImage:"url('"+url+"')"});item.append('<a>');var itemLinks=$(item).find('a');$(itemLinks).each(function(){if(!$(this).attr('class')){var itemDeleteButton=$(this);itemDeleteButton.attr('href','#');itemDeleteButton.attr('data-favId',id);itemDeleteButton.attr('class','close'+' '+'close--small'+' '+'delete-favourite-item');itemDeleteButton.css({position:"relative",left:"89%"});}});}},_getFavouritesData=function(){var favourites=[];var path=document.location.pathname.split('/');var lastDir=path[path.length-1];var galleryId=document.location.pathname.split('/')[2];if(galleryId){$.ajax({url:window.global.siteUrl+global.ajaxHandlerUrl,data:{session:true,galleryId:galleryId,action:'getFavourites','origin':document.location.origin},xhrFields:{withCredentials:true},method:'post',success:function(response){$('.cart_loader').css({"display":"none"});response=JSON.parse(response);if(response.success){_g.favouritesPhotos=response.photos;_checkFavouriteStatus(_g.favouritesPhotos);if(_g.favouritesPhotos.length===0){}
        $('.js_favourites').html(response.photos_tpl);_triggers().triggerPackery();_triggers().triggerBgImages();_g.deleteFavourite=$('.delete-favourite-item');_g.deleteFavourite.on('click',function(e){e.preventDefault();var id=parseInt($(this).attr('data-favId'));var itemContainer=$(this).closest('.landing-gallery__album-img');$.ajax({url:window.global.siteUrl+global.ajaxHandlerUrl,data:{id:id,action:'deleteFavourite'},xhrFields:{withCredentials:true},method:'post',success:function(response){response=JSON.parse(response);if(response.success){itemContainer.remove();console.log('Delete item favourite!');$('.landing-control__label-counter-value').text($('.landing-control__label-counter-value').html()-1);_triggers().triggerPackery();_triggers().triggerBgImages();}else{console.log(response.error);}}});});$('.js_add_basket').on('click',function(){var galleryId=document.location.pathname.split('/')[2];var bgimage=$(this).data('bgimage');var name=$(this).data('name');var small=$(this).data('small');var id=$(this).data('id');$.ajax({url:window.global.siteUrl+global.ajaxHandlerUrl,data:{gallery:galleryId,action:'getGallerySettings'},xhrFields:{withCredentials:true},method:'post',success:function(response){response=JSON.parse(response);if(response.success){_cartPhotoMasonry(id,bgimage,name,small);$('.photo__counter').removeClass('active');_setModalListRowImgCount();}else{var data={success:'false',message:response.message};_triggers().triggerPopup(data);}
                $('.landing-gallery__popup-order--main .tabs__caption li').eq(0).click();}});});if($('.landing-gallery__album').length>0){$.each(response.photos_ids,function(index,value){$('.js_client_album>div[data-id="'+value+'"]').addClass('icon-added-favorites');});}
        if($('.landing-gallery__album-wrap .slick-track').length>0){$.each(response.photos_ids,function(index,value){$('.landing-gallery__album-wrap .slick-track>div[data-id="'+value+'"]').addClass('icon-added-favorites-lightbox');});}
        var count=0;if(_g.favouritesPhotos.length>0){$(_g.favouritesPhotos).each(function(){count++;});}
        $('.landing-control__label-counter-value').text(count);}
    else{console.log(response.message);_g.favouritesPhotos={};}}});}},_setCartTtl=function(e){let parent=$(e.target).closest('.row'),price=parent.find('.row-price').text(),currency=parent.find('.ruble').text(),ttl=parent.find('.landing-gallery__size').text();$('.photo-type').each(function(){if($(this).hasClass('active')){var photoTypeName=$(this).find('a').text();if(photoTypeName.toLowerCase().indexOf('')!==-1){_g.cartTtl.find('.photo-type-counter').text(photoTypeName);_g.cartTtl.find('.photoTypeSize').text(ttl);_g.cartOrderSum.find('.counter-total').hide();}else{_g.cartTtl.find('.photo-type-counter').text(photoTypeName);_g.cartOrderSum.find('.counter-total').show();_g.cartTtl.find('.photoTypeSize').text(ttl);}}});_g.cartTtl.find('.photo-price-counter').text(price+' ');},_convertPriceToNumber=function(price){var spacePos=price.indexOf(' ');var priceNumber='';for(var i=0;i<spacePos;i++){priceNumber+=price[i];}
    return Number(priceNumber);},_createDiv=function(parent){parent.append('<div>');var newDiv=$(parent).find('div');var div={};$(newDiv).each(function(){if(!$(this).attr('class')){div=$(this);}});return div;},_checkFavouriteStatus=function(favourites){var photoItem=$(document).find('.slick-active');var photoId=photoItem.attr('data-id');$(favourites).each(function(){if(this.id===parseInt(photoId)){$('.landing-bar__menu-star').addClass('active');}else{$('.landing-bar__menu-star').removeClass('active');}});},_setCartItemTotalCost=function(count){var price=_convertPriceToNumber($('.photo-price-counter').text());var overallCost=0;overallCost=price*count;$('.total-sum').text(overallCost);},_toggleCartSum=function(){_g.cartOrderMain.removeClass('active');_g.cartOrderSum.addClass('active');_g.modalWindow.addClass('back');},_backToCart=function(){_g.cartOrderMain.addClass('active');_g.cartOrderSum.removeClass('active');_g.cartOrderSuccess.removeClass('active');_g.modalWindow.removeClass('back');},_closeModalWindow=function(){_g.cartOrderSum.removeClass('active');_g.cartOrderSuccess.removeClass('active');_g.cartOrderMain.addClass('active');},_triggers=function(){return{triggerPackery:function(){_clientLanding.trigger('packery_reinitPackery');},triggerBgImages:function(){_clientLanding.trigger('bgImages_reinit');},triggerPopup:function(data){_clientLanding.trigger('feedbackPopup_showPopup',data);}};},_setCustomMethods=function(){_clientLanding.globals.customResurrect=function(){};_clientLanding.globals.customDestroy=function(){};};_clientLanding.addMethod('init',function(){_clientLanding.bind($window,_clientLanding.globals.classType+'_Init',function(e,data,el){_g.preloaded=true;_init();});});_init();});"use strict";appMakeBeCool.gateway.addClass('Droppable',function(properties,$,$window,$document){var _droppable=this,_d={galleryList:'.b-photo-list',categoryList:'.cat-list > li > a:not(.not-dropped)',galleryBarCounter:'#galleryBarCounter',galleryBar:'#galleryBar',galleryBarMenu:'#galleryBarMenu',galleryBarMenuBtn:'#galleryBarMenuBtn',hideAlbumRowView:'.open-gallery__hide-row-view .btn',albumModes:'#galleryModes',colAlbumList:'#colAlbumList',colCatalog:'#colCatalog'},_p=$.extend(_d,properties),_g={galleryList:null,categoryList:null,galleryBarCounter:null,galleryBar:null,galleryBarMenu:null,galleryBarMenuBtn:null,hideAlbumRowView:null,albumModes:null,colAlbumList:null,colCatalog:null,preloaded:false},_init=function(){appMakeBeCool.gateway.base.Class.apply(_droppable,[_p]);if(!_g.preloaded){return _droppable.init();}
    _droppable.globals.customCreate=function(){_config();_setup();_setBinds();_setCustomMethods();};_droppable.create();},_config=function(){_g.galleryList=$(_p.galleryList);_g.galleryBarCounter=$(_p.galleryBarCounter);_g.galleryBar=$(_p.galleryBar);_g.galleryBarMenu=$(_p.galleryBarMenu);_g.galleryBarMenuBtn=$(_p.galleryBarMenuBtn);_g.hideAlbumRowView=$(_p.hideAlbumRowView);_g.albumModes=$(_p.albumModes);_g.colAlbumList=$(_p.colAlbumList);_g.colCatalog=$(_p.colCatalog);},_setup=function(){_activateDraggable();},_setBinds=function(){_binds().setAlbumModesToggle();_binds().setAlbumTail();_binds().setGalleryTreeCreated();_binds().setAlbumCreated();},_binds=function(){return{setAlbumModesToggle:function(){_droppable.on(_g.albumModes,'click',function(e){e.preventDefault();_hideCatalogListForRowView();});},setAlbumTail:function(){_droppable.on(_g.hideAlbumRowView,'click',function(e){e.preventDefault();_hideCatalogListForRowView();})},setGalleryTreeCreated:function(){_droppable.bind($window,'droppable_galleryTreeCreated',function(e,data,el){_g.categoryList=$(_p.categoryList);_initDroppable(_g.categoryList.not('.cat-list__ttl'));});},setAlbumCreated:function(){_droppable.bind($window,'droppable_albumCreated',function(e,data,el){_initDroppable($(data).find('a'));});}};},_triggers=function(){return{};},_activateDraggable=function(){if($('.b-photo-list').length>0){$("#sortable").sortable({revert:true,items:'.gallery-wrap--tile',start:function(e,ui){},update:function(e,ui){},stop:function(event,ui){$(".loader_inner").fadeIn();$(".loader").delay(400).fadeIn("slow");if($(ui.item).hasClass('gallery-wrap--selected')){$(ui.helper).addClass('ui-draggable-helper');_counterForDraggable();}else{$(ui.item).removeClass('now-draggable');$(ui.item).removeClass('ui-draggable-helper one-photo');}
        var galleryId=urlParam('gallery');var elements={};$("#sortable .gallery-wrap--tile").each(function(i){elements[$(this).data('id')]=$(this).index()+1;});$.ajax({url:window.location.href,data:{type:'ajax',action:'change_album_rank',galleryId:galleryId,elements:elements},method:'post',success:function(data){data=JSON.parse(data);$(".loader_inner").fadeOut();$(".loader").delay(400).fadeOut("slow");if(data.success){}else{}}});},start:function(event,ui){}});$(".open-gallery-wrap--tile ",_g.galleryList).draggable({revert:"invalid",containment:"document",cursor:"move",connectToSortable:'#sortable',cursorAt:{top:-10,left:0},start:function(event,ui){$('body').addClass('dropper');if($(this).hasClass('gallery-wrap--selected')){$(ui.helper).addClass('ui-draggable-helper');_counterForDraggable();}else{$(this).addClass('now-draggable');$(ui.helper).addClass('ui-draggable-helper one-photo');}},stop:function(event,ui){$('body').removeClass('dropper');$(this).removeClass('now-draggable');}});}},_initDroppable=function($droppable){if(_g.galleryList.length>0){$droppable.droppable({accept:".open-gallery-wrap--tile",hoverClass:"cat-list__hover",tolerance:"pointer",drop:function(event,ui){let $draggedPhotos;let $newAlbum=$(this);let newAlbumId=$newAlbum.attr('data-id');let photoIds={};let albumId=$('.open-gallery__ttl').attr('data-current-album');if(albumId==newAlbumId)return false;if($('.ui-draggable-helper').hasClass('one-photo')){$draggedPhotos=$('.now-draggable');}else{$draggedPhotos=$('.gallery-wrap--selected').not('.ui-draggable-helper');}
        $.each($draggedPhotos,function(i,data){let $photo=$(data);photoIds[i]={id:$photo.attr('data-id'),album:$photo.attr('data-album')};});$.ajax({url:global.ajaxHandlerUrl,method:'post',data:{photos:JSON.stringify(photoIds),newAlbum:newAlbumId,action:'movePhoto'},success:function(response){response=JSON.parse(response);if(response.success){$.each($draggedPhotos,function(i,data){let $photo=$(data);$photo.attr('style','').removeClass('ui-draggable-helper').removeClass('one-photo');let oldAlbumId=$photo.attr('data-album');let $oldAlbum=$('.menu-category[data-id="'+oldAlbumId+'"]');if(albumId!=0){$photo.fadeOut(movePhotos());}else{movePhotos();}
                function movePhotos(){$photo.attr('data-album',newAlbumId);if(albumId!=0){$photo.hide();}
                    if(oldAlbumId!=0){let $photoCounter=$oldAlbum.find('.cat-side__dg');let photoCount=$photoCounter.attr('data-count');$photoCounter.attr('data-count',+photoCount-1).text('('+(+photoCount-1)+')');}}});let $photoCounter=$newAlbum.find('.cat-side__dg');$photoCounter.attr('data-count',response['photosCount']).text('('+response['photosCount']+')');$('#galleryBarNone').trigger('click');}}});}});}},_deleteImage=function($item,$albumId){$item.fadeOut(function(){$item.find('.circle--valid').removeClass('circle--valid');_counterForGalleryBar();})},_setCountPhotoCat=function($el){let addingPhoto=$('.circle--valid').length-1;if(addingPhoto<0)addingPhoto=1;let countNew=+$el.find('.cat-side__dg').attr('data-count')+addingPhoto;$el.find('.cat-side__dg').attr('data-count',countNew);$el.find('.cat-side__dg').text('('+countNew+')')},_setCustomMethods=function(){_droppable.globals.customResurrect=function(){};_droppable.globals.customDestroy=function(){};},_hideCatalogListForRowView=function(){if($('body').hasClass('album-page')){if($(_g.colAlbumList).hasClass('full-width')){_activateDraggable();}else{$('.ui-draggable-handle',_g.galleryList).draggable("destroy");}
    $(_g.colCatalog).toggle();$(_g.colAlbumList).toggleClass('full-width');_g.galleryList.isotope('layout');}},_counterForDraggable=function(){let counterOfSelected=$('.gallery .circle--valid').length-1;if(counterOfSelected<0)counterOfSelected=1;$('.ui-draggable-helper .droppable-count span').text(counterOfSelected);},_urlParam=function(name){var results=new RegExp('[\?&]'+name+'=([^&#]*)').exec(window.location.href);if(results==null){return null;}
else{return decodeURI(results[1])||0;}},_counterForGalleryBar=function(){let counterOfSelected=$('.gallery .circle--valid').length;_g.galleryBarCounter.text(counterOfSelected);if(counterOfSelected==0){_g.galleryBar.removeClass('active');_g.galleryBarMenu.removeClass('active');_g.galleryBarMenuBtn.removeClass('active');}};_droppable.addMethod('init',function(){_droppable.bind($window,_droppable.globals.classType+'_Init',function(e,data,el){_g.preloaded=true;_init();});});_init();});"use strict";appMakeBeCool.gateway.addClass('CatalogSide',function(properties,$,$window,$document){var _catalogSide=this,_d={catalogSide:"#catalogSide",catalogSidePhotos:"#catalogSidePhotos",catalogSideAlbums:"#catalogSideAlbums",catalogTitle:".cat-list__ttl",catalogMenuBtn:"#catalogMenuBtn",catalogSideClose:".catalogSideClose",catalogSideOverlay:"#catalogSideOverlay",},_p=$.extend(_d,properties),_g={catalogSide:null,catalogSidePhotos:null,catalogSideAlbums:null,catalogTitle:null,catalogMenuBtn:null,catalogSideClose:null,catalogSideOverlay:null,preloaded:false},_init=function(){appMakeBeCool.gateway.base.Class.apply(_catalogSide,[_p]);if(!_g.preloaded){return _catalogSide.init();}
    _catalogSide.globals.customCreate=function(){_config();_setup();_setBinds();_setCustomMethods();};_catalogSide.create();},_config=function(){_g.catalogSide=$(_p.catalogSide);_g.catalogSidePhotos=$(_p.catalogSidePhotos);_g.catalogSideAlbums=$(_p.catalogSideAlbums);_g.catalogTitle=$(_p.catalogTitle);_g.catalogMenuBtn=$(_p.catalogMenuBtn);_g.catalogSideClose=$(_p.catalogSideClose);_g.catalogSideOverlay=$(_p.catalogSideOverlay);},_setup=function(){_initLockedIcons();},_setBinds=function(){_binds().setCatalogMenuToggle();},_binds=function(){return{setCatalogMenuToggle:function(){_catalogSide.on(_g.catalogMenuBtn,'click',function(e){e.preventDefault();_openSideMenu();});_catalogSide.on(_g.catalogSideClose,'click',function(e){e.preventDefault();_closeSideMenu();});_catalogSide.on(_g.catalogSideOverlay,'click',function(e){e.preventDefault();_closeSideMenu();});_catalogSide.on(_g.catalogSide,'click',function(e){_closeSideMenu();});}};},_triggers=function(){return{};},_openSideMenu=function(){_g.catalogSide.toggleClass('active');_g.catalogMenuBtn.toggleClass('active');$('.modal').removeClass('active');$('body').toggleClass('muted');_g.catalogSideOverlay.toggleClass('active');},_closeSideMenu=function(){_g.catalogSide.removeClass('active');_g.catalogMenuBtn.removeClass('active');$('body').removeClass('muted');_g.catalogSideOverlay.removeClass('active');},_initLockedIcons=function(){let $locked=$('.cat-list .locked');$locked.each(function(){let $lockedLink=$(this);let text=$lockedLink.text();let stringArray=[];let insertedText='';if(!$(this).find('span').length){stringArray=text.split(' ');stringArray.forEach(function(element,index,array){if(index===(array.length-1)){insertedText+='<span>'+element+'</span>';}else{insertedText+=element+' ';}});$lockedLink.html(insertedText);}});},_setCustomMethods=function(){_catalogSide.globals.customResurrect=function(){};_catalogSide.globals.customDestroy=function(){};};_catalogSide.addMethod('init',function(){_catalogSide.bind($window,_catalogSide.globals.classType+'_Init',function(e,data,el){_g.preloaded=true;_init();});});_init();});"use strict";appMakeBeCool.gateway.addClass('FileUpload',function(properties,$,$window,$document){var _fileUpload=this,_d={fileupload:"#fileupload",studioSettings:"#studioSettings",uploadZone:"#uploadZone",albumCover_form:"#js_albumCover_form"},_p=$.extend(_d,properties),_g={fileupload:null,uploadZone:null,studioSettings:null,albumCover_form:null,preloaded:false},_init=function(){appMakeBeCool.gateway.base.Class.apply(_fileUpload,[_p]);if(!_g.preloaded){return _fileUpload.init();}
    _fileUpload.globals.customCreate=function(){_config();_setup();_setBinds();_setCustomMethods();};_fileUpload.create();},_config=function(){_g.fileupload=$(_p.fileupload);_g.uploadZone=$(_p.uploadZone);_g.studioSettings=$(_p.studioSettings);_g.albumCover_form=$(_p.albumCover_form);},_setup=function(){_fileUploadInit();},_setBinds=function(){_binds().setAddBind();_binds().setDoneBind();_binds().setUploadProgressBind();_binds().setUploadOnDropp();},_binds=function(){return{setAddBind:function(){_g.fileupload.bind('fileuploadadd',function(e,data){if(!_g.fileupload.hasClass('active')){_switchToPhotoMode();}
        _incrementAddedFiles();});},setDoneBind:function(){_g.fileupload.bind('fileuploaddone',function(e,data){console.log('done Upload!');$('.upload-heading__loading').addClass('hide');$('.upload-heading__loading .digit').text('0');$('.upload-heading__loaded').addClass('active');_incrementLoadedFiles();});},setUploadProgressBind:function(){_g.fileupload.bind('fileuploadprogress',function(e,data){let progress=parseInt(data.loaded/data.total*100,10);let progressToPaste=progress/100;let $loader=$(data.context).find('.loader');if(!$loader.hasClass('loading')){$loader.addClass('loading');$loader.circleProgress({value:progressToPaste,size:15,fill:"#5fc8d3",emptyFill:"#fff",animation:false});}else{$loader.circleProgress({value:progressToPaste});}});},setUploadOnDropp:function(){_g.fileupload.bind('fileuploaddragover',function(e,data){_g.uploadZone.addClass('dragover');});}};},_triggers=function(){return{};},_fileUploadInit=function(){var $_GET=_fileUpload.getRequestArgs();_g.fileupload.fileupload({dataType:'json',autoUpload:true,acceptFileTypes:/(\.|\/)(gif|jpe?g|png)$/i,disableImageResize:/Android(?!.*Chrome)|Opera/.test(window.navigator.userAgent),previewMaxWidth:100,previewMaxHeight:100,previewMinWidth:80,previewMinHeight:80,dropZone:$('#uploadZone'),maxFileSize:100000000,imageMaxWidth:500000,imageMaxHeight:500000,sequentialUploads:false}).bind('fileuploadsubmit',function(e,data){data.formData={album:$_GET['album'],gallery:$_GET['gallery'],watermark:$('#watermark-id').val(),count:$(this).fileupload('option').getNumberOfFiles()};});_g.studioSettings.fileupload({url:global.ajax['upload'],dataType:'json',maxNumberOfFiles:20,limitConcurrentUploads:20,limitMultiFileUploads:20,submit:function(e,data){data.files[0].uploadName=data.files[0].name;},autoUpload:true,acceptFileTypes:/(\.|\/)(gif|jpe?g|png)$/i,disableImageResize:/Android(?!.*Chrome)|Opera/.test(window.navigator.userAgent),previewMaxWidth:160,previewMaxHeight:160,previewMinWidth:160,previewMinHeight:160,maxFileSize:100000000,imageMaxWidth:500000,imageMaxHeight:500000,success:function(response){$('.upload__table').attr('style','background-image: url('+response.files[0].url+'); background-size: cover; background-repeat: no-repeat; background-position: center; border: none');console.log('success!');}}).bind('fileuploadadd',function(e){$('.upload-single .btn.cancel').each(function(){console.log('upload Add');$(this).click();}).bind('fileuploadsubmit',function(e,data){console.log('submit upload!');data.formData={};})});_g.albumCover_form.fileupload({url:global.ajax['upload'],dataType:'json',autoUpload:true,acceptFileTypes:/(\.|\/)(gif|jpe?g|png)$/i,disableImageResize:/Android(?!.*Chrome)|Opera/.test(window.navigator.userAgent),previewMaxWidth:100,previewMaxHeight:100,previewMinWidth:80,previewMinHeight:80,maxFileSize:100000000,imageMaxWidth:500000,imageMaxHeight:500000,sequentialUploads:false,success:function(response){$('.js_cover').attr('data-bgimage',response.files[0].url);$('.js_cover').attr('style','background-image: url('+response.files[0].url+');');$(".loader_inner").fadeOut();$(".loader").delay(400).fadeOut("slow");},add:function(e,data){$(".loader_inner").fadeIn();$(".loader").delay(400).fadeIn("slow");data.submit();},}).bind('fileuploadsubmit',function(e,data){data.formData={album:0,gallery:$_GET['gallery'],watermark:'',count:$(this).fileupload('option').getNumberOfFiles(),hide:1,cover:1,};});_g.fileupload.fileupload('option','redirect',window.location.href.replace(/\/[^\/]*$/,'/cors/result.html?%s'));},_switchToPhotoMode=function(){_g.fileupload.addClass('active');},_incrementAddedFiles=function(){let $digit=$('.upload-heading__loading .digit');let initialValue=parseInt($digit.text());$digit.text(initialValue+1);},_incrementLoadedFiles=function(){let $digit=$('.upload-heading__loaded .digit');let initialValue=parseInt($digit.text());$digit.text(initialValue+1+' ');},_setCustomMethods=function(){_fileUpload.globals.customResurrect=function(){};_fileUpload.globals.customDestroy=function(){};};_fileUpload.addMethod('init',function(){_fileUpload.bind($window,_fileUpload.globals.classType+'_Init',function(e,data,el){_g.preloaded=true;_init();});});_init();});"use strict";appMakeBeCool.gateway.addClass('ScrollTop',function(properties,$,$window,$document){var _scrollTop=this,_d={scrollTopBtn:'.scroll-top-btn'},_p=$.extend(_d,properties),_g={scrollTopBtn:null,preloaded:false},_init=function(){appMakeBeCool.gateway.base.Class.apply(_scrollTop,[_p]);if(!_g.preloaded){return _scrollTop.init();}
    _scrollTop.globals.customCreate=function(){_config();_setCustomMethods();_setup();_setBinds();};_scrollTop.create();},_config=function(){_g.scrollTopBtn=$(_p.scrollTopBtn);},_setup=function(){_scrollTop.globals.showBtnScrollTop();_g.scrollTopBtn.on('click',function(e){e.preventDefault();$("html, body").animate({scrollTop:0},500);});},_setBinds=function(){},_binds=function(){return{};},_triggers=function(){return{};},_setCustomMethods=function(){_scrollTop.globals.showBtnScrollTop=function(){_g.scrollTopBtn.hide();$(window).on('scroll',function(){var windowHeight=$(window).height()+100;var windowScrollTop=$(window).scrollTop();if(windowScrollTop>windowHeight){_g.scrollTopBtn.show();}else{_g.scrollTopBtn.hide();}});};_scrollTop.globals.customResurrect=function(){};_scrollTop.globals.customDestroy=function(){};};_scrollTop.addMethod('init',function(){_scrollTop.bind($window,_scrollTop.globals.classType+'_Init',function(e,data,el){_g.preloaded=true;_init();});});_init();});"use strict";appMakeBeCool.gateway.addClass('Watermark',function(properties,$,$window,$document){var _watermark=this,_d={watermarkForm:'#wFromImg',watermarkFromInput:'#wFromImg input',watermarkFromSelect:'#wFromImg select.form-control',watermarkFromInputText:'#wFromText input',watermarkFromInputKey:'#wFromText input[type=text]',watermarkFromInputSize:'#wSize',watermarkFromInputImgSize:'#wImgSize',watermarkFromInputImgOpacity:'#wOpacity',watermarkFromSelectText:'#wFromText select.form-control',saveWatermarkBtn:'.save-watermark',tabNavItem:'a.tab-nav__item',watermarkName:'#watermark-name',deleteWatermark:'#deleteWatermarkPopupErase',watermarkOptions:null,startWatermarkImg:null,},_p=$.extend(_d,properties),_g={watermarkForm:null,watermarkFromInput:null,watermarkFromSelect:null,watermarkFromInputText:null,watermarkFromSelectText:null,watermarkFromInputKey:null,watermarkFromInputSize:null,watermarkFromInputImgSize:null,watermarkFromInputImgOpacity:null,saveWatermarkBtn:null,tabNavItem:null,watermarkName:null,deleteWatermark:null,preloaded:false},_init=function(){appMakeBeCool.gateway.base.Class.apply(_watermark,[_p]);if(!_g.preloaded){return _watermark.init();}
    _watermark.globals.customCreate=function(){_config();_setup();_setBinds();_setCustomMethods();};_watermark.create();},_config=function(){_g.watermarkForm=$(_p.watermarkForm);_g.watermarkFromInput=$(_p.watermarkFromInput);_g.watermarkFromSelect=$(_p.watermarkFromSelect);_g.watermarkFromInputText=$(_p.watermarkFromInputText);_g.watermarkFromSelectText=$(_p.watermarkFromSelectText);_g.watermarkFromInputKey=$(_p.watermarkFromInputKey);_g.watermarkFromInputSize=$(_p.watermarkFromInputSize);_g.saveWatermarkBtn=$(_p.saveWatermarkBtn);_g.watermarkName=$(_p.watermarkName);_g.deleteWatermark=$(_p.deleteWatermark);_g.watermarkFromInputImgSize=$(_p.watermarkFromInputImgSize);_g.watermarkFromInputImgOpacity=$(_p.watermarkFromInputImgOpacity);},_setup=function(){if($('a[data-type="text"]').hasClass('active')){_watermarkParamText();_initWatermarkText();}else if($('a[data-type="image"]').hasClass('active')){_watermarkImgFirstLoad();_watermarkParamImg();_initWatermarkImg(_p.watermarkOptions);}
    _g.watermarkFromInput.on('change',function(){console.log('_g.watermarkFromInput.on');_watermarkParamImg();_initWatermarkImg(_p.watermarkOptions);});_g.watermarkFromSelect.on('change',function(){console.log('_g.watermarkFromSelect.on');_watermarkParamImg();_initWatermarkImg(_p.watermarkOptions);});_g.watermarkFromInputImgSize.on('change',function(){console.log('_g.watermarkFromInputImgSize.on');_watermarkParamImg();_initWatermarkImg(_p.watermarkOptions);});_g.watermarkFromInputImgOpacity.on('change',function(){console.log('_g.watermarkFromInputImgOpacity.on');_watermarkParamImg();_initWatermarkImg(_p.watermarkOptions);});_g.watermarkFromInputText.on('change',function(){console.log('_g.watermarkFromInputText.on');_watermarkParamText();_initWatermarkText();});_g.watermarkFromInputSize.on('change',function(){console.log('_g.watermarkFromInputSize.on');_watermarkParamText();_initWatermarkText();});_g.watermarkFromSelectText.on('change',function(){console.log('_g.watermarkFromSelectText.on');_watermarkParamText();_initWatermarkText();});_g.watermarkFromInputKey.keypress(function(){console.log('_g.watermarkFromInputKey.on');_watermarkParamText();_initWatermarkText();});},_setBinds=function(){_binds().setSaveWatermarkBtnClick();_binds().setDeleteWatermark();},_binds=function(){return{setSaveWatermarkBtnClick:function(){_watermark.bind(_g.saveWatermarkBtn,'click',function(e,data,el){e.preventDefault();let watermarkData={options:{}};let img='';let $_GET=_watermark.getRequestArgs();watermarkData['id']=($_GET['id']!=='undefined'&&$_GET['id']!==undefined)?$_GET['id']:0;watermarkData['name']=_g.watermarkName.val();watermarkData['type']=$(_p.tabNavItem+'.active').data('type');if(watermarkData['type']==='text'){watermarkData['options']['text']=_g.watermarkFromInputText.val();watermarkData['options']['font']=$('#wFont').val();watermarkData['options']['color']=$('#wColor').val();watermarkData['options']['position']=$('#wPosition').val();watermarkData['options']['opacity']=$('#watermarkOpacity').val();watermarkData['options']['size']=_g.watermarkFromInputSize.val();}else{watermarkData['options']['position']=$('#wPosition').val();watermarkData['options']['size']=$('#wImgSize').val();watermarkData['options']['opacity']=$('#wOpacity').val();img=$('#wImg').prop('files')[0];}
        let fd=new FormData;fd.append('image',img);fd.append('data',JSON.stringify(watermarkData));fd.append('action','watermark');$.ajax({method:'post',url:global.ajaxHandlerUrl,data:fd,processData:false,contentType:false,success:function(response){response=JSON.parse(response);if(response['success']){window.location=global.resourceLinks['watermarks'];}else{_watermark.trigger('feedbackPopup_showPopup',{type:'failure',message:response.error});}}});});},setDeleteWatermark:function(){_watermark.bind(_g.deleteWatermark,'click',function(e,data,el){e.preventDefault();let $_GET=_watermark.getRequestArgs();$.ajax({method:'post',url:global.ajaxHandlerUrl,data:{id:$_GET['id'],action:'deleteWatermark'},success:function(response){response=JSON.parse(response);if(response.success===true){window.location=global.resourceLinks['watermarks'];}}});});},};},_watermarkParamImg=function(){let wOpacity=$('#wOpacity').val(),wSize=$('#wImgSize').val(),wImg=document.getElementById('wImg').files[0],wPosition=$('#wPosition').val();if(wImg==='undefined'||wImg===undefined){wImg=_p.startWatermarkImg;}
    console.log(wImg);_p.watermarkOptions={pOpacity:wOpacity,pSize:wSize,pImg:wImg,pPosition:wPosition};},_watermarkImgFirstLoad=function(){_p.startWatermarkImg=_g.watermarkForm.data('src');},_initWatermarkImg=function(param){var mark=param.pImg;var opacity=0;param.pOpacity=parseInt(param.pOpacity);if(param.pOpacity>0){if(param.pOpacity===100){opacity=0;}else if(param.pOpacity>0&&param.pOpacity<100){opacity=100-param.pOpacity;}
    _p.watermarkOptions.pOpacity=opacity/100;}else{_p.watermarkOptions.pOpacity=1;}
    watermark(['../assets/uploadsDemo/watermark/vertical.jpg',mark]).image(_watermarkImagePrepare).then(function(img){let imgTall=$('#previewTall img');imgTall.replaceWith(img);});watermark(['../assets/uploadsDemo/watermark/horizontal.jpg',mark]).image(_watermarkImagePrepare).then(function(img){let imgWide=$('#previewWide img');imgWide.replaceWith(img);});},_watermarkParamText=function(){console.log('_watermarkParamText');var wOpacity=$('#watermarkOpacity').val();if(wOpacity<10){$('#watermarkOpacity').val('10').change();}
    var wColor=$('#wColor').val(),wText=$('#wText').val(),wFont=$('#wFont').val(),wSize=$("#wSize").val();_p.watermarkOptions={pOpacity:wOpacity,pColor:wColor,pFont:wFont,pText:wText,pSize:wSize,};},_watermarkImagePrepare=function(target,mark){var context=target.getContext('2d');var position=_p.watermarkOptions.pPosition;context.globalAlpha=_p.watermarkOptions.pOpacity;var diff=target.width/mark.width;var height=0;var width=0;if(diff<1){height=(mark.height*diff)*parseInt(_p.watermarkOptions.pSize)/100;width=(mark.width*diff)*parseInt(_p.watermarkOptions.pSize)/100;}else{height=mark.height*parseInt(_p.watermarkOptions.pSize)/100;width=mark.width*parseInt(_p.watermarkOptions.pSize)/100;}
    var x=0;var y=0;if(position==='lowerRight'){x=target.width-width-10;y=target.height-height-10;}else if(position==='lowerLeft'){x=10;y=target.height-height-10;}else if(position==='upperRight'){x=target.width-width-10;y=10;}else if(position==='upperLeft'){x=10;y=10;}else{x=(target.width-width)/2;y=(target.height-height)/2;}
    console.log(mark);context.drawImage(mark,x,y,width,height);context.save();return target;},_initWatermarkText=function(){watermark(['../assets/uploadsDemo/watermark/vertical.jpg']).image(rotate).then(function(img){let imgTall=$('#previewTall img');imgTall.replaceWith(img);});watermark(['../assets/uploadsDemo/watermark/horizontal.jpg']).image(rotate).then(function(img){let imgWide=$('#previewWide img');imgWide.replaceWith(img);});},rotate=function(target){var context=target.getContext('2d');var text=_p.watermarkOptions.pText;context.globalAlpha=_p.watermarkOptions.pOpacity/100;context.fillStyle=_p.watermarkOptions.pColor;context.font=_p.watermarkOptions.pSize+'px '+_p.watermarkOptions.pFont;var metrics=context.measureText(text);var textBoxWidth=metrics.width*4/5;var textBoxHeight=metrics.width*3/5;drawRotatedText(context,text,target.width/2-textBoxWidth/2-(_p.watermarkOptions.pSize/2*Math.sin(30*Math.PI/180)),target.height/2-textBoxHeight/2+(_p.watermarkOptions.pSize/2*Math.sin(60*Math.PI/180)),30);return target;},drawRotatedText=function(ctx,text,x,y,degrees){ctx.save();ctx.beginPath();ctx.translate(x,y);ctx.rotate(degrees*Math.PI/180);ctx.fillText(text,0,0);ctx.restore();},_triggers=function(){return{};},_setCustomMethods=function(){_watermark.globals.customResurrect=function(){};_watermark.globals.customDestroy=function(){};};_watermark.addMethod('init',function(){_watermark.bind($window,_watermark.globals.classType+'_Init',function(e,data,el){_g.preloaded=true;_init();});});_init();});"use strict";appMakeBeCool.gateway.addClass('galleryPage',function(properties,$,$window,$document){var _galleryPage=this,_d={catalogSide:'#catalogSide',menuCategory:'.menu-category',menuList:'.cat-list',albumsLink:'#catalogSideAlbums',galleryCategoryTitle:'.open-gallery__ttl',createAlbumBtn:'#createAlbumBtn',createAlbumForm:'#createAlbumForm',dropDownBtn:'.b-dropdown__btn',dropDownList:'.dropdown-list',uploadPhotoBtn:'.upload-photo',photoList:'.b-photo-list',colAlbumList:'#colAlbumList',photo:'.gallery-wrap--tile',allPhotos:'#catalogSidePhotos',setGalleryCoverBtn:'#setGalleryCover',coverGallery:'.cover-album',addAlbum:'.add-album',deletePhotos:'#deletePhotos',galleryMenu:'#gallery-menu',galleryBarMenu:'#galleryBarMenu',deleteAlbum:'#deleteAlbum',albumCoverBtn:'#setAlbumCover',albumCover:'#album-cover',emptyGallery:'.gallery-empty',albumList:'.album-list',shareGallery:'.share-gallery-btn',removeGalleryCoverBtn:'#removeGalleryCoverBtn',galleryCoverPopup:'#gallery-cover__popup',albumItem:'.album-item'},_p=$.extend(_d,properties),_g={catalogSide:null,menuCategory:null,menuList:null,albumsLink:null,galleryCategoryTitle:null,createAlbumBtn:null,createAlbumForm:null,dropDownBtn:null,dropDownList:null,uploadPhotoBtn:null,photoList:null,colAlbumList:null,photo:null,allPhotos:null,setGalleryCoverBtn:null,coverGallery:null,addAlbum:null,deletePhotos:null,galleryMenu:null,galleryBarMenu:null,deleteAlbum:null,albumCoverBtn:null,albumCover:null,emptyGallery:null,albumList:null,shareGallery:null,removeGalleryCoverBtn:null,galleryCoverPopup:null,albumItem:null,preloaded:false},_init=function(){appMakeBeCool.gateway.base.Class.apply(_galleryPage,[_p]);if(!_g.preloaded){return _galleryPage.init();}
    _galleryPage.globals.customCreate=function(){if(global.galleryTree!='')_createGalleryTree(global.galleryTree);_config();_setup();_setBinds();_setCustomMethods();};_galleryPage.create();},_config=function(){_g.catalogSide=$(_p.catalogSide);_g.menuCategory=$(_p.menuCategory);_g.menuList=$(_p.menuList);_g.albumsLink=$(_p.albumsLink);_g.galleryCategoryTitle=$(_p.galleryCategoryTitle);_g.createAlbumBtn=$(_p.createAlbumBtn);_g.createAlbumForm=$(_p.createAlbumForm);_g.dropDownBtn=$(_p.dropDownBtn);_g.dropDownList=$(_p.dropDownList);_g.uploadPhotoBtn=$(_p.uploadPhotoBtn);_g.photoList=$(_p.photoList);_g.colAlbumList=$(_p.colAlbumList);_g.photo=$(_p.photo);_g.allPhotos=$(_p.allPhotos);_g.setGalleryCoverBtn=$(_p.setGalleryCoverBtn);_g.coverGallery=$(_p.coverGallery);_g.addAlbum=$(_p.addAlbum);_g.deletePhotos=$(_p.deletePhotos);_g.galleryMenu=$(_p.galleryMenu);_g.galleryBarMenu=$(_p.galleryBarMenu);_g.deleteAlbum=$(_p.deleteAlbum);_g.albumCoverBtn=$(_p.albumCoverBtn);_g.albumCover=$(_p.albumCover);_g.emptyGallery=$(_p.emptyGallery);_g.albumList=$(_p.albumList);_g.shareGallery=$(_p.shareGallery);_g.removeGalleryCoverBtn=$(_p.removeGalleryCoverBtn);_g.galleryCoverPopup=$(_p.galleryCoverPopup);_g.albumItem=$(_p.albumItem);},_setup=function(){},_setBinds=function(){_binds().setMenuCategoryClick();_binds().setAlbumsLinkClick();_binds().setCreateAlbumBtn();_binds().setDropDownBtnClick();_binds().setUploadPhotoBtnClick();_binds().setCoverBtnClick();_binds().setDeletePhotosBtn();_binds().setDeleteAlbumBtn();_binds().setAlbumCoverBtnClick();_binds().setShareGalleryClick();_binds().setShareGalleryFormSubmit();_binds().removeCoverBtnClick();_binds().setAlbumItemClick();},_binds=function(){return{setAlbumItemClick:function(){_galleryPage.bind(_g.albumItem,'click',function(e,data,el){e.preventDefault();let $menuCategory=$(el);let albumId=$menuCategory.attr('data-id');let albumLevel=$menuCategory.attr('data-level');_g.catalogSide.find('.active').removeClass('active');$menuCategory.addClass('active');_g.galleryCategoryTitle.find('.title').text($menuCategory.find('.album-name').text());_g.galleryCategoryTitle.attr('data-current-album',albumId);_g.galleryCategoryTitle.attr('data-level',albumLevel);if(albumId!=0){if(!$menuCategory.hasClass('cat-list__ttl')){_g.albumList.hide();let $showPhotos=_g.photo.hide().filter('[data-album="'+albumId+'"]');if($showPhotos.length>0){_g.photoList.show();$showPhotos.show();_g.emptyGallery.hide();}else{_g.photoList.hide();_g.emptyGallery.show();}
        if(albumLevel==4){_g.addAlbum.addClass('blocked');}}else{_g.addAlbum.removeClass('blocked');let $showPhotos=_g.photo.hide().filter('[data-album="'+albumId+'"]');if($showPhotos.length>0){_g.photoList.show();$showPhotos.show();_g.emptyGallery.hide();}else{_g.photoList.hide();_g.emptyGallery.show();}
        _g.emptyGallery.hide();_g.albumList.find('.album-item').hide().filter('[data-parent="'+albumId+'"]').show();_g.albumList.show();_g.albumList.isotope();}
        _g.albumCover.css('background-image','url('+$menuCategory.attr('data-cover')+')');$('.albums__show').show();}})},setMenuCategoryClick:function(){_g.menuCategory.unbind('click');_galleryPage.bind(_g.menuCategory,'click',function(e,data,el){e.preventDefault();let $menuCategory=$(el);let albumId=$menuCategory.attr('data-id');let albumLevel=$menuCategory.attr('data-level');_g.catalogSide.find('.active').removeClass('active');$menuCategory.addClass('active');_g.galleryCategoryTitle.find('.title').text($menuCategory.find('.album-name').text());_g.galleryCategoryTitle.attr('data-current-album',albumId);_g.galleryCategoryTitle.attr('data-level',albumLevel);if(albumId!=0){if(!$menuCategory.hasClass('cat-list__ttl')){_g.albumList.hide();let $showPhotos=_g.photo.hide().filter('[data-album="'+albumId+'"]');if($showPhotos.length>0){_g.photoList.show();$showPhotos.show();_g.emptyGallery.hide();}else{_g.photoList.hide();_g.emptyGallery.show();}
        if(albumLevel==4){_g.addAlbum.addClass('blocked');}}else{_g.addAlbum.removeClass('blocked');let $showPhotos=_g.photo.hide().filter('[data-album="'+albumId+'"]');if($showPhotos.length>0){_g.photoList.show();$showPhotos.show();_g.emptyGallery.hide();}else{_g.photoList.hide();_g.emptyGallery.show();}
        _g.emptyGallery.hide();_g.albumList.find('.album-item').hide().filter('[data-parent="'+albumId+'"]').show();_g.albumList.show();_g.albumList.isotope();}
        _g.albumCover.css('background-image','url('+$menuCategory.attr('data-cover')+')');$('.albums__show').show();}
    else{_g.albumList.hide();$('.albums__show').hide();if(_g.photo.length>0){_g.photo.show();_g.emptyGallery.hide();_g.photoList.show();}else{_g.photoList.hide();_g.emptyGallery.show();}
        _g.addAlbum.removeClass('blocked');_g.uploadPhotoBtn.removeClass('blocked');}
        _g.uploadPhotoBtn.removeClass('blocked');});},setAlbumsLinkClick:function(){_g.albumsLink.unbind('click');_galleryPage.bind(_g.albumsLink,'click',function(e,data,el){e.preventDefault();_g.addAlbum.removeClass('blocked');_g.catalogSide.find('.active').removeClass('active');_g.albumsLink.addClass('active');_g.galleryCategoryTitle.find('.title').text(_g.albumsLink.text());$('.albums__show').hide();_g.photoList.hide();_g.emptyGallery.hide();_g.albumList.find('.album-item').hide().show();_g.albumList.show();_g.albumList.isotope();});},setCreateAlbumBtn:function(){_galleryPage.bind(_g.createAlbumBtn,'click',function(e,data,el){e.preventDefault();_g.createAlbumForm.find('label').remove();let galleryId=_galleryPage.getRequestArgs()['gallery'];let albumParent=_g.galleryCategoryTitle.attr('data-current-album');let $input=_g.createAlbumForm.find('input');let name=$input.val();let level=_g.galleryCategoryTitle.attr('data-level');if(name==''||name==undefined||name=='undefined'||name.length<3){$input.parent().append('<label class="error" for="name">   (  3 )</label>');return false;}
        $.ajax({url:global.ajaxHandlerUrl,method:'post',data:{parent:albumParent,name:name,galleryId:galleryId,level:level,action:'createAlbum'},success:function(response){response=JSON.parse(response);if(response.success===true){let $appendTo=$('[data-type="album"][data-id="'+albumParent+'"]').addClass('cat-list__ttl');$appendTo.find('.cat-side__dg').remove();$appendTo=$appendTo.parent();let $ul=$appendTo.children('ul');if($ul.length<1){$ul=_makeUnnumberedList('cat-list','display:block');$appendTo.append($ul);}
                let $newAlbum=_makeListItem('menu-category',response.id,name,parseInt(level)+1,0);$ul.append($newAlbum);_reconfigAlbums();_rebindAlbums();_triggers().triggerAlbumCreated($newAlbum);_g.createAlbumForm.parent().find('.close').trigger('click');$input.val('');}else{if(response.error!==''){$input.parent().append('<label class="error" for="name">'+response.error+'</label>');}}},});});},setDropDownBtnClick:function(){_galleryPage.bind(_g.dropDownBtn,'click',function(e,data,el){e.preventDefault();let $dropDownList=$(el).parent().find(_g.dropDownList);if(_p.galleryMenu=='#'+$dropDownList.attr('id')){_generateDotsMenu(_g.galleryMenu);}else if(_p.galleryBarMenu=='#'+$dropDownList.attr('id')){_generateDotsMenu(_g.galleryBarMenu);}
        if(!$dropDownList.hasClass('dropped')){$dropDownList.addClass('dropped');$dropDownList.css('display','block');}else{$dropDownList.removeClass('dropped');$dropDownList.css('display','none');}});},setUploadPhotoBtnClick:function(){_galleryPage.bind(_g.uploadPhotoBtn,'click',function(e,data,el){e.preventDefault();if($(el).hasClass('blocked'))return false;$.ajax({url:global.ajaxHandlerUrl,method:'post',data:{action:'checkTariffLimits'},success:function(response){response=JSON.parse(response);if(response.success){let $_GET=_galleryPage.getRequestArgs();let uploadPhotoLink=global.resourceLinks['upload']+'?gallery='+
            $_GET['gallery']+'&album='+_g.galleryCategoryTitle.attr('data-current-album');window.location.href=uploadPhotoLink;}else{data={type:'faliure',message:response.message};_galleryPage.trigger('feedbackPopup_showPopup',data);}}});});},setCoverBtnClick:function(){_galleryPage.bind(_g.setGalleryCoverBtn,'click',function(e,data,el){e.preventDefault();let $_GET=_galleryPage.getRequestArgs();let photoId=$('.gallery-wrap--selected').attr('data-id');$.ajax({method:'post',url:global.ajaxHandlerUrl,data:{gallery:$_GET['gallery'],photoId:photoId,act:'setCover',action:'galleryActions'},success:function(response){response=JSON.parse(response);if(response.success){_g.coverGallery.css('background-image','url('+response.link+')');_g.galleryCoverPopup.css('background-image','url('+response.link+')');_galleryPage.trigger('feedbackPopup_showPopup',{type:'success',message:response.message});}else{_galleryPage.trigger('feedbackPopup_showPopup',{type:'failure',message:response.message});}
            setTimeout(function(){_galleryPage.trigger('feedbackPopup_closePopup');},1000)}});});},removeCoverBtnClick:function(){_galleryPage.on(_g.removeGalleryCoverBtn,'click',function(e){e.preventDefault();let $_GET=_galleryPage.getRequestArgs();$.ajax({method:'post',url:global.ajaxHandlerUrl,data:{gallery:$_GET['gallery'],act:'removeCover',action:'galleryActions'},success:function(response){response=JSON.parse(response);if(response.success){_g.coverGallery.css('background-image','url("")');_g.galleryCoverPopup.css('background-image','url("")');_galleryPage.trigger('feedbackPopup_showPopup',{type:'success',message:response.message});}else{_galleryPage.trigger('feedbackPopup_showPopup',{type:'failure',message:response.message});}
            setTimeout(function(){_galleryPage.trigger('feedbackPopup_closePopup');},1000)}});});},setAlbumCoverBtnClick:function(){_galleryPage.bind(_g.albumCoverBtn,'click',function(e,data,el){e.preventDefault();let photoId=$('.gallery-wrap--selected').attr('data-id');$.ajax({method:'post',url:global.ajaxHandlerUrl,data:{album:_g.galleryCategoryTitle.attr('data-current-album'),photoId:photoId,action:'galleryActions',act:'setCover'},success:function(response){response=JSON.parse(response);if(response.success){_g.albumCover.css('background-image','url('+response.link+')');_galleryPage.trigger('feedbackPopup_showPopup',{type:'success',message:response.message});}else{_galleryPage.trigger('feedbackPopup_showPopup',{type:'failure',message:response.message});}
            setTimeout(function(){_galleryPage.trigger('feedbackPopup_closePopup');},1000);}});});},setDeletePhotosBtn:function(){_galleryPage.bind(_g.deletePhotos,'click',function(e,data,el){e.preventDefault();let photoIds=[];let $_GET=_galleryPage.getRequestArgs();$('.gallery-wrap--selected').each(function(i,element){photoIds.push($(element).data('id'));});$.ajax({url:global.ajaxHandlerUrl,method:'post',data:{data:JSON.stringify(photoIds),gallery:$_GET['gallery'],action:'removePhotos'},beforeSend:function(){_galleryPage.trigger('feedbackPopup_showPopup',{type:'success',message:'      '});},success:function(response){response=JSON.parse(response);if(response['success']==true){$('#feedback > .popup--center').removeClass('success');$('#feedback').removeClass('active');$.each(photoIds,function(i,element){let $photo=$('.gallery-wrap[data-id="'+element+'"]');$photo.fadeOut(function(){$photo.remove();var $album=$('.menu-category[data-id="'+$photo.attr('data-album')+'"]');var $photoCounter=$album.find('.cat-side__dg');let photoCount=$photoCounter.attr('data-count');$photoCounter.attr('data-count',+photoCount-1).text('('+(+photoCount-1)+')');$photoCounter=_g.allPhotos.find('.cat-side__dg');photoCount=$photoCounter.attr('data-count');$photoCounter.attr('data-count',+photoCount-1).text('('+(+photoCount-1)+')');$window.trigger('galleriesFunctions_unselectAllGalleries');});});}}});});},setDeleteAlbumBtn:function(){_galleryPage.bind(_g.deleteAlbum,'click',function(e,data,el){e.preventDefault();var $_GET=_galleryPage.getRequestArgs();var albumId=_g.galleryCategoryTitle.attr('data-current-album');$.ajax({url:global.ajaxHandlerUrl,method:'post',data:{album:albumId,gallery:$_GET['gallery'],action:'removeAlbum'},success:function(response){response=JSON.parse(response);if(response['success']==true){_galleryPage.trigger('feedbackPopup_showPopup',{type:'success',message:'  '});_g.menuCategory.filter('[data-id="'+albumId+'"]').parent().remove();window.location.reload();}}});});},setShareGalleryClick:function(){_galleryPage.bind(_g.shareGallery,'click',function(e,data,el){e.preventDefault();let galleryId;localStorage.setItem('galleryIdForShare_link','');if($(el).data('gallery')){galleryId=$(el).data('gallery').toString();gallery_link=$(el).data('gallery_link');localStorage.removeItem('galleryIdForShare');localStorage.setItem('galleryIdForShare',galleryId);localStorage.setItem('galleryIdForShare_link',gallery_link);}
        $document.find('body').addClass('muted');$document.find('#share').addClass('active');});},setShareGalleryFormSubmit:function(){_galleryPage.bind($('#share-gallery'),'submit',function(e,data,el){e.preventDefault();const $btnSubmit=$(el).find('.btn');$btnSubmit.attr('disabled','disabled');$btnSubmit.text(' ...');var $_GET=_galleryPage.getRequestArgs();var input=$(el).find('input');var emails={};if(input.length>1){$(input).each(function(){var email=$(this).val();var name=$(this).attr('name')+'-'+email;emails[name]=email;});}else{emails=input.val();}
        var textarea=$(el).find('textarea');var text=textarea.val();$.ajax({url:global.ajaxHandlerUrl,method:'post',data:{gallery:$_GET['gallery']||localStorage.getItem('galleryIdForShare'),emails:emails,text:text,action:'createArchive',type:'share',},success:function(response){response=JSON.parse(response);$btnSubmit.removeAttr('disabled');$btnSubmit.text(' ');if(response.success){_galleryPage.trigger('feedbackPopup_showPopup',{type:'success',message:'       '});}else{_galleryPage.trigger('feedbackPopup_showPopup',{type:'failure',message:'   .   '});}}});console.log('Submit!');});_galleryPage.bind($('#js_share-gallery-album'),'submit',function(e,data,el){e.preventDefault();const $btnSubmit=$(el).find('.btn');$btnSubmit.attr('disabled','disabled');$btnSubmit.text(' ...');var $_GET=_galleryPage.getRequestArgs();var input=$(el).find('input');var emails={};if(input.length>1){$(input).each(function(){var email=$(this).val();var name=$(this).attr('name')+'-'+email;emails[name]=email;});}else{emails=input.val();}
        var textarea=$(el).find('textarea');var text=textarea.val();$.ajax({url:global.ajaxHandlerUrl,method:'post',data:{gallery:$_GET['gallery']||localStorage.getItem('galleryIdForShare'),emails:emails,text:text,action:'createArchiveNew',type:'share',share_link:localStorage.getItem('galleryIdForShare_link'),},success:function(response){response=JSON.parse(response);$btnSubmit.removeAttr('disabled');$btnSubmit.text(' ');if(response.success){if(localStorage.getItem('galleryIdForShare_link').length>0){_galleryPage.trigger('feedbackPopup_showPopup',{type:'success',message:'       '});}else{_galleryPage.trigger('feedbackPopup_showPopup',{type:'success',message:'       '});}}else{_galleryPage.trigger('feedbackPopup_showPopup',{type:'failure',message:'   .   '});}}});console.log('Submit!');});}};},_createGalleryTree=function(galleryTree){if(!galleryTree||galleryTree==='undefined'||galleryTree==undefined)return false;let galleryMapping=JSON.parse(galleryTree);$.each(galleryMapping,function(i,children){let $parentTree=_makeUnnumberedList();$.each(children,function(j,nodes){let liClass='menu-category';let nodesCount=nodes['count'];if(galleryMapping[nodes['id']]){liClass='menu-category cat-list__ttl not-dropped';nodesCount=false;}
    $parentTree.append(_makeListItem(liClass,nodes['id'],nodes['name'],nodes['level'],nodes['cover'],nodesCount));});$('[data-type="album"][data-id="'+i+'"]').parent().append($parentTree);});_triggers().triggerGalleryTreeCreated();},_makeListItem=function(linkClasses,linkDataId,linkText,linkLevel,linkCover,photosCount){let $li=$('<li></li>');let $a=$('<a></a>');let aHtml;if(photosCount){aHtml='<span class="album-name">'+linkText+'</span>'+'<span data-count="'+photosCount+'" class="cat-side__dg">('+photosCount+')</span>';}else{aHtml='<span class="album-name">'+linkText+'</span>';}
    $a.attr('href','#').attr('class',linkClasses).attr('data-id',linkDataId).attr('data-type','album').attr('data-level',linkLevel).attr('data-cover',linkCover).html(aHtml);$li.append($a);return $li;},_makeUnnumberedList=function(listClasses,listStyles){listClasses=listClasses||'cat-list';listStyles=listStyles||'display:block';let $parentTree=$('<ul></ul>');$parentTree.attr('class',listClasses).attr('style',listStyles);return $parentTree;},_reconfigAlbums=function(){_g.menuCategory=$(_p.menuCategory);_g.menuList=$(_p.menuList);},_rebindAlbums=function(){_binds().setMenuCategoryClick();},_generateDotsMenu=function($dots){var $items=$dots.find('li');var itemsToShow=['all'];var itemsToHide=[];if(_g.galleryCategoryTitle.attr('data-current-album')==0){itemsToShow.push('all-photos');}else if(_g.galleryCategoryTitle.attr('data-current-album')!=0){itemsToShow.push('album');if(_g.galleryCategoryTitle.text()!==''){itemsToShow.push('for-album');}}
    if($('.gallery-wrap--selected').length!=1){itemsToHide.push('one-photo');}
    $items.hide();for(var i in itemsToShow){$items.filter('.'+itemsToShow[i]).show();}
    for(i in itemsToHide){$items.filter('.'+itemsToHide[i]).hide();}},_triggers=function(){return{triggerBgImagesReinit:function(){_galleryPage.trigger('bgImages_reinit');},triggerPhotoLoaded:function(){_galleryPage.trigger('basetheme_photoLoaded');},triggerGalleryTreeCreated:function(){_galleryPage.trigger('droppable_galleryTreeCreated');},triggerAlbumCreated:function(data){data=data||{};_galleryPage.trigger('droppable_albumCreated',data);_galleryPage.trigger('feedbackPopup_showPopup',{type:'success',message:'    '});}};},_setCustomMethods=function(){_galleryPage.globals.customResurrect=function(){};_galleryPage.globals.customDestroy=function(){};};_galleryPage.addMethod('init',function(){_galleryPage.bind($window,_galleryPage.globals.classType+'_Init',function(e,data,el){_g.preloaded=true;_init();});});_init();});"use strict";appMakeBeCool.gateway.addClass('CountArticles',function(properties,$,$window,$document){var _countArticles=this,_d={count:'#last-value',btn_more:'.btn-more',total:'#total-results'},_p=$.extend(_d,properties),_g={count:null,btn_more:null,total:null,preloaded:false},_init=function(){appMakeBeCool.gateway.base.Class.apply(_countArticles,[_p]);if(!_g.preloaded){return _countArticles.init();}
    _countArticles.globals.customCreate=function(){_config();_setup();_setBinds();_setCustomMethods();};_countArticles.create();},_config=function(){_g.count=$(_p.count);_g.btn_more=$(_p.btn_more);_g.total=$(_p.total);},_setup=function(){},_setBinds=function(){_binds().setClickButton();},_binds=function(){return{setClickButton:function(){_countArticles.bind(_g.btn_more,'click',function(e,data,el){var count=Number(_g.count[0].innerText);var total=Number(_g.total[0].innerText);count=count+count;if(count>total){return $('#last-value').html(total);}else{return $('#last-value').html(count);}});}};},_triggers=function(){return{};},_setCustomMethods=function(){_countArticles.globals.customResurrect=function(){};_countArticles.globals.customDestroy=function(){};};_countArticles.addMethod('init',function(){_countArticles.bind($window,_countArticles.globals.classType+'_Init',function(e,data,el){_g.preloaded=true;_init();});});_init();});"use strict";appMakeBeCool.gateway.addClass('ContactsPage',function(properties,$,$window,$document){var _contactsPage=this,_d={createContactForm:'#contactNew',createContact:'#btn-create',deleteContact:'.delete-cont',contactsList:'#contactList',contactsListItem:'.contact-list__item',popup:'#feedback',popupMessage:'#feedback > .popup--center',successMessage:'#feedback > .popup--center > .success-message > h2',failMessage:'#feedback > .popup--center > .fail-message > h2',successBtn:'#success-btn',failBtn:'#fail-btn',},_p=$.extend(_d,properties),_g={createContactForm:[],createContact:null,deleteContact:null,contactsList:null,contactsListItem:null,popup:null,popupMessage:null,successMessage:null,failMessage:null,successBtn:null,failBtn:null,preloaded:false},_init=function(){appMakeBeCool.gateway.base.Class.apply(_contactsPage,[_p]);if(!_g.preloaded){return _contactsPage.init();}
    _contactsPage.globals.customCreate=function(){_config();_setup();_setBinds();_setCustomMethods();};_contactsPage.create();},_config=function(){_g.createContactForm=$(_p.createContactForm);_g.createContact=$(_p.createContact);_g.deleteContact=$(_p.deleteContact);_g.contactsList=$(_p.contactsList);_g.contactsListItem=$(_p.contactsListItem);_g.popup=$(_p.popup);_g.popupMessage=$(_p.popupMessage);_g.successMessage=$(_p.successMessage);_g.failMessage=$(_p.failMessage);_g.successBtn=$(_p.successBtn);_g.failBtn=$(_p.failBtn);},_setup=function(){},_setBinds=function(){_binds().setCreateBtnClick();_binds().setDeleteButtonClick();},_binds=function(){return{setCreateBtnClick:function(){_contactsPage.bind(_g.createContact,'click',function(e,data,el){e.preventDefault();var id=document.location.href.split('=')[1];var textarea=_g.createContactForm.find('textarea');var notes=textarea.val();var select=_g.createContactForm.find('select');var country=select.val();var input=_g.createContactForm.find('input');var dat={};$(input).each(function(){var name=$(this).attr('name');dat[name]=$(this).val();});dat['country']=country;dat['notes']=notes;$.ajax({url:global.ajaxHandlerUrl,data:{data:dat,id:id,action:'createContact'},method:_g.createContactForm.attr('method'),success:function(response){response=JSON.parse(response);console.log(response);if(response.update){if(response.success){data={type:'success',message:response.message};}else{data={message:response.message};_g.popupMessage.addClass('fail');}
            _triggers().triggerPopup(data);}else{if(response.success){data={type:'success',message:global.popupMessages['createContactSuccess'],link:global.resourceLinks['contacts'],};_triggers().triggerPopup(data);}else{if(response.error!==''){data={message:response.error};_triggers().triggerPopup(data);}}}}})})},setDeleteButtonClick:function(){var contTable=$document.find('.table-contact');if(contTable.length<1){_contactsPage.bind(_g.deleteContact,'click',function(e,data,el){e.preventDefault();var id=$(el).data('id');$.ajax({url:global.ajaxHandlerUrl,method:'post',data:{id:id,action:'deleteContact'},success:function(response){response=JSON.parse(response);if(response.success===true){console.log('  !');console.log(response.id);_deleteContact(response.id);}else{if(response.error!==''){console.log(response.error);console.log(response.id);}}}})})}else{_contactsPage.bind(_g.deleteContact,'click',function(e,data,el){e.preventDefault();var id=$(el).data('id');$.ajax({url:global.ajaxHandlerUrl,method:'post',data:{id:id,action:'deleteContact'},success:function(response){response=JSON.parse(response);if(response.success==true){var backUrl=$document.find('.back-btn').attr('href');$(document.location).attr('href',backUrl);}else{if(response.error!==''){console.log(response.error);console.log(response.id);}}}})})}},};},_deleteContact=function(removeId){var $contact=null;$contact=$(_p.contactsListItem+'[data-id="'+removeId+'"]');_removeItemsIsotope($contact);},_removeItemsIsotope=function($items){_g.contactsList.isotope('remove',$items).isotope('layout');},_triggers=function(){return{triggerPopup:function(data){_contactsPage.trigger('feedbackPopup_showPopup',data);}};},_setCustomMethods=function(){_contactsPage.globals.customResurrect=function(){};_contactsPage.globals.customDestroy=function(){};};_contactsPage.addMethod('init',function(){_contactsPage.bind($window,_contactsPage.globals.classType+'_Init',function(e,data,el){_g.preloaded=true;_init();});});_init();});"use strict";appMakeBeCool.gateway.addClass('PersonalArea',function(properties,$,$window,$document){var _personalArea=this,_d={saveAccount:'#saveAccount',updateAccountForm:'#accountInfo',inviteReferalForm:'#invite-referal',copyLink:'.copy-link',changePass:'#submitChangeAccountPass'},_p=$.extend(_d,properties),_g={saveAccount:null,updateAccountForm:null,inviteReferalForm:null,referalSubmitBtn:null,copyLink:null,changePass:null,preloaded:false},_init=function(){appMakeBeCool.gateway.base.Class.apply(_personalArea,[_p]);if(!_g.preloaded){return _personalArea.init();}
    _personalArea.globals.customCreate=function(){_config();_setup();_setBinds();_setCustomMethods();};_personalArea.create();},_config=function(){_g.saveAccount=$(_p.saveAccount);_g.updateAccountForm=$(_p.updateAccountForm);_g.inviteReferalForm=$(_p.inviteReferalForm);_g.referalSubmitBtn=_g.inviteReferalForm.find('button');_g.copyLink=$(_p.copyLink);_g.changePass=$(_p.changePass);},_setup=function(){},_setBinds=function(){_binds().setSaveBtnClick();_binds().setReferalSubmitBtnClick();_binds().setCopyLinkClick();_binds().setChangePassFormSubmit();},_binds=function(){return{setSaveBtnClick:function(){_personalArea.bind(_g.saveAccount,'click',function(e,data,el){e.preventDefault();var dat={};var select=_g.updateAccountForm.find('select');$(select).each(function(){var selectName=$(this).attr('name');dat[selectName]=$(this).val();});var input=_g.updateAccountForm.find('input');$(input).each(function(){var name=$(this).attr('name');dat[name]=$(this).val();});$.ajax({url:global.ajaxHandlerUrl,data:{data:dat,action:'updateAccount'},method:'post',success:function(response){response=JSON.parse(response);if(response.success===true){data={type:'success',message:response.message};_triggers().triggerPopup(data);console.log(response.message);}else{if(response.message!==''){data={message:response.message};_triggers().triggerPopup(data);console.log(response.message);}}}})})},setReferalSubmitBtnClick:function(){_personalArea.bind(_g.referalSubmitBtn,'click',function(e,data,el){e.preventDefault();var input=_g.inviteReferalForm.find('input');var emails={};if(input.length>1){$(input).each(function(){var email=$(this).val();var name=$(this).attr('name')+'-'+email;emails[name]=email;});}else{emails=input.val();}
        var textarea=_g.inviteReferalForm.find('textarea');var text=textarea.val();$.ajax({url:global.ajaxHandlerUrl,data:{text:text,emails:emails,type:'referal',action:'sendEmail'},method:'post',success:function(response){response=JSON.parse(response);if(response.success===true){_personalArea.trigger('feedbackPopup_showPopup',{type:'success',message:response.message});}else{if(response.message!==''){_personalArea.trigger('feedbackPopup_showPopup',{type:'failure',message:response.message});}}}})});},setCopyLinkClick:function(){_personalArea.bind(_g.copyLink,'click',function(e,data,el){e.preventDefault();var link=$(el).parent('.link-div').find('.control-label')[0];let list=false;if($(link).text()===''){list=true;$(link).text($(link).data('link'));}
        var range=document.createRange();range.selectNode(link);window.getSelection().addRange(range);try{var successful=document.execCommand('copy');var msg=successful?'successful':'unsuccessful';console.log('Copy email command was '+msg);}catch(err){console.log('Oops, unable to copy');}
        window.getSelection().removeAllRanges();if(list){$(link).text('');}})},setChangePassFormSubmit:function(){_personalArea.bind(_g.changePass,'click',function(e,data,el){e.preventDefault();var form=$('#changeAccountPass');var inputs=form.find('.form-control');var formdata={};if(form.valid()){inputs.each(function(el,data){let $data=$(data);formdata[$data.attr('name')]=$data.val();});$.ajax({url:global.ajaxHandlerUrl,data:{data:formdata,action:'changePass'},method:'post',success:function(response){response=JSON.parse(response);if(response.success===true){form[0].reset();data={type:'success',message:response.message};_triggers().triggerPopup(data);}else{if(response.message!==''){data={message:response.message};_triggers().triggerPopup(data);}}}});}});}};},_triggers=function(){return{triggerPopup:function(data){_personalArea.trigger('feedbackPopup_showPopup',data);}};},_setCustomMethods=function(){_personalArea.globals.customResurrect=function(){};_personalArea.globals.customDestroy=function(){};};_personalArea.addMethod('init',function(){_personalArea.bind($window,_personalArea.globals.classType+'_Init',function(e,data,el){_g.preloaded=true;_init();});});_init();});"use strict";appMakeBeCool.gateway.addClass('Notice',function(properties,$,$window,$document){var _notice=this,_d={noticeType:'.notice-type',headerNoticeIcon:'.cabinet__bell',noticeBody:'.notice-body',noticeWidget:'.widgets-notice',noticeTable:'.notification-container'},_p=$.extend(_d,properties),_g={noticeType:null,headerNoticeIcon:null,noticeBody:null,noticeWidget:null,noticeTable:null,viewsIds:null,preloaded:false},_init=function(){appMakeBeCool.gateway.base.Class.apply(_notice,[_p]);if(!_g.preloaded){return _notice.init();}
    _notice.globals.customCreate=function(){_config();_setup();_setBinds();_setCustomMethods();};_notice.create();},_config=function(){_g.noticeType=$(_p.noticeType);_g.headerNoticeIcon=$(_p.headerNoticeIcon);_g.noticeBody=$(_p.noticeBody);_g.noticeWidget=$(_p.noticeWidget);_g.noticeTable=$(_p.noticeTable);_g.viewsIds={};},_setup=function(){_getNotice();_setViewUnreadNotice();_setNoticeType();_getViewsIds($window);},_setBinds=function(){_binds().setWindowScroll();_binds().setWindowUnload();},_binds=function(){return{setWindowScroll:function(){_notice.bind($window,'scroll',function(e,data,el){if(_g.noticeTable.length>0){_getViewsIds($(el));}});},setWindowUnload:function(){_notice.bind($window,'beforeunload unload',function(e,data,el){if(_g.noticeTable.length>0){$.ajax({url:global.ajaxHandlerUrl,method:'post',data:{ids:_g.viewsIds,action:'changeNoticeStatus'},success:function(response){response=JSON.parse(response);if(response.success){return'Success changes!';}}});}})}};},_getNotice=function(){$.ajax({url:global.ajaxHandlerUrl,method:'post',data:{count:true,action:'getNotice'},success:function(response){if(response!==null&&typeof response!=='undefined'&&response.length<100){response=JSON.parse(response);var noticeElms=_g.noticeTable.find('.table-list__row');if(noticeElms.length>0){$('.notification-container .empty-message').prop('hidden',true);}
        if(response.unread>0){_setUnreadCounts(response.unread);if(_g.noticeTable.length>0){$(noticeElms).each(function(){var elmStatus=$(this).data('status');if(!elmStatus){$(this).attr('style','background: #FFFAFA');}});}}}}});},_setViewUnreadNotice=function(){var unreadNoticeWidget=$('.unread-notice');var notice=$(unreadNoticeWidget).find(_g.noticeBody);if(notice.length>0){var emptyMessage=$(unreadNoticeWidget).find('.empty-message');$(emptyMessage).attr('hidden',true);$(unreadNoticeWidget).removeClass('widgets-notice--empty');}},_getViewsIds=function(el){var windowHeight=$(el).innerHeight();var windowTop=window.pageYOffset;var windowBottom=windowTop+windowHeight-1;var noticeElms=_g.noticeTable.find('.table-list__row');$(noticeElms).each(function(){var elmHeight=$(this).height();var elmBottom=$(this).offset().top+elmHeight-1;if(elmBottom>=windowTop&&elmBottom<=windowBottom){var elmId=$(this).data('id');var elmStatus=$(this).data('status');if(!elmStatus){var i=0;var numb=0;for(var k in _g.viewsIds){numb++;if(elmId===_g.viewsIds[k]){i++;}}
    if(i===0){_g.viewsIds[numb]=elmId;}}}});},_setUnreadCounts=function(count){$(_g.headerNoticeIcon).addClass('active');$(_g.headerNoticeIcon).find('span').text(count);},_setNoticeType=function(){$(_g.noticeType).each(function(){var type=$(this).text();var noticeBlock=$(this).closest('.widgets-info');if(type==='order-confirmed'){$(noticeBlock).addClass('widgets-info--buy');}else if(type==='order-waiting'){$(noticeBlock).addClass('widgets-info--wait');}else if(type==='invite-bonus'){$(noticeBlock).addClass('widgets-info--people');noticeBlock.find('.ruble').attr('style','display: none');}else if(type==='favourites'){$(noticeBlock).addClass('widgets-info--like');noticeBlock.find('.ruble').attr('style','display: none');}else if(type==='new-client'){$(noticeBlock).addClass('widgets-info--new');noticeBlock.find('.ruble').attr('style','display: none');}else if(type==='downloading'){$(noticeBlock).addClass('widgets-info--download');noticeBlock.find('.ruble').attr('style','display: none');}else if(type==='add-cart'){$(noticeBlock).addClass('widgets-info--add-cart');noticeBlock.find('.ruble').attr('style','display: none');}});},_triggers=function(){return{};},_setCustomMethods=function(){_notice.globals.customResurrect=function(){};_notice.globals.customDestroy=function(){};};_notice.addMethod('init',function(){_notice.bind($window,_notice.globals.classType+'_Init',function(e,data,el){_g.preloaded=true;_init();});});_init();});"use strict";appMakeBeCool.gateway.addClass('feedbackPopup',function(properties,$,$window,$document){var _feedbackPopup=this,_d={popup:'#feedback',popupMessage:'#feedback > .popup--center',successMessage:'#feedback > .popup--center > .success-message > h2',failMessage:'#feedback > .popup--center > .fail-message > h2',successMessageText:'#feedback > .popup--center > .success-message > .js_text_form_feedback',failMessageText:'#feedback > .popup--center > .fail-message > .js_text_form_feedback',successBtn:'#success-btn',failBtn:'#fail-btn',successBtnLink:null,failBtnLink:null,},_p=$.extend(_d,properties),_g={popup:null,popupMessage:null,successMessage:null,failMessage:null,successMessageText:null,failMessageText:null,successBtn:null,failBtn:null,preloaded:false},_init=function(){appMakeBeCool.gateway.base.Class.apply(_feedbackPopup,[_p]);if(!_g.preloaded){return _feedbackPopup.init();}
    _feedbackPopup.globals.customCreate=function(){_config();_setup();_setBinds();_setCustomMethods();};_feedbackPopup.create();},_config=function(){_g.popup=$(_p.popup);_g.popupMessage=$(_p.popupMessage);_g.successMessage=$(_p.successMessage);_g.failMessage=$(_p.failMessage);_g.successMessageText=$(_p.successMessageText);_g.failMessageText=$(_p.failMessageText);_g.successBtn=$(_p.successBtn);_g.failBtn=$(_p.failBtn);},_setup=function(){},_setBinds=function(){_binds().setShowPopup();_binds().setSuccessBtnClick();_binds().setFailBtnClick();_binds().setClosePopup();},_binds=function(){return{setShowPopup:function(){_feedbackPopup.bind($window,'feedbackPopup_showPopup',function(e,data,el){if(data.type==='success'){_g.successMessage.text(data.message);_g.successMessageText.text(data.message_text);if(data.link!==undefined&&data.link!=='undefined')_d.successBtnLink=data.link;_g.popupMessage.addClass('success');_g.popup.addClass('active');}else{_g.failMessage.text(data.message);_g.failMessageText.text(data.message_text);if(data.link!==undefined&&data.link!=='undefined')_d.successBtnLink=data.link;_g.popupMessage.addClass('fail');_g.popup.addClass('active');}});},setClosePopup:function(){_feedbackPopup.bind($window,'feedbackPopup_closePopup',function(e,data,el){_g.popupMessage.removeClass('success');_g.popup.removeClass('active');});},setSuccessBtnClick:function(){_feedbackPopup.bind(_g.successBtn,'click',function(e,data,el){if(_d.successBtnLink===null){_g.popupMessage.removeClass('success');_g.popup.removeClass('active');return;}
        window.location=_d.successBtnLink;});},setFailBtnClick:function(){_feedbackPopup.bind(_g.failBtn,'click',function(e,data,el){_g.popupMessage.removeClass('fail');_g.popup.removeClass('active');});},};},setSuccessBtnLink=function(link){_d.successBtnLink=link;},_triggers=function(){return{};},_setCustomMethods=function(){_feedbackPopup.globals.customResurrect=function(){};_feedbackPopup.globals.customDestroy=function(){};};_feedbackPopup.addMethod('init',function(){_feedbackPopup.bind($window,_feedbackPopup.globals.classType+'_Init',function(e,data,el){_g.preloaded=true;_init();});});_init();});"use strict";appMakeBeCool.gateway.addClass('Lightbox',function(properties,$,$window,$document){var _lightbox=this,_d={largeImg:'.large-img',smallImg:'.small-img',photoIdItem:'.photo-id'},_p=$.extend(_d,properties),_g={largeImg:null,smallImg:null,photoIdItem:null,startPhotoId:null,preloaded:false},_init=function(){appMakeBeCool.gateway.base.Class.apply(_lightbox,[_p]);if(!_g.preloaded){return _lightbox.init();}
    _lightbox.globals.customCreate=function(){_config();_setup();_setBinds();_setCustomMethods();};_lightbox.create();},_config=function(){_g.largeImg=$(_p.largeImg);_g.smallImg=$(_p.smallImg);_g.photoIdItem=$(_p.photoIdItem);_g.startPhotoId=_setStartPhotoId();},_setup=function(){_setCurrentNav();},_setBinds=function(){_binds().setNavItemClick();_binds().setSliderBtnsClick();},_binds=function(){return{setNavItemClick:function(){_lightbox.bind(_g.smallImg,'click',function(e,data,el){var itemId=$(el).data('id');_setNewLocation(itemId);});},setSliderBtnsClick:function(){_lightbox.bind($('.slick-arrow'),'click',function(e,data,el){var id=$('.slick-current').data('id');_setNewLocation(id);});}};},_triggers=function(){return{};},_setNewLocation=function(id){var url=document.location.origin;var uri=document.location.pathname;var newUri='';var newUrl;var idPose=uri.lastIndexOf('/')+1;for(var i=0;i<idPose;i++){newUri+=uri[i];}
    newUri+=id;newUrl=url+newUri;history.pushState('','',newUrl)},_setStartPhotoId=function(){var pathname=document.location.pathname;pathname=pathname.split('/');return pathname[pathname.length-1];},_setCurrentNav=function(){$(_p.smallImg+'[data-id="'+_g.startPhotoId+'"]').trigger('click');},_setCustomMethods=function(){_lightbox.globals.customResurrect=function(){};_lightbox.globals.customDestroy=function(){};};_lightbox.addMethod('init',function(){_lightbox.bind($window,_lightbox.globals.classType+'_Init',function(e,data,el){_g.preloaded=true;_init();});});_init();});"use strict";appMakeBeCool.gateway.addClass('clientTabs',function(properties,$,$window,$document){var _clientTabs=this,_d={tabs:'.js__tabs > li > a',containers:'.tabs__content-container',},_p=$.extend(_d,properties),_g={tabs:null,containers:null,preloaded:false},_init=function(){appMakeBeCool.gateway.base.Class.apply(_clientTabs,[_p]);if(!_g.preloaded){return _clientTabs.init();}
    _clientTabs.globals.customCreate=function(){_config();_setup();_setBinds();_setCustomMethods();};_clientTabs.create();},_config=function(){_g.tabs=$(_p.tabs);_g.containers=$(_p.containers);},_setup=function(){},_setBinds=function(){_binds().setTabClick();},_binds=function(){return{setTabClick:function(){_clientTabs.bind(_g.tabs,'click',function(e,data,el){e.preventDefault();var $this=$(el);_g.tabs.removeClass('active');$this.addClass('active');_g.containers.removeClass('active');$('[data-content="'+$this.data('tab')+'"]').addClass('active');});}};},_triggers=function(){return{};},_setCustomMethods=function(){_clientTabs.globals.customResurrect=function(){};_clientTabs.globals.customDestroy=function(){};};_clientTabs.addMethod('init',function(){_clientTabs.bind($window,_clientTabs.globals.classType+'_Init',function(e,data,el){_g.preloaded=true;_init();});});_init();});"use strict";appMakeBeCool.gateway.addClass('plans',function(properties,$,$window,$document){var _plans=this,_d={cardForm:'#card-form',},_p=$.extend(_d,properties),_g={cardForm:null,preloaded:false},_init=function(){appMakeBeCool.gateway.base.Class.apply(_plans,[_p]);if(!_g.preloaded){return _plans.init();}
    _plans.globals.customCreate=function(){_config();_setup();_setBinds();_setCustomMethods();};_plans.create();},_config=function(){_g.cardForm=$(_p.cardForm);},_setup=function(){_checkPaymentHistoryItems();},_setBinds=function(){_binds().setCardsFormSubmit();},_binds=function(){return{setCardsFormSubmit:function(){_plans.bind(_g.cardForm,'submit',function(e,data,el){e.preventDefault();var $form=$(el);$form.find('.error').css('display','none');var $selects=$form.find('select');var error=false;var data={};$selects.each(function(i,el){var $this=$(el);var val=$this.val();var name=$this.attr('name');if(val===''){error=true;$('label[for="'+name+'"]').css('display','block');}else{data[name]=val;}});if(!error){data['card']=$form.find('[name="card"]').inputmask('unmaskedvalue');data['cvv']=$form.find('[name="cvv"]').val();$.ajax({url:global.ajaxHandlerUrl,method:'post',data:{card:JSON.stringify(data),action:'saveCard'},success:function(response){response=JSON.parse(response);$('#current_card').text(response['card']);$form[0].reset();$form.find('select').each(function(i,el){$(el).val('').trigger('change');});_plans.trigger('feedbackPopup_showPopup',{message:global.popupMessages['cardSavedSuccess'],type:'success'});}});}});},};},_checkPaymentHistoryItems=function(){if(document.location.pathname.split('/')[2]==='plans'){if($document.find('.payment_history_row').length<1){$('.cart-wrap').attr('style','display : none');$('.info-msg').attr('style','');}}},_triggers=function(){return{};},_setCustomMethods=function(){_plans.globals.customResurrect=function(){};_plans.globals.customDestroy=function(){};};_plans.addMethod('init',function(){_plans.bind($window,_plans.globals.classType+'_Init',function(e,data,el){_g.preloaded=true;_init();});});_init();});"use strict";appMakeBeCool.gateway.addClass('tabsDashboard',function(properties,$,$window,$document){var _tabsDashboard=this,_d={},_p=$.extend(_d,properties),_g={preloaded:false},_init=function(){appMakeBeCool.gateway.base.Class.apply(_tabsDashboard,[_p]);if(!_g.preloaded){return _tabsDashboard.init();}
    _tabsDashboard.globals.customCreate=function(){_config();_setup();_setBinds();_setCustomMethods();};_tabsDashboard.create();},_config=function(){},_setup=function(){$('ul.tabs__caption').each(function(){$(this).find('li').each(function(i){$(this).click(function(e){e.preventDefault();$(this).addClass('active').siblings().removeClass('active').closest('div.tabs').find('div.tabs__content').removeClass('active').eq(i).addClass('active');});});});},_setBinds=function(){},_binds=function(){return{};},_triggers=function(){return{};},_setCustomMethods=function(){_tabsDashboard.globals.customResurrect=function(){};_tabsDashboard.globals.customDestroy=function(){};};_tabsDashboard.addMethod('init',function(){_tabsDashboard.bind($window,_tabsDashboard.globals.classType+'_Init',function(e,data,el){_g.preloaded=true;_init();});});_init();});"use strict";appMakeBeCool.gateway.addClass('OrderFunctions',function(properties,$,$window,$document){var _orderFunctions=this,_d={orderApprove:'.order-approve',orderDelete:'.order-delete',deleteOrderPopup:'#deleteOrderPopup',moreOrdersBtn:'#more-orders-btn',ordersList:'#galleryList'},_p=$.extend(_d,properties),_g={orderApprove:null,orderDelete:null,deleteOrderPopup:null,orderForDelete:null,moreOrdersBtn:null,ordersList:null,preloaded:false},_init=function(){appMakeBeCool.gateway.base.Class.apply(_orderFunctions,[_p]);if(!_g.preloaded){return _orderFunctions.init();}
    _orderFunctions.globals.customCreate=function(){_config();_setup();_setBinds();_setCustomMethods();};_orderFunctions.create();},_config=function(){_g.orderApprove=$(_p.orderApprove);_g.orderDelete=$(_p.orderDelete);_g.deleteOrderPopup=$(_p.deleteOrderPopup);_g.moreOrdersBtn=$(_p.moreOrdersBtn);_g.ordersList=$(_p.ordersList);},_setup=function(){_checkOrdersCount();},_setBinds=function(){_binds().setOrderApproveClick();_binds().setOrderDeleteClick();_binds().setApproveDeleteOrderCLick();_binds().setCancelDeleteOrderClick();_binds().setMoreOrdersClick();},_binds=function(){return{setOrderApproveClick:function(){_orderFunctions.bind(_g.orderApprove,'click',function(e,data,el){e.preventDefault();console.log('click');var id=document.location.href.split('=')[1];if(typeof id==='undefined'){id=$(el).closest('.gallery-wrap--order').data('id');}
        $.ajax({url:global.ajaxHandlerUrl,data:{id:id,action:'updateOrder'},method:'post',success:function(response){response=JSON.parse(response);if(response.success){location.reload();}}})});},setOrderDeleteClick:function(){_orderFunctions.bind(_g.orderDelete,'click',function(e,data,el){e.preventDefault();_g.orderForDelete=$(el).closest('.gallery-wrap--order');_g.deleteOrderPopup.addClass('active');});},setApproveDeleteOrderCLick:function(){_orderFunctions.bind($('.delete-order-approve'),'click',function(e,data,el){e.preventDefault();var id=document.location.href.split('=')[1];if(typeof id==='undefined'){id=_g.orderForDelete.data('id');}
        _g.deleteOrderPopup.removeClass('active');$('#popup-message').removeClass('active');$.ajax({url:global.ajaxHandlerUrl,data:{id:id,action:'deleteOrder'},method:'post',success:function(response){response=JSON.parse(response);if(response.success){var href=$('.back-btn').attr('href');if(typeof href==='undefined'){_removeItemsIsotope(_g.orderForDelete);}else{location.href=$('.back-btn').attr('href');}}else{console.log(response.error);$('#popup-message').addClass('active');}}})})},setCancelDeleteOrderClick:function(){_orderFunctions.bind($('.delete-order-cancel'),'click',function(e,data,el){e.preventDefault();_g.deleteOrderPopup.removeClass('active');$('#popup-message').removeClass('active');});},setMoreOrdersClick:function(){_orderFunctions.bind(_g.moreOrdersBtn,'click',function(e,data,el){e.preventDefault();var resultsCount=$('#galleryList').find('.gallery-wrap--order').length;$.ajax({url:global.ajaxHandlerUrl,data:{offset:resultsCount,action:'getOrders'},method:'post',success:function(response){response=JSON.parse(response);if(response.success){_checkOrdersCount(response.status);var append=$(response.output);_appendItemsIsotope(append);}}});});}};},_checkOrdersCount=function(ajaxStatus){if(typeof ajaxStatus!=='undefined'){var status=ajaxStatus;}else{status=_g.moreOrdersBtn.data('more');}
    if(status>0){_g.moreOrdersBtn.attr('style','display : block');}},_appendItemsIsotope=function($items){_g.ordersList.isotope().append($items).isotope('appended',$items);},_prependItemsIsotope=function($items){_g.ordersList.isotope().prepend($items).isotope('prepended',$items);},_removeItemsIsotope=function($items){_g.ordersList.isotope('remove',$items).isotope('layout');},_triggers=function(){return{};},_setCustomMethods=function(){_orderFunctions.globals.customResurrect=function(){};_orderFunctions.globals.customDestroy=function(){};};_orderFunctions.addMethod('init',function(){_orderFunctions.bind($window,_orderFunctions.globals.classType+'_Init',function(e,data,el){_g.preloaded=true;_init();});});_init();});"use strict";appMakeBeCool.gateway.addClass('dashboardFunctions',function(properties,$,$window,$document){var _dashboardFunctions=this,_d={activityWidget:'.activity-widget',salesWidget:'.sales-widget',tableContainer:'.table__studio-items',activityContainer:'.activity-container',salesContainer:'.sales-container',withdrawalOffundsPopup:'#withdrawalOffundsPopup',withdrawalOffunds:'#withdrawalOffunds',withdrawalOffundsInput:'#withdrawalOffundsInput',withdrawalForm:'#withdrawalForm',},_p=$.extend(_d,properties),_g={activityWidget:null,salesWidget:null,tableContainer:null,activityContainer:null,salesContainer:null,viewsIds:null,withdrawalOffundsPopup:null,withdrawalOffunds:null,withdrawalOffundsInput:null,withdrawalForm:null,preloaded:false},_init=function(){appMakeBeCool.gateway.base.Class.apply(_dashboardFunctions,[_p]);if(!_g.preloaded){return _dashboardFunctions.init();}
    _dashboardFunctions.globals.customCreate=function(){_config();_setup();_setBinds();_setCustomMethods();};_dashboardFunctions.create();},_config=function(){_g.activityWidget=$(_p.activityWidget);_g.salesWidget=$(_p.salesWidget);_g.tableContainer=$(_p.tableContainer);_g.activityContainer=$(_p.activityContainer);_g.salesContainer=$(_p.salesContainer);_g.withdrawalOffundsPopup=$(_p.withdrawalOffundsPopup);_g.withdrawalOffunds=$(_p.withdrawalOffunds);_g.withdrawalOffundsInput=$(_p.withdrawalOffundsInput);_g.withdrawalForm=$(_p.withdrawalForm);_g.viewsIds={};},_setup=function(){_validationInput();_checkWidgetsContent();_getViewsIds($window);},_setBinds=function(){_binds().openWithdrawalOffundsPopup();_binds().setWindowScroll();_binds().setWindowUnload();_binds().withdrawalFormSubmit();},_binds=function(){return{withdrawalFormSubmit:function(){_g.withdrawalForm.on('submit',function(e){e.preventDefault();const amount=$('#withdrawalOffundsInput').val();$.ajax({url:global.ajaxHandlerUrl,method:'post',data:{action:'makeWithdrawalRequest',amount,},success:function(res){res=JSON.parse(res);_g.withdrawalOffundsPopup.removeClass('active');if(res.success){_dashboardFunctions.trigger('feedbackPopup_showPopup',{type:'success',message:res.message,});}else{_dashboardFunctions.trigger('feedbackPopup_showPopup',{type:'failure',message:res.message,});}}})});},openWithdrawalOffundsPopup:function(){_g.withdrawalOffunds.on('click',function(e){if($(window).width()<1280){$('#header__menu').fadeToggle();}
        _g.withdrawalOffundsPopup.addClass('active');})},setWindowScroll:function(){_dashboardFunctions.bind($window,'scroll',function(e,data,el){if(_g.tableContainer.length>0){_getViewsIds($(el));}});},setWindowUnload:function(){_dashboardFunctions.bind($window,'beforeunload unload',function(e,data,el){if(_g.tableContainer.length>0){var action='';if(_g.tableContainer.hasClass('activity-container')){action='resetGalleriesActivity';}else{action='setViewSales';}
        $.ajax({url:global.ajaxHandlerUrl,method:'post',data:{ids:_g.viewsIds,action:action},success:function(response){response=JSON.parse(response);if(response.success){return'Success changes!';}}});}})}};},_validationInput=function(){_g.withdrawalOffundsInput.keydown(function(e){var key=e.charCode||e.keyCode||0;return(key==8||key==9||key==46||(key>=37&&key<=40)||(key>=48&&key<=57)||(key>=96&&key<=105)||key==107||key==109||key==173||key==61);});},_checkWidgetsContent=function(){if(_g.activityWidget.find('.row-dashboard-widget').length<1){_g.activityWidget.find('.empty-message').attr('style','');_g.activityWidget.find('.widgets-open').attr('hidden',true);_g.activityWidget.addClass("widgets-galery--empty");}else{}
    if(_g.salesWidget.find('.row-dashboard-widget').length<1){_g.salesWidget.find('.empty-message').attr('style','');_g.salesWidget.find('.widgets-open').attr('hidden',true);_g.salesWidget.addClass("widgets-sales--empty");}else{}},_getViewsIds=function(el){var windowHeight=$(el).innerHeight();var windowTop=window.pageYOffset;var windowBottom=windowTop+windowHeight-1;var items=_g.tableContainer.find('.table-item');$(items).each(function(){var elmHeight=$(this).height();var elmBottom=$(this).offset().top+elmHeight-1;if(elmBottom>=windowTop&&elmBottom<=windowBottom){var elmId=$(this).data('id');if(_g.tableContainer.hasClass('sales-history')){var elmStatus=$(this).data('status');if(!elmStatus){var i=0;var numb=0;for(var k in _g.viewsIds){numb++;if(elmId===_g.viewsIds[k]){i++;}}
    if(i===0){_g.viewsIds[numb]=elmId;}}}else{i=0;numb=0;for(k in _g.viewsIds){numb++;if(elmId===_g.viewsIds[k]){i++;}}
    if(i===0){_g.viewsIds[numb]=elmId;}}}});},_triggers=function(){return{};},_setCustomMethods=function(){_dashboardFunctions.globals.customResurrect=function(){};_dashboardFunctions.globals.customDestroy=function(){};};_dashboardFunctions.addMethod('init',function(){_dashboardFunctions.bind($window,_dashboardFunctions.globals.classType+'_Init',function(e,data,el){_g.preloaded=true;_init();});});_init();});"use strict";appMakeBeCool.gateway.addClass('SearchPromoCode',function(properties,$,$window,$document){var _searchPromoCode=this,_d={searchPromoCodeToggle:'#search-promo-code__toggle',searchPromoCodeForm:'#searchPromoCodeForm',searchPromoCodeCancel:'#search-promo-code-cancel',searchPromoCodeGrid:'#promoCodeList'},_p=$.extend(_d,properties),_g={searchPromoCodeToggle:null,searchPromoCodeForm:null,searchPromoCodeCancel:null,searchPromoCodeGrid:null,preloaded:false},_init=function(){appMakeBeCool.gateway.base.Class.apply(_searchPromoCode,[_p]);if(!_g.preloaded){return _searchPromoCode.init();}
    _searchPromoCode.globals.customCreate=function(){_config();_setup();_setBinds();_setCustomMethods();};_searchPromoCode.create();},_config=function(){_g.searchPromoCodeToggle=$(_p.searchPromoCodeToggle);_g.searchPromoCodeForm=$(_p.searchPromoCodeForm);_g.searchPromoCodeCancel=$(_p.searchPromoCodeCancel);_g.searchPromoCodeGrid=$(_p.searchPromoCodeGrid);},_setup=function(){_g.searchPromoCodeToggle.on('click',function(e){e.preventDefault();let $filterBtn=$(this);if($filterBtn.hasClass('active'))return;_g.searchPromoCodeForm.slideToggle(500);$filterBtn.toggleClass('active');});_g.searchPromoCodeCancel.on('click',function(e){e.preventDefault();if(!_g.searchPromoCodeToggle.hasClass('active'))return;_g.searchPromoCodeForm.slideToggle(500);_g.searchPromoCodeToggle.removeClass('active');_g.searchPromoCodeGrid.isotope({filter:'*'});});_g.searchPromoCodeForm.on('submit',function(e){e.preventDefault();let name=$('#filterNamePromoCode').val();let status=$('#filterStatusPromoCode').val();let dateCreation=$('#filterDateCreationPromoCode').val();_g.searchPromoCodeGrid.isotope({filter:function(){if(name!==''){var dname=$(this).data('name')+'';if(dname.indexOf(name)){return false;}}
        if(status!==''){var dstatus=$(this).data('status')+'';if(dstatus.indexOf(status)){return false;}}
        if(dateCreation!==''){var ddate=$(this).data('date')+'';if(ddate.indexOf(dateCreation)){return false;}}
        return true;}});});_g.searchPromoCodeForm.find('select,input').on('change',function(e){_g.searchPromoCodeForm.trigger('submit');});},_setBinds=function(){},_binds=function(){return{};},_triggers=function(){return{};},_setCustomMethods=function(){_searchPromoCode.globals.customResurrect=function(){};_searchPromoCode.globals.customDestroy=function(){};};_searchPromoCode.addMethod('init',function(){_searchPromoCode.bind($window,_searchPromoCode.globals.classType+'_Init',function(e,data,el){_g.preloaded=true;_init();});});_init();});"use strict";appMakeBeCool.gateway.addClass('PromoCodePage',function(properties,$,$window,$document){var _promoCodePage=this,_d={createPromoCode:'#createPromoCode',createPromoCodePopup:'#createPromoCodePopup',detailedView:'.detailedView',editPromoCode:'.editPromoCode',detailedViewPopup:'#detailedViewPopup',editPromoCodePopup:'#editPromoCodePopup',selectPromoCode:'.selectPromoCode',selectPromoCodeEdit:'.selectPromoCodeEdit',numberOfTimes:'.numberOfTimes',dateBeginning:'.dateBeginning',expirationDate:'.expirationDate',numberOfTimesEdit:'.numberOfTimesEdit',dateBeginningEdit:'.dateBeginningEdit',expirationDateEdit:'.expirationDateEdit',deletePromocode:'.delete-promoCode',activatePromocode:'.activatePromoCode',fullGallery:'.fullGallery',numberOfPhoto:'.numberOfPhoto'},_p=$.extend(_d,properties),_g={createPromoCode:null,createPromoCodePopup:null,detailedView:null,editPromoCode:null,detailedViewPopup:null,editPromoCodePopup:null,selectPromoCode:null,selectPromoCodeEdit:null,numberOfTimes:null,dateBeginning:null,expirationDate:null,numberOfTimesEdit:null,dateBeginningEdit:null,expirationDateEdit:null,createPromocodeForm:null,updatePromocodeForm:null,deletePromocode:null,activatePromocode:null,fullGallery:null,numberOfPhoto:null,preloaded:false},_init=function(){appMakeBeCool.gateway.base.Class.apply(_promoCodePage,[_p]);if(!_g.preloaded){return _promoCodePage.init();}
    _promoCodePage.globals.customCreate=function(){_config();_setup();_setBinds();_setCustomMethods();};_promoCodePage.create();},_config=function(){_g.createPromoCode=$(_p.createPromoCode);_g.createPromoCodePopup=$(_p.createPromoCodePopup);_g.detailedView=$(_p.detailedView);_g.editPromoCode=$(_p.editPromoCode);_g.detailedViewPopup=$(_p.detailedViewPopup);_g.editPromoCodePopup=$(_p.editPromoCodePopup);_g.selectPromoCode=$(_p.selectPromoCode);_g.selectPromoCodeEdit=$(_p.selectPromoCodeEdit);_g.numberOfTimes=$(_p.numberOfTimes);_g.dateBeginning=$(_p.dateBeginning);_g.expirationDate=$(_p.expirationDate);_g.numberOfTimesEdit=$(_p.numberOfTimesEdit);_g.dateBeginningEdit=$(_p.dateBeginningEdit);_g.expirationDateEdit=$(_p.expirationDateEdit);_g.createPromocodeForm=_g.createPromoCodePopup.find('form');_g.updatePromocodeForm=_g.editPromoCodePopup.find('form');_g.deletePromocode=$(_p.deletePromocode);_g.activatePromocode=$(_p.activatePromocode);_g.fullGallery=$(_p.fullGallery);_g.numberOfPhoto=$(_p.numberOfPhoto);},_setup=function(){$('.promoCode-list__sort').find('.link').on('click',function(e){e.preventDefault();});},_setBinds=function(){_binds().openPromoCodePopup();_binds().openSelectPromoCode();_binds().setSubmitPromocodeForm();_binds().setDeletePromocode();_binds().setActivatePromocode();_binds().fullGalleryChecked();},_binds=function(){return{fullGalleryChecked:function(){_g.fullGallery.on('click',function(){console.log('click');console.log($(this).closest('form').find(_g.numberOfPhoto));if($(this).is(':checked')){$(this).closest('form').find(_g.numberOfPhoto).hide();}else{$(this).closest('form').find(_g.numberOfPhoto).show();}});},openPromoCodePopup:function(){_g.createPromoCode.on('click',function(e){e.preventDefault();$('input[name="value"]').val(Math.random().toString(36).substring(5).toUpperCase());_g.createPromoCodePopup.addClass('active');});_g.editPromoCode.on('click',function(e){e.preventDefault();let id=$(this).closest('.promoCode-list__item').data('id');$.ajax({url:global.ajaxHandlerUrl,data:{id:id,action:'getPromocode'},method:'post',success:function(response){response=JSON.parse(response);if(response.success){var data=response.body;_fillPromocodePopup(_g.editPromoCodePopup,data);_g.editPromoCodePopup.addClass('active');}else{let data={message:response.message};_promoCodePage.trigger('feedbackPopup_showPopup',data);}}});});$('.promoCode-list__item').find('.link_name').on('click',function(e){e.preventDefault();$(this).closest('.promoCode-list__item').find(_g.detailedView).click();});_g.detailedView.on('click',function(e){e.preventDefault();let id=$(this).closest('.promoCode-list__item').data('id');$.ajax({url:global.ajaxHandlerUrl,data:{id:id,action:'getPromocode'},method:'post',success:function(response){response=JSON.parse(response);if(response.success){var data=response.body;_fillPromocodePopup(_g.detailedViewPopup,data);_g.detailedViewPopup.addClass('active');}else{let data={message:response.message};_promoCodePage.trigger('feedbackPopup_showPopup',data);}}});});},openSelectPromoCode:function(){_g.selectPromoCode.on('change',function(e){e.preventDefault();if(_g.selectPromoCode.val()=='lim'){_g.numberOfTimes.show();}else{_g.numberOfTimes.hide();}
        if(_g.selectPromoCode.val()=='limited'){_g.dateBeginning.show();_g.expirationDate.show();}else{_g.dateBeginning.hide();_g.expirationDate.hide();}});_g.selectPromoCodeEdit.on('change',function(e){e.preventDefault();if(_g.selectPromoCodeEdit.val()=='lim'){_g.numberOfTimesEdit.show();}else{_g.numberOfTimesEdit.hide();}
        if(_g.selectPromoCodeEdit.val()=='limited'){_g.dateBeginningEdit.show();_g.expirationDateEdit.show();}else{_g.dateBeginningEdit.hide();_g.expirationDateEdit.hide();}});},setSubmitPromocodeForm:function(){_promoCodePage.bind(_g.createPromocodeForm,'submit',function(e,data,el){e.preventDefault();var dat={};let inputs=$(el).find('input');dat['type']=$(el).find('select[name="type"] option:selected').val();dat['expression']=$(el).find('select[name="expression"] option:selected').val();inputs.each(function(){if($(this).attr('type')=='checkbox'){dat[$(this).attr('name')]=$(this).is(':checked')?1:0;}else{dat[$(this).attr('name')]=$(this).val();}});$.ajax({url:global.ajaxHandlerUrl,data:{data:dat,action:'createPromocode'},method:'post',success:function(response){response=JSON.parse(response);if(response.success){location.reload();}else{data={message:response.message};_promoCodePage.trigger('feedbackPopup_showPopup',data);}}});});_promoCodePage.bind(_g.updatePromocodeForm,'submit',function(e,data,el){e.preventDefault();var id=$(el).data('id');var dat={};let inputs=$(el).find('input');dat['type']=$(el).find('select').val();inputs.each(function(){if($(this).attr('name')!=='type'){if($(this).attr('type')=='checkbox'){dat[$(this).attr('name')]=$(this).is(':checked')?1:0;}else{dat[$(this).attr('name')]=$(this).val();}}else{dat[$(this).attr('name')]=$(this).data('type');}});$.ajax({url:global.ajaxHandlerUrl,data:{id:id,data:dat,action:'updatePromocode'},method:'post',success:function(response){response=JSON.parse(response);if(response.success){location.reload();}else{data={message:response.message};_promoCodePage.trigger('feedbackPopup_showPopup',data);}}});});},setDeletePromocode:function(){_promoCodePage.bind(_g.deletePromocode,'click',function(e,data,el){e.preventDefault();let id=$(el).closest('.promoCode-list__item').data('id');console.log(id);$.ajax({url:global.ajaxHandlerUrl,data:{id:id,action:'deletePromocode'},method:'post',success:function(response){response=JSON.parse(response);if(response.success){location.reload();}else{data={message:response.message};_promoCodePage.trigger('feedbackPopup_showPopup',data);}}});});},setActivatePromocode:function(){_promoCodePage.bind(_g.activatePromocode,'click',function(e,data,el){e.preventDefault();var id=$(el).closest('.promoCode-list__item').data('id');$.ajax({url:global.ajaxHandlerUrl,data:{id:id,action:'updatePromocode'},method:'post',success:function(response){response=JSON.parse(response);if(response.success){location.reload();}else{data={message:response.message};_promoCodePage.trigger('feedbackPopup_showPopup',data);}}});});},};},_fillPromocodePopup=function(popup,data){var inputs=popup.find('input');popup.find('form').attr('data-id',data.id);inputs.each(function(){var $el=$(this);for(var k in data){if(k==$el.attr('name')){if($el.attr('name')=='type'){$el.attr('data-type',data.type);if(data[k]=='disposable'){$el.val('');}else if(data[k]=='lim'){$el.val('');}else if(data[k]=='permanent'){$el.val('');}else{$el.val('');}}else{$el.val(data[k]);}}else if(k=='discount'||k=='params'){for(var i in data[k]){if(i==$el.attr('name')){if(i=='fullGalleryOnly'){if(data[k][i]){$el.prop('checked',true);popup.find(_g.numberOfPhoto).hide();}else{$el.prop('checked',false);popup.find(_g.numberOfPhoto).show();}}else{$el.val(data[k][i]);}}}}}
    if(data.type=='disposable'||data.type=='permanent'){if($el.attr('name')=='numberOfUse'||$el.attr('name')=='start_date'||$el.attr('name')=='end_date'){$el.closest('.form-group').hide();}}else if(data.type=='lim'){if($el.attr('name')=='start_date'||$el.attr('name')=='end_date'){$el.closest('.form-group').hide();}else if($el.attr('name')=='numberOfUse'){$el.closest('.form-group').show();}}else{if($el.attr('name')=='numberOfUse'){$el.closest('.form-group').hide();}else if($el.attr('name')=='start_date'||$el.attr('name')=='end_date'){$el.closest('.form-group').show();}}});},_setCustomMethods=function(){_promoCodePage.globals.customResurrect=function(){};_promoCodePage.globals.customDestroy=function(){};};_promoCodePage.addMethod('init',function(){_promoCodePage.bind($window,_promoCodePage.globals.classType+'_Init',function(e,data,el){_g.preloaded=true;_init();});});_init();});"use strict";appMakeBeCool.gateway.addClass('ConfirmEmail',function(properties,$,$window,$document){var _confirmEmail=this,_d={confirmEmail:'.confirmEmail',emailApproveRe:'#email-approve-re'},_p=$.extend(_d,properties),_g={confirmEmail:null,emailApproveRe:null,preloaded:false},_init=function(){appMakeBeCool.gateway.base.Class.apply(_confirmEmail,[_p]);if(!_g.preloaded){return _confirmEmail.init();}
    _confirmEmail.globals.customCreate=function(){_config();_setup();_setBinds();_setCustomMethods();}
    _confirmEmail.create();},_config=function(){_g.confirmEmail=$(_p.confirmEmail);_g.emailApproveRe=$(_p.emailApproveRe);},_setup=function(){},_setBinds=function(){_binds().emailApproveReClick();},_binds=function(){return{emailApproveReClick:function(){_confirmEmail.bind(_g.emailApproveRe,'click',function(e,data,el){e.preventDefault();$.ajax({url:global.ajaxHandlerUrl,data:{type:'email-approve',action:'sendEmail'},method:'post',success:function(response){response=JSON.parse(response);if(response.success){_g.confirmEmail.removeClass('fail');_g.confirmEmail.addClass('success');}else{_g.confirmEmail.removeClass('success');_g.confirmEmail.addClass('fail');}}});});},confirmEmailSuccess:function(){_g.confirmEmail.find('.fail-message  .repeate').on('click',function(){_g.confirmEmail.removeClass('fail');_g.confirmEmail.addClass('success');});}}},_triggers=function(){return{}},_setCustomMethods=function(){_confirmEmail.globals.customResurrect=function(){}
    _confirmEmail.globals.customDestroy=function(){}}
    _confirmEmail.addMethod('init',function(){_confirmEmail.bind($window,_confirmEmail.globals.classType+'_Init',function(e,data,el){_g.preloaded=true;_init();});});_init();});Share={go:function(_element,_options){var
        self=Share,options=$.extend({type:'vk',url:param('url'),count_url:param('count_url'),title:param('title'),image:param('image'),text:param('description'),},$(_element).data(),_options);if(self.popup(link=self[options.type](options))===null){if($(_element).is('a')){$(_element).prop('href',link);return true;}
    else{location.href=link;return false;}}
    else{return false;}
        function param(name){return $('meta[property=og\\:'+name+']').attr('content');}},vk:function(_options){var options=$.extend({url:location.href,title:document.title,image:'',text:'',},_options);console.log(options.image);return'https://vkontakte.ru/share.php?'
        +'url='+encodeURIComponent(options.url)
        +'&title='+encodeURIComponent(options.title)
        +'&description='+encodeURIComponent(options.text)
        +'&image='+encodeURIComponent(options.image)
        +'&noparse=true';},ok:function(_options){var options=$.extend({url:location.href,text:'',},_options);return'https://connect.ok.ru/dk?st.cmd=addShare&st.s=1'
        +'&st.comments='+encodeURIComponent(options.text)
        +'&st._surl='+encodeURIComponent(options.url);},fb:function(_options){var options=$.extend({url:location.href,title:document.title,image:'',text:'',},_options);return'https://www.facebook.com/sharer.php?s=100'
        +'&p[title]='+encodeURIComponent(options.title)
        +'&p[summary]='+encodeURIComponent(options.text)
        +'&p[url]='+encodeURIComponent(options.url)
        +'&p[images][0]='+encodeURIComponent(options.image);},lj:function(_options){var options=$.extend({url:location.href,title:document.title,text:'',},_options);return'https://livejournal.com/update.bml?'
        +'subject='+encodeURIComponent(options.title)
        +'&event='+encodeURIComponent(options.text+options.title+'')
        +'&transform=1';},tw:function(_options){var options=$.extend({url:location.href,count_url:location.href,title:document.title,},_options);return'https://twitter.com/share?'
        +'text='+encodeURIComponent(options.title)
        +'&url='+encodeURIComponent(options.url)
        +'&counturl='+encodeURIComponent(options.count_url);},mr:function(_options){var options=$.extend({url:location.href,title:document.title,image:'',text:'',},_options);return'http://connect.mail.ru/share?'
        +'url='+encodeURIComponent(options.url)
        +'&title='+encodeURIComponent(options.title)
        +'&description='+encodeURIComponent(options.text)
        +'&imageurl='+encodeURIComponent(options.image);},gg:function(_options){var options=$.extend({url:location.href},_options);return'https://plus.google.com/share?url='
        +encodeURIComponent(options.url);},li:function(_options){var options=$.extend({url:location.href,title:document.title,text:''},_options);return'https://www.linkedin.com/shareArticle?mini=true'
        +'&url='+encodeURIComponent(options.url)
        +'&title='+encodeURIComponent(options.title)
        +'&summary='+encodeURIComponent(options.text);},popup:function(url){return window.open(url,'','toolbar=0,status=0,scrollbars=1,width=626,height=436');}}
function fbShare(siteUrl,picture,title,caption,descr,winWidth,winHeight){var winTop=(screen.height/2)-(winHeight/2);var winLeft=(screen.width/2)-(winWidth/2);window.open('http://www.facebook.com/sharer.php?s=100&u='+siteUrl+'&picture='+picture+'&title='+title+'&caption='+caption,'&description='+descr,'top='+winTop+',left='+winLeft+',toolbar=0,status=0,width='+winWidth+',height='+winHeight);}
function withoutCyr(input){var value=input.value;var name=input.name;if(/^[a-zA-Z0-9][a-zA-Z0-9.-]*$/.test(value)){$(input).parent().removeClass('error');$(input).parent().parent().find('#js_'+name+'-error').remove();}else{$(input).parent().addClass('error');if($('#js_'+name+'-error').length==0){$(input).parent().parent().append('<label id="js_'+name+'-error" class="error">   ,      </label>');}}};function urlParam(name){var results=new RegExp('[\?&]'+name+'=([^&#]*)').exec(window.location.href);if(results==null){return null;}
else{return decodeURI(results[1])||0;}};phone_codes=[{"mask":"+247-####","cc":"AC","name_en":"Ascension","desc_en":"","name_ru":" ","desc_ru":""},{"mask":"+376-###-###","cc":"AD","name_en":"Andorra","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+971-5#-###-####","cc":"AE","name_en":"United Arab Emirates","desc_en":"mobile","name_ru":"  ","desc_ru":""},{"mask":"+971-#-###-####","cc":"AE","name_en":"United Arab Emirates","desc_en":"","name_ru":"  ","desc_ru":""},{"mask":"+93-##-###-####","cc":"AF","name_en":"Afghanistan","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+1(268)###-####","cc":"AG","name_en":"Antigua & Barbuda","desc_en":"","name_ru":"  ","desc_ru":""},{"mask":"+1(264)###-####","cc":"AI","name_en":"Anguilla","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+355(###)###-###","cc":"AL","name_en":"Albania","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+374-##-###-###","cc":"AM","name_en":"Armenia","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+599-###-####","cc":"AN","name_en":"Caribbean Netherlands","desc_en":"","name_ru":" ","desc_ru":""},{"mask":"+599-###-####","cc":"AN","name_en":"Netherlands Antilles","desc_en":"","name_ru":"  ","desc_ru":""},{"mask":"+599-9###-####","cc":"AN","name_en":"Netherlands Antilles","desc_en":"Curacao","name_ru":"  ","desc_ru":""},{"mask":"+244(###)###-###","cc":"AO","name_en":"Angola","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+672-1##-###","cc":"AQ","name_en":"Australian bases in Antarctica","desc_en":"","name_ru":"  ","desc_ru":""},{"mask":"+54(###)###-####","cc":"AR","name_en":"Argentina","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+1(684)###-####","cc":"AS","name_en":"American Samoa","desc_en":"","name_ru":" ","desc_ru":""},{"mask":"+43(###)###-####","cc":"AT","name_en":"Austria","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+61-#-####-####","cc":"AU","name_en":"Australia","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+297-###-####","cc":"AW","name_en":"Aruba","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+994-##-###-##-##","cc":"AZ","name_en":"Azerbaijan","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+387-##-#####","cc":"BA","name_en":"Bosnia and Herzegovina","desc_en":"","name_ru":"  ","desc_ru":""},{"mask":"+387-##-####","cc":"BA","name_en":"Bosnia and Herzegovina","desc_en":"","name_ru":"  ","desc_ru":""},{"mask":"+1(246)###-####","cc":"BB","name_en":"Barbados","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+880-##-###-###","cc":"BD","name_en":"Bangladesh","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+32(###)###-###","cc":"BE","name_en":"Belgium","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+226-##-##-####","cc":"BF","name_en":"Burkina Faso","desc_en":"","name_ru":" ","desc_ru":""},{"mask":"+359(###)###-###","cc":"BG","name_en":"Bulgaria","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+973-####-####","cc":"BH","name_en":"Bahrain","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+257-##-##-####","cc":"BI","name_en":"Burundi","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+229-##-##-####","cc":"BJ","name_en":"Benin","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+1(441)###-####","cc":"BM","name_en":"Bermuda","desc_en":"","name_ru":" ","desc_ru":""},{"mask":"+673-###-####","cc":"BN","name_en":"Brunei Darussalam","desc_en":"","name_ru":"-","desc_ru":""},{"mask":"+591-#-###-####","cc":"BO","name_en":"Bolivia","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+55-##-####-####","cc":"BR","name_en":"Brazil","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+1(242)###-####","cc":"BS","name_en":"Bahamas","desc_en":"","name_ru":" ","desc_ru":""},{"mask":"+975-17-###-###","cc":"BT","name_en":"Bhutan","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+975-#-###-###","cc":"BT","name_en":"Bhutan","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+267-##-###-###","cc":"BW","name_en":"Botswana","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+375(##)###-##-##","cc":"BY","name_en":"Belarus","desc_en":"","name_ru":" ()","desc_ru":""},{"mask":"+501-###-####","cc":"BZ","name_en":"Belize","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+243(###)###-###","cc":"CD","name_en":"Dem. Rep. Congo","desc_en":"","name_ru":".  .  ()","desc_ru":""},{"mask":"+236-##-##-####","cc":"CF","name_en":"Central African Republic","desc_en":"","name_ru":"  ","desc_ru":""},{"mask":"+242-##-###-####","cc":"CG","name_en":"Congo (Brazzaville)","desc_en":"","name_ru":" ()","desc_ru":""},{"mask":"+41-##-###-####","cc":"CH","name_en":"Switzerland","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+225-##-###-###","cc":"CI","name_en":"Cote dIvoire (Ivory Coast)","desc_en":"","name_ru":"-","desc_ru":""},{"mask":"+682-##-###","cc":"CK","name_en":"Cook Islands","desc_en":"","name_ru":" ","desc_ru":""},{"mask":"+56-#-####-####","cc":"CL","name_en":"Chile","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+237-####-####","cc":"CM","name_en":"Cameroon","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+86(###)####-####","cc":"CN","name_en":"China (PRC)","desc_en":"","name_ru":" . .","desc_ru":""},{"mask":"+86(###)####-###","cc":"CN","name_en":"China (PRC)","desc_en":"","name_ru":" . .","desc_ru":""},{"mask":"+86-##-#####-#####","cc":"CN","name_en":"China (PRC)","desc_en":"","name_ru":" . .","desc_ru":""},{"mask":"+57(###)###-####","cc":"CO","name_en":"Colombia","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+506-####-####","cc":"CR","name_en":"Costa Rica","desc_en":"","name_ru":"- ","desc_ru":""},{"mask":"+53-#-###-####","cc":"CU","name_en":"Cuba","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+238(###)##-##","cc":"CV","name_en":"Cape Verde","desc_en":"","name_ru":"-","desc_ru":""},{"mask":"+599-###-####","cc":"CW","name_en":"Curacao","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+357-##-###-###","cc":"CY","name_en":"Cyprus","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+420(###)###-###","cc":"CZ","name_en":"Czech Republic","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+49(####)###-####","cc":"DE","name_en":"Germany","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+49(###)###-####","cc":"DE","name_en":"Germany","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+49(###)##-####","cc":"DE","name_en":"Germany","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+49(###)##-###","cc":"DE","name_en":"Germany","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+49(###)##-##","cc":"DE","name_en":"Germany","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+49-###-###","cc":"DE","name_en":"Germany","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+253-##-##-##-##","cc":"DJ","name_en":"Djibouti","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+45-##-##-##-##","cc":"DK","name_en":"Denmark","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+1(767)###-####","cc":"DM","name_en":"Dominica","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+1(809)###-####","cc":"DO","name_en":"Dominican Republic","desc_en":"","name_ru":"  ","desc_ru":""},{"mask":"+1(829)###-####","cc":"DO","name_en":"Dominican Republic","desc_en":"","name_ru":"  ","desc_ru":""},{"mask":"+1(849)###-####","cc":"DO","name_en":"Dominican Republic","desc_en":"","name_ru":"  ","desc_ru":""},{"mask":"+213-##-###-####","cc":"DZ","name_en":"Algeria","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+593-##-###-####","cc":"EC","name_en":"Ecuador ","desc_en":"mobile","name_ru":" ","desc_ru":""},{"mask":"+593-#-###-####","cc":"EC","name_en":"Ecuador","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+372-####-####","cc":"EE","name_en":"Estonia ","desc_en":"mobile","name_ru":" ","desc_ru":""},{"mask":"+372-###-####","cc":"EE","name_en":"Estonia","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+20(###)###-####","cc":"EG","name_en":"Egypt","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+291-#-###-###","cc":"ER","name_en":"Eritrea","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+34(###)###-###","cc":"ES","name_en":"Spain","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+251-##-###-####","cc":"ET","name_en":"Ethiopia","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+358(###)###-##-##","cc":"FI","name_en":"Finland","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+679-##-#####","cc":"FJ","name_en":"Fiji","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+500-#####","cc":"FK","name_en":"Falkland Islands","desc_en":"","name_ru":" ","desc_ru":""},{"mask":"+691-###-####","cc":"FM","name_en":"F.S. Micronesia","desc_en":"","name_ru":".. ","desc_ru":""},{"mask":"+298-###-###","cc":"FO","name_en":"Faroe Islands","desc_en":"","name_ru":" ","desc_ru":""},{"mask":"+262-#####-####","cc":"FR","name_en":"Mayotte","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+33(###)###-###","cc":"FR","name_en":"France","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+508-##-####","cc":"FR","name_en":"St Pierre & Miquelon","desc_en":"","name_ru":"-  ","desc_ru":""},{"mask":"+590(###)###-###","cc":"FR","name_en":"Guadeloupe","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+241-#-##-##-##","cc":"GA","name_en":"Gabon","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+1(473)###-####","cc":"GD","name_en":"Grenada","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+995(###)###-###","cc":"GE","name_en":"Rep. of Georgia","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+594-#####-####","cc":"GF","name_en":"Guiana (French)","desc_en":"","name_ru":". ","desc_ru":""},{"mask":"+233(###)###-###","cc":"GH","name_en":"Ghana","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+350-###-#####","cc":"GI","name_en":"Gibraltar","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+299-##-##-##","cc":"GL","name_en":"Greenland","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+220(###)##-##","cc":"GM","name_en":"Gambia","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+224-##-###-###","cc":"GN","name_en":"Guinea","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+240-##-###-####","cc":"GQ","name_en":"Equatorial Guinea","desc_en":"","name_ru":" ","desc_ru":""},{"mask":"+30(###)###-####","cc":"GR","name_en":"Greece","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+502-#-###-####","cc":"GT","name_en":"Guatemala","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+1(671)###-####","cc":"GU","name_en":"Guam","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+245-#-######","cc":"GW","name_en":"Guinea-Bissau","desc_en":"","name_ru":"-","desc_ru":""},{"mask":"+592-###-####","cc":"GY","name_en":"Guyana","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+852-####-####","cc":"HK","name_en":"Hong Kong","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+504-####-####","cc":"HN","name_en":"Honduras","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+385-##-###-###","cc":"HR","name_en":"Croatia","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+509-##-##-####","cc":"HT","name_en":"Haiti","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+36(###)###-###","cc":"HU","name_en":"Hungary","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+62(8##)###-####","cc":"ID","name_en":"Indonesia ","desc_en":"mobile","name_ru":" ","desc_ru":""},{"mask":"+62-##-###-##","cc":"ID","name_en":"Indonesia","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+62-##-###-###","cc":"ID","name_en":"Indonesia","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+62-##-###-####","cc":"ID","name_en":"Indonesia","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+62(8##)###-###","cc":"ID","name_en":"Indonesia ","desc_en":"mobile","name_ru":" ","desc_ru":""},{"mask":"+62(8##)###-##-###","cc":"ID","name_en":"Indonesia ","desc_en":"mobile","name_ru":" ","desc_ru":""},{"mask":"+353(###)###-###","cc":"IE","name_en":"Ireland","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+972-5#-###-####","cc":"IL","name_en":"Israel ","desc_en":"mobile","name_ru":" ","desc_ru":""},{"mask":"+972-#-###-####","cc":"IL","name_en":"Israel","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+91(####)###-###","cc":"IN","name_en":"India","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+246-###-####","cc":"IO","name_en":"Diego Garcia","desc_en":"","name_ru":"-","desc_ru":""},{"mask":"+964(###)###-####","cc":"IQ","name_en":"Iraq","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+98(###)###-####","cc":"IR","name_en":"Iran","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+354-###-####","cc":"IS","name_en":"Iceland","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+39(###)####-###","cc":"IT","name_en":"Italy","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+1(876)###-####","cc":"JM","name_en":"Jamaica","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+962-#-####-####","cc":"JO","name_en":"Jordan","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+81-##-####-####","cc":"JP","name_en":"Japan ","desc_en":"mobile","name_ru":" ","desc_ru":""},{"mask":"+81(###)###-###","cc":"JP","name_en":"Japan","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+254-###-######","cc":"KE","name_en":"Kenya","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+996(###)###-###","cc":"KG","name_en":"Kyrgyzstan","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+855-##-###-###","cc":"KH","name_en":"Cambodia","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+686-##-###","cc":"KI","name_en":"Kiribati","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+269-##-#####","cc":"KM","name_en":"Comoros","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+1(869)###-####","cc":"KN","name_en":"Saint Kitts & Nevis","desc_en":"","name_ru":"-  ","desc_ru":""},{"mask":"+850-191-###-####","cc":"KP","name_en":"DPR Korea (North) ","desc_en":"mobile","name_ru":"   ","desc_ru":""},{"mask":"+850-##-###-###","cc":"KP","name_en":"DPR Korea (North)","desc_en":"","name_ru":"  ","desc_ru":""},{"mask":"+850-###-####-###","cc":"KP","name_en":"DPR Korea (North)","desc_en":"","name_ru":"  ","desc_ru":""},{"mask":"+850-###-###","cc":"KP","name_en":"DPR Korea (North)","desc_en":"","name_ru":"  ","desc_ru":""},{"mask":"+850-####-####","cc":"KP","name_en":"DPR Korea (North)","desc_en":"","name_ru":"  ","desc_ru":""},{"mask":"+850-####-#############","cc":"KP","name_en":"DPR Korea (North)","desc_en":"","name_ru":"  ","desc_ru":""},{"mask":"+82-##-###-####","cc":"KR","name_en":"Korea (South)","desc_en":"","name_ru":" . ","desc_ru":""},{"mask":"+965-####-####","cc":"KW","name_en":"Kuwait","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+1(345)###-####","cc":"KY","name_en":"Cayman Islands","desc_en":"","name_ru":" ","desc_ru":""},{"mask":"+7(6##)###-##-##","cc":"KZ","name_en":"Kazakhstan","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+7(7##)###-##-##","cc":"KZ","name_en":"Kazakhstan","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+856(20##)###-###","cc":"LA","name_en":"Laos ","desc_en":"mobile","name_ru":" ","desc_ru":""},{"mask":"+856-##-###-###","cc":"LA","name_en":"Laos","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+961-##-###-###","cc":"LB","name_en":"Lebanon ","desc_en":"mobile","name_ru":" ","desc_ru":""},{"mask":"+961-#-###-###","cc":"LB","name_en":"Lebanon","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+1(758)###-####","cc":"LC","name_en":"Saint Lucia","desc_en":"","name_ru":"-","desc_ru":""},{"mask":"+423(###)###-####","cc":"LI","name_en":"Liechtenstein","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+94-##-###-####","cc":"LK","name_en":"Sri Lanka","desc_en":"","name_ru":"-","desc_ru":""},{"mask":"+231-##-###-###","cc":"LR","name_en":"Liberia","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+266-#-###-####","cc":"LS","name_en":"Lesotho","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+370(###)##-###","cc":"LT","name_en":"Lithuania","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+352(###)###-###","cc":"LU","name_en":"Luxembourg","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+371-##-###-###","cc":"LV","name_en":"Latvia","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+218-##-###-###","cc":"LY","name_en":"Libya","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+218-21-###-####","cc":"LY","name_en":"Libya","desc_en":"Tripoli","name_ru":"","desc_ru":""},{"mask":"+212-##-####-###","cc":"MA","name_en":"Morocco","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+377(###)###-###","cc":"MC","name_en":"Monaco","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+377-##-###-###","cc":"MC","name_en":"Monaco","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+373-####-####","cc":"MD","name_en":"Moldova","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+382-##-###-###","cc":"ME","name_en":"Montenegro","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+261-##-##-#####","cc":"MG","name_en":"Madagascar","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+692-###-####","cc":"MH","name_en":"Marshall Islands","desc_en":"","name_ru":" ","desc_ru":""},{"mask":"+389-##-###-###","cc":"MK","name_en":"Republic of Macedonia","desc_en":"","name_ru":" . ","desc_ru":""},{"mask":"+223-##-##-####","cc":"ML","name_en":"Mali","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+95-##-###-###","cc":"MM","name_en":"Burma (Myanmar)","desc_en":"","name_ru":" ()","desc_ru":""},{"mask":"+95-#-###-###","cc":"MM","name_en":"Burma (Myanmar)","desc_en":"","name_ru":" ()","desc_ru":""},{"mask":"+95-###-###","cc":"MM","name_en":"Burma (Myanmar)","desc_en":"","name_ru":" ()","desc_ru":""},{"mask":"+976-##-##-####","cc":"MN","name_en":"Mongolia","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+853-####-####","cc":"MO","name_en":"Macau","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+1(670)###-####","cc":"MP","name_en":"Northern Mariana Islands","desc_en":"","name_ru":"   ","desc_ru":""},{"mask":"+596(###)##-##-##","cc":"MQ","name_en":"Martinique","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+222-##-##-####","cc":"MR","name_en":"Mauritania","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+1(664)###-####","cc":"MS","name_en":"Montserrat","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+356-####-####","cc":"MT","name_en":"Malta","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+230-###-####","cc":"MU","name_en":"Mauritius","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+960-###-####","cc":"MV","name_en":"Maldives","desc_en":"","name_ru":" ","desc_ru":""},{"mask":"+265-1-###-###","cc":"MW","name_en":"Malawi","desc_en":"Telecom Ltd","name_ru":"","desc_ru":"Telecom Ltd"},{"mask":"+265-#-####-####","cc":"MW","name_en":"Malawi","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+52(###)###-####","cc":"MX","name_en":"Mexico","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+52-##-##-####","cc":"MX","name_en":"Mexico","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+60-##-###-####","cc":"MY","name_en":"Malaysia ","desc_en":"mobile","name_ru":" ","desc_ru":""},{"mask":"+60(###)###-###","cc":"MY","name_en":"Malaysia","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+60-##-###-###","cc":"MY","name_en":"Malaysia","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+60-#-###-###","cc":"MY","name_en":"Malaysia","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+258-##-###-###","cc":"MZ","name_en":"Mozambique","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+264-##-###-####","cc":"NA","name_en":"Namibia","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+687-##-####","cc":"NC","name_en":"New Caledonia","desc_en":"","name_ru":" ","desc_ru":""},{"mask":"+227-##-##-####","cc":"NE","name_en":"Niger","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+672-3##-###","cc":"NF","name_en":"Norfolk Island","desc_en":"","name_ru":" ()","desc_ru":""},{"mask":"+234(###)###-####","cc":"NG","name_en":"Nigeria","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+234-##-###-###","cc":"NG","name_en":"Nigeria","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+234-##-###-##","cc":"NG","name_en":"Nigeria","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+234(###)###-####","cc":"NG","name_en":"Nigeria ","desc_en":"mobile","name_ru":" ","desc_ru":""},{"mask":"+505-####-####","cc":"NI","name_en":"Nicaragua","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+31-##-###-####","cc":"NL","name_en":"Netherlands","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+47(###)##-###","cc":"NO","name_en":"Norway","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+977-##-###-###","cc":"NP","name_en":"Nepal","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+674-###-####","cc":"NR","name_en":"Nauru","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+683-####","cc":"NU","name_en":"Niue","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+64(###)###-###","cc":"NZ","name_en":"New Zealand","desc_en":"","name_ru":" ","desc_ru":""},{"mask":"+64-##-###-###","cc":"NZ","name_en":"New Zealand","desc_en":"","name_ru":" ","desc_ru":""},{"mask":"+64(###)###-####","cc":"NZ","name_en":"New Zealand","desc_en":"","name_ru":" ","desc_ru":""},{"mask":"+968-##-###-###","cc":"OM","name_en":"Oman","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+507-###-####","cc":"PA","name_en":"Panama","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+51(###)###-###","cc":"PE","name_en":"Peru","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+689-##-##-##","cc":"PF","name_en":"French Polynesia","desc_en":"","name_ru":"  ()","desc_ru":""},{"mask":"+675(###)##-###","cc":"PG","name_en":"Papua New Guinea","desc_en":"","name_ru":"- ","desc_ru":""},{"mask":"+63(###)###-####","cc":"PH","name_en":"Philippines","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+92(###)###-####","cc":"PK","name_en":"Pakistan","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+48(###)###-###","cc":"PL","name_en":"Poland","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+970-##-###-####","cc":"PS","name_en":"Palestine","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+351-##-###-####","cc":"PT","name_en":"Portugal","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+680-###-####","cc":"PW","name_en":"Palau","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+595(###)###-###","cc":"PY","name_en":"Paraguay","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+974-####-####","cc":"QA","name_en":"Qatar","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+262-#####-####","cc":"RE","name_en":"Reunion","desc_en":"","name_ru":" ","desc_ru":""},{"mask":"+40-##-###-####","cc":"RO","name_en":"Romania","desc_en":"","name_ru":" ","desc_ru":""},{"mask":"+381-##-###-####","cc":"RS","name_en":"Serbia","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+7(###)###-##-##","cc":"RU","name_en":"Russia","desc_en":"","name_ru":" ","desc_ru":""},{"mask":"+250(###)###-###","cc":"RW","name_en":"Rwanda","desc_en":"","name_ru":" ","desc_ru":""},{"mask":"+966-5-####-####","cc":"SA","name_en":"Saudi Arabia ","desc_en":"mobile","name_ru":"  ","desc_ru":""},{"mask":"+966-#-###-####","cc":"SA","name_en":"Saudi Arabia","desc_en":"","name_ru":" ","desc_ru":""},{"mask":"+677-###-####","cc":"SB","name_en":"Solomon Islands ","desc_en":"mobile","name_ru":"  ","desc_ru":""},{"mask":"+677-#####","cc":"SB","name_en":"Solomon Islands","desc_en":"","name_ru":" ","desc_ru":""},{"mask":"+248-#-###-###","cc":"SC","name_en":"Seychelles","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+249-##-###-####","cc":"SD","name_en":"Sudan","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+46-##-###-####","cc":"SE","name_en":"Sweden","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+65-####-####","cc":"SG","name_en":"Singapore","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+290-####","cc":"SH","name_en":"Saint Helena","desc_en":"","name_ru":"  ","desc_ru":""},{"mask":"+290-####","cc":"SH","name_en":"Tristan da Cunha","desc_en":"","name_ru":"--","desc_ru":""},{"mask":"+386-##-###-###","cc":"SI","name_en":"Slovenia","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+421(###)###-###","cc":"SK","name_en":"Slovakia","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+232-##-######","cc":"SL","name_en":"Sierra Leone","desc_en":"","name_ru":"-","desc_ru":""},{"mask":"+378-####-######","cc":"SM","name_en":"San Marino","desc_en":"","name_ru":"-","desc_ru":""},{"mask":"+221-##-###-####","cc":"SN","name_en":"Senegal","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+252-##-###-###","cc":"SO","name_en":"Somalia","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+252-#-###-###","cc":"SO","name_en":"Somalia","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+252-#-###-###","cc":"SO","name_en":"Somalia ","desc_en":"mobile","name_ru":" ","desc_ru":""},{"mask":"+597-###-####","cc":"SR","name_en":"Suriname ","desc_en":"mobile","name_ru":" ","desc_ru":""},{"mask":"+597-###-###","cc":"SR","name_en":"Suriname","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+211-##-###-####","cc":"SS","name_en":"South Sudan","desc_en":"","name_ru":" ","desc_ru":""},{"mask":"+239-##-#####","cc":"ST","name_en":"Sao Tome and Principe","desc_en":"","name_ru":"-  ","desc_ru":""},{"mask":"+503-##-##-####","cc":"SV","name_en":"El Salvador","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+1(721)###-####","cc":"SX","name_en":"Sint Maarten","desc_en":"","name_ru":"-","desc_ru":""},{"mask":"+963-##-####-###","cc":"SY","name_en":"Syrian Arab Republic","desc_en":"","name_ru":"  ","desc_ru":""},{"mask":"+268-##-##-####","cc":"SZ","name_en":"Swaziland","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+1(649)###-####","cc":"TC","name_en":"Turks & Caicos","desc_en":"","name_ru":"  ","desc_ru":""},{"mask":"+235-##-##-##-##","cc":"TD","name_en":"Chad","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+228-##-###-###","cc":"TG","name_en":"Togo","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+66-##-###-####","cc":"TH","name_en":"Thailand ","desc_en":"mobile","name_ru":" ","desc_ru":""},{"mask":"+66-##-###-###","cc":"TH","name_en":"Thailand","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+992-##-###-####","cc":"TJ","name_en":"Tajikistan","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+690-####","cc":"TK","name_en":"Tokelau","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+670-###-####","cc":"TL","name_en":"East Timor","desc_en":"","name_ru":" ","desc_ru":""},{"mask":"+670-77#-#####","cc":"TL","name_en":"East Timor","desc_en":"Timor Telecom","name_ru":" ","desc_ru":"Timor Telecom"},{"mask":"+670-78#-#####","cc":"TL","name_en":"East Timor","desc_en":"Timor Telecom","name_ru":" ","desc_ru":"Timor Telecom"},{"mask":"+993-#-###-####","cc":"TM","name_en":"Turkmenistan","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+216-##-###-###","cc":"TN","name_en":"Tunisia","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+676-#####","cc":"TO","name_en":"Tonga","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+90(###)###-####","cc":"TR","name_en":"Turkey","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+1(868)###-####","cc":"TT","name_en":"Trinidad & Tobago","desc_en":"","name_ru":"  ","desc_ru":""},{"mask":"+688-90####","cc":"TV","name_en":"Tuvalu ","desc_en":"mobile","name_ru":" ","desc_ru":""},{"mask":"+688-2####","cc":"TV","name_en":"Tuvalu","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+886-#-####-####","cc":"TW","name_en":"Taiwan","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+886-####-####","cc":"TW","name_en":"Taiwan","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+255-##-###-####","cc":"TZ","name_en":"Tanzania","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+380(##)###-##-##","cc":"UA","name_en":"Ukraine","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+256(###)###-###","cc":"UG","name_en":"Uganda","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+44-##-####-####","cc":"UK","name_en":"United Kingdom","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+598-#-###-##-##","cc":"UY","name_en":"Uruguay","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+998-##-###-####","cc":"UZ","name_en":"Uzbekistan","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+39-6-698-#####","cc":"VA","name_en":"Vatican City","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+1(784)###-####","cc":"VC","name_en":"Saint Vincent & the Grenadines","desc_en":"","name_ru":"-  ","desc_ru":""},{"mask":"+58(###)###-####","cc":"VE","name_en":"Venezuela","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+1(284)###-####","cc":"VG","name_en":"British Virgin Islands","desc_en":"","name_ru":"  ","desc_ru":""},{"mask":"+1(340)###-####","cc":"VI","name_en":"US Virgin Islands","desc_en":"","name_ru":"  ","desc_ru":""},{"mask":"+84-##-####-###","cc":"VN","name_en":"Vietnam","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+84(###)####-###","cc":"VN","name_en":"Vietnam","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+678-##-#####","cc":"VU","name_en":"Vanuatu ","desc_en":"mobile","name_ru":" ","desc_ru":""},{"mask":"+678-#####","cc":"VU","name_en":"Vanuatu","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+681-##-####","cc":"WF","name_en":"Wallis and Futuna","desc_en":"","name_ru":"  ","desc_ru":""},{"mask":"+685-##-####","cc":"WS","name_en":"Samoa","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+967-###-###-###","cc":"YE","name_en":"Yemen ","desc_en":"mobile","name_ru":" ","desc_ru":""},{"mask":"+967-#-###-###","cc":"YE","name_en":"Yemen","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+967-##-###-###","cc":"YE","name_en":"Yemen","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+27-##-###-####","cc":"ZA","name_en":"South Africa","desc_en":"","name_ru":"-  .","desc_ru":""},{"mask":"+260-##-###-####","cc":"ZM","name_en":"Zambia","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+263-#-######","cc":"ZW","name_en":"Zimbabwe","desc_en":"","name_ru":"","desc_ru":""},{"mask":"+1(###)###-####","cc":["US","CA"],"name_en":"USA and Canada","desc_en":"","name_ru":"  ","desc_ru":""}];$(document).ready(function(){$('#js_auto_payment_lk_form input[name="auto_payment_lk"]').change(function(){$("#js_auto_payment_lk_form").trigger("submit");});$("#dashboard-reg .js_show_input_promocode").click(function(){if($("#dashboard-reg .js_input_promocode").is(":hidden")){$("#dashboard-reg .js_input_promocode").show("slow");}else{$("#dashboard-reg .js_input_promocode").hide("slow");}
    return false;});$("#studioSettings .js_show_input_add_domain").click(function(){if($("#studioSettings .js_input_add_domain").is(":hidden")){$("#studioSettings .js_input_add_domain").show("slow");}else{$("#studioSettings .js_input_add_domain").hide("slow");}
    return false;});});$('.landing-gallery__album img').bind('contextmenu',function(e){return false;});$('.js_edit_album_name').on('click',function(e){e.preventDefault();var title=$(this).closest('h3').find('.title').html();$(this).closest('h3').find('.title').replaceWith("<input class='form-control title js_edit_album_name_active' value='"+title+"'>");$(document).mouseup(function(e){e.preventDefault();var div=$(".js_edit_album_name_active");if(!div.is(e.target)&&div.has(e.target).length===0){var current_album=$(div).closest('h3').attr('data-current-album');var level_album=$(div).closest('h3').attr('data-level');var galleryId=urlParam('gallery');var name=$('.js_edit_album_name').closest('h3').find('.title').val();$.ajax({url:window.location.href,data:{type:'ajax',action:'edit_album_name',current_album:current_album,level_album:level_album,galleryId:galleryId,name:name},method:'post',success:function(data){data=JSON.parse(data);if(data.success){$('.js_edit_album_name').closest('h3').find('.title').replaceWith("<span class='title'>"+data.output.name+"</span>");$('#catalogSide .menu-category.active span').html(data.output.name);}else{}}});}});});$('.js_sort_photos_album').on('click',function(e){e.preventDefault();$(".loader_inner").fadeIn();$(".loader").delay(400).fadeIn("slow");var $elements=$('#sortable .gallery-wrap--tile');var $target=$('#sortable');if($(this).data('sort')=='ASC'){$elements.sort(function(a,b){var an=$(a).data('name'),bn=$(b).data('name');if(an&&bn){return an.toUpperCase().localeCompare(bn.toUpperCase());}
    return 0;});}else if($(this).data('sort')=='DESC'){$elements.sort(function(a,b){var an=$(a).data('name'),bn=$(b).data('name');if(an&&bn){return bn.toUpperCase().localeCompare(an.toUpperCase());}
    return 0;});}
    $elements.detach().appendTo($target);var galleryId=urlParam('gallery');var elements={};$("#sortable .gallery-wrap--tile:visible").each(function(i){elements[$(this).index()]=$(this).data('id');});$.ajax({url:window.location.href,data:{type:'ajax',action:'change_album_rank',galleryId:galleryId,elements:elements,sort:$(this).data('sort')},method:'post',success:function(data){data=JSON.parse(data);if(data.success){$(".loader_inner").fadeOut();$(".loader").delay(400).fadeOut("slow");}else{}}});});$(window).on('load',function(){$(".loader_inner").fadeOut();$(".loader").delay(400).fadeOut("slow");});$("body").on('click',"#js_add_domain_studio",function(e){e.preventDefault();$('#studioSettings').find('#js_domain_input').closest('div').removeClass('error').css({'margin-bottom':'0'});var domain=$('#studioSettings').find('#js_domain_input').val();if(domain.length==0){$('#studioSettings').find('#js_domain_input').closest('div').addClass('error').css({'margin-bottom':'0'});return;}
    $(".loader_inner").fadeIn();$(".loader").delay(400).fadeIn("slow");$.ajax({url:window.location.href,data:{type:'ajax',action:'add_domain_studio',domain:domain},method:'post',success:function(data){data=JSON.parse(data);$(".loader_inner").fadeOut();$(".loader").delay(400).fadeOut("slow");if(data.success){$(document).trigger('feedbackPopup_showPopup',{type:'success',message:data.message});}else{$(document).trigger('feedbackPopup_showPopup',{type:'error',message:data.message});}}});});$("body").on('submit',"#js_add_domain_ssl",function(e){e.preventDefault();$(".loader_inner").fadeIn();$(".loader").delay(400).fadeIn("slow");$.ajax({url:window.location.href,data:{type:'ajax',action:'add_domain_ssl'},method:'post',success:function(data){data=JSON.parse(data);$(".loader_inner").fadeOut();$(".loader").delay(400).fadeOut("slow");if(data.success){$(document).trigger('feedbackPopup_showPopup',{type:'success',message:data.message});}else{$(document).trigger('feedbackPopup_showPopup',{type:'error',message:data.message});}}});});$("body").on('submit',"#js_download_domain_ssl",function(e){e.preventDefault();$(".loader_inner").fadeIn();$(".loader").delay(400).fadeIn("slow");$.ajax({url:window.location.href,data:{type:'ajax',action:'download_domain_ssl'},method:'post',success:function(data){data=JSON.parse(data);$(".loader_inner").fadeOut();$(".loader").delay(400).fadeOut("slow");if(data.success){$(document).trigger('feedbackPopup_showPopup',{type:'success',message:data.message});}else{$(document).trigger('feedbackPopup_showPopup',{type:'error',message:data.message});}}});});!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a("object"==typeof exports?require("jquery"):window.jQuery||window.Zepto)}(function(a){var b,c,d,e,f,g,h="Close",i="BeforeClose",j="AfterClose",k="BeforeAppend",l="MarkupParse",m="Open",n="Change",o="mfp",p="."+o,q="mfp-ready",r="mfp-removing",s="mfp-prevent-close",t=function(){},u=!!window.jQuery,v=a(window),w=function(a,c){b.ev.on(o+a+p,c)},x=function(b,c,d,e){var f=document.createElement("div");return f.className="mfp-"+b,d&&(f.innerHTML=d),e?c&&c.appendChild(f):(f=a(f),c&&f.appendTo(c)),f},y=function(c,d){b.ev.triggerHandler(o+c,d),b.st.callbacks&&(c=c.charAt(0).toLowerCase()+c.slice(1),b.st.callbacks[c]&&b.st.callbacks[c].apply(b,a.isArray(d)?d:[d]))},z=function(c){return c===g&&b.currTemplate.closeBtn||(b.currTemplate.closeBtn=a(b.st.closeMarkup.replace("%title%",b.st.tClose)),g=c),b.currTemplate.closeBtn},A=function(){a.magnificPopup.instance||(b=new t,b.init(),a.magnificPopup.instance=b)},B=function(){var a=document.createElement("p").style,b=["ms","O","Moz","Webkit"];if(void 0!==a.transition)return!0;for(;b.length;)if(b.pop()+"Transition"in a)return!0;return!1};t.prototype={constructor:t,init:function(){var c=navigator.appVersion;b.isLowIE=b.isIE8=document.all&&!document.addEventListener,b.isAndroid=/android/gi.test(c),b.isIOS=/iphone|ipad|ipod/gi.test(c),b.supportsTransition=B(),b.probablyMobile=b.isAndroid||b.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent),d=a(document),b.popupsCache={}},open:function(c){var e;if(c.isObj===!1){b.items=c.items.toArray(),b.index=0;var g,h=c.items;for(e=0;e<h.length;e++)if(g=h[e],g.parsed&&(g=g.el[0]),g===c.el[0]){b.index=e;break}}else b.items=a.isArray(c.items)?c.items:[c.items],b.index=c.index||0;if(b.isOpen)return void b.updateItemHTML();b.types=[],f="",c.mainEl&&c.mainEl.length?b.ev=c.mainEl.eq(0):b.ev=d,c.key?(b.popupsCache[c.key]||(b.popupsCache[c.key]={}),b.currTemplate=b.popupsCache[c.key]):b.currTemplate={},b.st=a.extend(!0,{},a.magnificPopup.defaults,c),b.fixedContentPos="auto"===b.st.fixedContentPos?!b.probablyMobile:b.st.fixedContentPos,b.st.modal&&(b.st.closeOnContentClick=!1,b.st.closeOnBgClick=!1,b.st.showCloseBtn=!1,b.st.enableEscapeKey=!1),b.bgOverlay||(b.bgOverlay=x("bg").on("click"+p,function(){b.close()}),b.wrap=x("wrap").attr("tabindex",-1).on("click"+p,function(a){b._checkIfClose(a.target)&&b.close()}),b.container=x("container",b.wrap)),b.contentContainer=x("content"),b.st.preloader&&(b.preloader=x("preloader",b.container,b.st.tLoading));var i=a.magnificPopup.modules;for(e=0;e<i.length;e++){var j=i[e];j=j.charAt(0).toUpperCase()+j.slice(1),b["init"+j].call(b)}y("BeforeOpen"),b.st.showCloseBtn&&(b.st.closeBtnInside?(w(l,function(a,b,c,d){c.close_replaceWith=z(d.type)}),f+=" mfp-close-btn-in"):b.wrap.append(z())),b.st.alignTop&&(f+=" mfp-align-top"),b.fixedContentPos?b.wrap.css({overflow:b.st.overflowY,overflowX:"hidden",overflowY:b.st.overflowY}):b.wrap.css({top:v.scrollTop(),position:"absolute"}),(b.st.fixedBgPos===!1||"auto"===b.st.fixedBgPos&&!b.fixedContentPos)&&b.bgOverlay.css({height:d.height(),position:"absolute"}),b.st.enableEscapeKey&&d.on("keyup"+p,function(a){27===a.keyCode&&b.close()}),v.on("resize"+p,function(){b.updateSize()}),b.st.closeOnContentClick||(f+=" mfp-auto-cursor"),f&&b.wrap.addClass(f);var k=b.wH=v.height(),n={};if(b.fixedContentPos&&b._hasScrollBar(k)){var o=b._getScrollbarSize();o&&(n.marginRight=o)}b.fixedContentPos&&(b.isIE7?a("body, html").css("overflow","hidden"):n.overflow="hidden");var r=b.st.mainClass;return b.isIE7&&(r+=" mfp-ie7"),r&&b._addClassToMFP(r),b.updateItemHTML(),y("BuildControls"),a("html").css(n),b.bgOverlay.add(b.wrap).prependTo(b.st.prependTo||a(document.body)),b._lastFocusedEl=document.activeElement,setTimeout(function(){b.content?(b._addClassToMFP(q),b._setFocus()):b.bgOverlay.addClass(q),d.on("focusin"+p,b._onFocusIn)},16),b.isOpen=!0,b.updateSize(k),y(m),c},close:function(){b.isOpen&&(y(i),b.isOpen=!1,b.st.removalDelay&&!b.isLowIE&&b.supportsTransition?(b._addClassToMFP(r),setTimeout(function(){b._close()},b.st.removalDelay)):b._close())},_close:function(){y(h);var c=r+" "+q+" ";if(b.bgOverlay.detach(),b.wrap.detach(),b.container.empty(),b.st.mainClass&&(c+=b.st.mainClass+" "),b._removeClassFromMFP(c),b.fixedContentPos){var e={marginRight:""};b.isIE7?a("body, html").css("overflow",""):e.overflow="",a("html").css(e)}d.off("keyup"+p+" focusin"+p),b.ev.off(p),b.wrap.attr("class","mfp-wrap").removeAttr("style"),b.bgOverlay.attr("class","mfp-bg"),b.container.attr("class","mfp-container"),!b.st.showCloseBtn||b.st.closeBtnInside&&b.currTemplate[b.currItem.type]!==!0||b.currTemplate.closeBtn&&b.currTemplate.closeBtn.detach(),b.st.autoFocusLast&&b._lastFocusedEl&&a(b._lastFocusedEl).focus(),b.currItem=null,b.content=null,b.currTemplate=null,b.prevHeight=0,y(j)},updateSize:function(a){if(b.isIOS){var c=document.documentElement.clientWidth/window.innerWidth,d=window.innerHeight*c;b.wrap.css("height",d),b.wH=d}else b.wH=a||v.height();b.fixedContentPos||b.wrap.css("height",b.wH),y("Resize")},updateItemHTML:function(){var c=b.items[b.index];b.contentContainer.detach(),b.content&&b.content.detach(),c.parsed||(c=b.parseEl(b.index));var d=c.type;if(y("BeforeChange",[b.currItem?b.currItem.type:"",d]),b.currItem=c,!b.currTemplate[d]){var f=b.st[d]?b.st[d].markup:!1;y("FirstMarkupParse",f),f?b.currTemplate[d]=a(f):b.currTemplate[d]=!0}e&&e!==c.type&&b.container.removeClass("mfp-"+e+"-holder");var g=b["get"+d.charAt(0).toUpperCase()+d.slice(1)](c,b.currTemplate[d]);b.appendContent(g,d),c.preloaded=!0,y(n,c),e=c.type,b.container.prepend(b.contentContainer),y("AfterChange")},appendContent:function(a,c){b.content=a,a?b.st.showCloseBtn&&b.st.closeBtnInside&&b.currTemplate[c]===!0?b.content.find(".mfp-close").length||b.content.append(z()):b.content=a:b.content="",y(k),b.container.addClass("mfp-"+c+"-holder"),b.contentContainer.append(b.content)},parseEl:function(c){var d,e=b.items[c];if(e.tagName?e={el:a(e)}:(d=e.type,e={data:e,src:e.src}),e.el){for(var f=b.types,g=0;g<f.length;g++)if(e.el.hasClass("mfp-"+f[g])){d=f[g];break}e.src=e.el.attr("data-mfp-src"),e.src||(e.src=e.el.attr("href"))}return e.type=d||b.st.type||"inline",e.index=c,e.parsed=!0,b.items[c]=e,y("ElementParse",e),b.items[c]},addGroup:function(a,c){var d=function(d){d.mfpEl=this,b._openClick(d,a,c)};c||(c={});var e="click.magnificPopup";c.mainEl=a,c.items?(c.isObj=!0,a.off(e).on(e,d)):(c.isObj=!1,c.delegate?a.off(e).on(e,c.delegate,d):(c.items=a,a.off(e).on(e,d)))},_openClick:function(c,d,e){var f=void 0!==e.midClick?e.midClick:a.magnificPopup.defaults.midClick;if(f||!(2===c.which||c.ctrlKey||c.metaKey||c.altKey||c.shiftKey)){var g=void 0!==e.disableOn?e.disableOn:a.magnificPopup.defaults.disableOn;if(g)if(a.isFunction(g)){if(!g.call(b))return!0}else if(v.width()<g)return!0;c.type&&(c.preventDefault(),b.isOpen&&c.stopPropagation()),e.el=a(c.mfpEl),e.delegate&&(e.items=d.find(e.delegate)),b.open(e)}},updateStatus:function(a,d){if(b.preloader){c!==a&&b.container.removeClass("mfp-s-"+c),d||"loading"!==a||(d=b.st.tLoading);var e={status:a,text:d};y("UpdateStatus",e),a=e.status,d=e.text,b.preloader.html(d),b.preloader.find("a").on("click",function(a){a.stopImmediatePropagation()}),b.container.addClass("mfp-s-"+a),c=a}},_checkIfClose:function(c){if(!a(c).hasClass(s)){var d=b.st.closeOnContentClick,e=b.st.closeOnBgClick;if(d&&e)return!0;if(!b.content||a(c).hasClass("mfp-close")||b.preloader&&c===b.preloader[0])return!0;if(c===b.content[0]||a.contains(b.content[0],c)){if(d)return!0}else if(e&&a.contains(document,c))return!0;return!1}},_addClassToMFP:function(a){b.bgOverlay.addClass(a),b.wrap.addClass(a)},_removeClassFromMFP:function(a){this.bgOverlay.removeClass(a),b.wrap.removeClass(a)},_hasScrollBar:function(a){return(b.isIE7?d.height():document.body.scrollHeight)>(a||v.height())},_setFocus:function(){(b.st.focus?b.content.find(b.st.focus).eq(0):b.wrap).focus()},_onFocusIn:function(c){return c.target===b.wrap[0]||a.contains(b.wrap[0],c.target)?void 0:(b._setFocus(),!1)},_parseMarkup:function(b,c,d){var e;d.data&&(c=a.extend(d.data,c)),y(l,[b,c,d]),a.each(c,function(c,d){if(void 0===d||d===!1)return!0;if(e=c.split("_"),e.length>1){var f=b.find(p+"-"+e[0]);if(f.length>0){var g=e[1];"replaceWith"===g?f[0]!==d[0]&&f.replaceWith(d):"img"===g?f.is("img")?f.attr("src",d):f.replaceWith(a("<img>").attr("src",d).attr("class",f.attr("class"))):f.attr(e[1],d)}}else b.find(p+"-"+c).html(d)})},_getScrollbarSize:function(){if(void 0===b.scrollbarSize){var a=document.createElement("div");a.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(a),b.scrollbarSize=a.offsetWidth-a.clientWidth,document.body.removeChild(a)}return b.scrollbarSize}},a.magnificPopup={instance:null,proto:t.prototype,modules:[],open:function(b,c){return A(),b=b?a.extend(!0,{},b):{},b.isObj=!0,b.index=c||0,this.instance.open(b)},close:function(){return a.magnificPopup.instance&&a.magnificPopup.instance.close()},registerModule:function(b,c){c.options&&(a.magnificPopup.defaults[b]=c.options),a.extend(this.proto,c.proto),this.modules.push(b)},defaults:{disableOn:0,key:null,midClick:!1,mainClass:"",preloader:!0,focus:"",closeOnContentClick:!1,closeOnBgClick:!0,closeBtnInside:!0,showCloseBtn:!0,enableEscapeKey:!0,modal:!1,alignTop:!1,removalDelay:0,prependTo:null,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close">&#215;</button>',tClose:"Close (Esc)",tLoading:"Loading...",autoFocusLast:!0}},a.fn.magnificPopup=function(c){A();var d=a(this);if("string"==typeof c)if("open"===c){var e,f=u?d.data("magnificPopup"):d[0].magnificPopup,g=parseInt(arguments[1],10)||0;f.items?e=f.items[g]:(e=d,f.delegate&&(e=e.find(f.delegate)),e=e.eq(g)),b._openClick({mfpEl:e},d,f)}else b.isOpen&&b[c].apply(b,Array.prototype.slice.call(arguments,1));else c=a.extend(!0,{},c),u?d.data("magnificPopup",c):d[0].magnificPopup=c,b.addGroup(d,c);return d};var C,D,E,F="inline",G=function(){E&&(D.after(E.addClass(C)).detach(),E=null)};a.magnificPopup.registerModule(F,{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){b.types.push(F),w(h+"."+F,function(){G()})},getInline:function(c,d){if(G(),c.src){var e=b.st.inline,f=a(c.src);if(f.length){var g=f[0].parentNode;g&&g.tagName&&(D||(C=e.hiddenClass,D=x(C),C="mfp-"+C),E=f.after(D).detach().removeClass(C)),b.updateStatus("ready")}else b.updateStatus("error",e.tNotFound),f=a("<div>");return c.inlineElement=f,f}return b.updateStatus("ready"),b._parseMarkup(d,{},c),d}}});var H,I="ajax",J=function(){H&&a(document.body).removeClass(H)},K=function(){J(),b.req&&b.req.abort()};a.magnificPopup.registerModule(I,{options:{settings:null,cursor:"mfp-ajax-cur",tError:'<a href="%url%">The content</a> could not be loaded.'},proto:{initAjax:function(){b.types.push(I),H=b.st.ajax.cursor,w(h+"."+I,K),w("BeforeChange."+I,K)},getAjax:function(c){H&&a(document.body).addClass(H),b.updateStatus("loading");var d=a.extend({url:c.src,success:function(d,e,f){var g={data:d,xhr:f};y("ParseAjax",g),b.appendContent(a(g.data),I),c.finished=!0,J(),b._setFocus(),setTimeout(function(){b.wrap.addClass(q)},16),b.updateStatus("ready"),y("AjaxContentAdded")},error:function(){J(),c.finished=c.loadError=!0,b.updateStatus("error",b.st.ajax.tError.replace("%url%",c.src))}},b.st.ajax.settings);return b.req=a.ajax(d),""}}});var L,M=function(c){if(c.data&&void 0!==c.data.title)return c.data.title;var d=b.st.image.titleSrc;if(d){if(a.isFunction(d))return d.call(b,c);if(c.el)return c.el.attr(d)||""}return""};a.magnificPopup.registerModule("image",{options:{markup:'<div class="mfp-figure"><div class="mfp-close"></div><figure><div class="mfp-img"></div><figcaption><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></figcaption></figure></div>',cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:!0,tError:'<a href="%url%">The image</a> could not be loaded.'},proto:{initImage:function(){var c=b.st.image,d=".image";b.types.push("image"),w(m+d,function(){"image"===b.currItem.type&&c.cursor&&a(document.body).addClass(c.cursor)}),w(h+d,function(){c.cursor&&a(document.body).removeClass(c.cursor),v.off("resize"+p)}),w("Resize"+d,b.resizeImage),b.isLowIE&&w("AfterChange",b.resizeImage)},resizeImage:function(){var a=b.currItem;if(a&&a.img&&b.st.image.verticalFit){var c=0;b.isLowIE&&(c=parseInt(a.img.css("padding-top"),10)+parseInt(a.img.css("padding-bottom"),10)),a.img.css("max-height",b.wH-c)}},_onImageHasSize:function(a){a.img&&(a.hasSize=!0,L&&clearInterval(L),a.isCheckingImgSize=!1,y("ImageHasSize",a),a.imgHidden&&(b.content&&b.content.removeClass("mfp-loading"),a.imgHidden=!1))},findImageSize:function(a){var c=0,d=a.img[0],e=function(f){L&&clearInterval(L),L=setInterval(function(){return d.naturalWidth>0?void b._onImageHasSize(a):(c>200&&clearInterval(L),c++,void(3===c?e(10):40===c?e(50):100===c&&e(500)))},f)};e(1)},getImage:function(c,d){var e=0,f=function(){c&&(c.img[0].complete?(c.img.off(".mfploader"),c===b.currItem&&(b._onImageHasSize(c),b.updateStatus("ready")),c.hasSize=!0,c.loaded=!0,y("ImageLoadComplete")):(e++,200>e?setTimeout(f,100):g()))},g=function(){c&&(c.img.off(".mfploader"),c===b.currItem&&(b._onImageHasSize(c),b.updateStatus("error",h.tError.replace("%url%",c.src))),c.hasSize=!0,c.loaded=!0,c.loadError=!0)},h=b.st.image,i=d.find(".mfp-img");if(i.length){var j=document.createElement("img");j.className="mfp-img",c.el&&c.el.find("img").length&&(j.alt=c.el.find("img").attr("alt")),c.img=a(j).on("load.mfploader",f).on("error.mfploader",g),j.src=c.src,i.is("img")&&(c.img=c.img.clone()),j=c.img[0],j.naturalWidth>0?c.hasSize=!0:j.width||(c.hasSize=!1)}return b._parseMarkup(d,{title:M(c),img_replaceWith:c.img},c),b.resizeImage(),c.hasSize?(L&&clearInterval(L),c.loadError?(d.addClass("mfp-loading"),b.updateStatus("error",h.tError.replace("%url%",c.src))):(d.removeClass("mfp-loading"),b.updateStatus("ready")),d):(b.updateStatus("loading"),c.loading=!0,c.hasSize||(c.imgHidden=!0,d.addClass("mfp-loading"),b.findImageSize(c)),d)}}});var N,O=function(){return void 0===N&&(N=void 0!==document.createElement("p").style.MozTransform),N};a.magnificPopup.registerModule("zoom",{options:{enabled:!1,easing:"ease-in-out",duration:300,opener:function(a){return a.is("img")?a:a.find("img")}},proto:{initZoom:function(){var a,c=b.st.zoom,d=".zoom";if(c.enabled&&b.supportsTransition){var e,f,g=c.duration,j=function(a){var b=a.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),d="all "+c.duration/1e3+"s "+c.easing,e={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"},f="transition";return e["-webkit-"+f]=e["-moz-"+f]=e["-o-"+f]=e[f]=d,b.css(e),b},k=function(){b.content.css("visibility","visible")};w("BuildControls"+d,function(){if(b._allowZoom()){if(clearTimeout(e),b.content.css("visibility","hidden"),a=b._getItemToZoom(),!a)return void k();f=j(a),f.css(b._getOffset()),b.wrap.append(f),e=setTimeout(function(){f.css(b._getOffset(!0)),e=setTimeout(function(){k(),setTimeout(function(){f.remove(),a=f=null,y("ZoomAnimationEnded")},16)},g)},16)}}),w(i+d,function(){if(b._allowZoom()){if(clearTimeout(e),b.st.removalDelay=g,!a){if(a=b._getItemToZoom(),!a)return;f=j(a)}f.css(b._getOffset(!0)),b.wrap.append(f),b.content.css("visibility","hidden"),setTimeout(function(){f.css(b._getOffset())},16)}}),w(h+d,function(){b._allowZoom()&&(k(),f&&f.remove(),a=null)})}},_allowZoom:function(){return"image"===b.currItem.type},_getItemToZoom:function(){return b.currItem.hasSize?b.currItem.img:!1},_getOffset:function(c){var d;d=c?b.currItem.img:b.st.zoom.opener(b.currItem.el||b.currItem);var e=d.offset(),f=parseInt(d.css("padding-top"),10),g=parseInt(d.css("padding-bottom"),10);e.top-=a(window).scrollTop()-f;var h={width:d.width(),height:(u?d.innerHeight():d[0].offsetHeight)-g-f};return O()?h["-moz-transform"]=h.transform="translate("+e.left+"px,"+e.top+"px)":(h.left=e.left,h.top=e.top),h}}});var P="iframe",Q="//about:blank",R=function(a){if(b.currTemplate[P]){var c=b.currTemplate[P].find("iframe");c.length&&(a||(c[0].src=Q),b.isIE8&&c.css("display",a?"block":"none"))}};a.magnificPopup.registerModule(P,{options:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe></div>',srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){b.types.push(P),w("BeforeChange",function(a,b,c){b!==c&&(b===P?R():c===P&&R(!0))}),w(h+"."+P,function(){R()})},getIframe:function(c,d){var e=c.src,f=b.st.iframe;a.each(f.patterns,function(){return e.indexOf(this.index)>-1?(this.id&&(e="string"==typeof this.id?e.substr(e.lastIndexOf(this.id)+this.id.length,e.length):this.id.call(this,e)),e=this.src.replace("%id%",e),!1):void 0});var g={};return f.srcAction&&(g[f.srcAction]=e),b._parseMarkup(d,g,c),b.updateStatus("ready"),d}}});var S=function(a){var c=b.items.length;return a>c-1?a-c:0>a?c+a:a},T=function(a,b,c){return a.replace(/%curr%/gi,b+1).replace(/%total%/gi,c)};a.magnificPopup.registerModule("gallery",{options:{enabled:!1,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',preload:[0,2],navigateByImgClick:!0,arrows:!0,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var c=b.st.gallery,e=".mfp-gallery";return b.direction=!0,c&&c.enabled?(f+=" mfp-gallery",w(m+e,function(){c.navigateByImgClick&&b.wrap.on("click"+e,".mfp-img",function(){return b.items.length>1?(b.next(),!1):void 0}),d.on("keydown"+e,function(a){37===a.keyCode?b.prev():39===a.keyCode&&b.next()})}),w("UpdateStatus"+e,function(a,c){c.text&&(c.text=T(c.text,b.currItem.index,b.items.length))}),w(l+e,function(a,d,e,f){var g=b.items.length;e.counter=g>1?T(c.tCounter,f.index,g):""}),w("BuildControls"+e,function(){if(b.items.length>1&&c.arrows&&!b.arrowLeft){var d=c.arrowMarkup,e=b.arrowLeft=a(d.replace(/%title%/gi,c.tPrev).replace(/%dir%/gi,"left")).addClass(s),f=b.arrowRight=a(d.replace(/%title%/gi,c.tNext).replace(/%dir%/gi,"right")).addClass(s);e.click(function(){b.prev()}),f.click(function(){b.next()}),b.container.append(e.add(f))}}),w(n+e,function(){b._preloadTimeout&&clearTimeout(b._preloadTimeout),b._preloadTimeout=setTimeout(function(){b.preloadNearbyImages(),b._preloadTimeout=null},16)}),void w(h+e,function(){d.off(e),b.wrap.off("click"+e),b.arrowRight=b.arrowLeft=null})):!1},next:function(){b.direction=!0,b.index=S(b.index+1),b.updateItemHTML()},prev:function(){b.direction=!1,b.index=S(b.index-1),b.updateItemHTML()},goTo:function(a){b.direction=a>=b.index,b.index=a,b.updateItemHTML()},preloadNearbyImages:function(){var a,c=b.st.gallery.preload,d=Math.min(c[0],b.items.length),e=Math.min(c[1],b.items.length);for(a=1;a<=(b.direction?e:d);a++)b._preloadItem(b.index+a);for(a=1;a<=(b.direction?d:e);a++)b._preloadItem(b.index-a)},_preloadItem:function(c){if(c=S(c),!b.items[c].preloaded){var d=b.items[c];d.parsed||(d=b.parseEl(c)),y("LazyLoad",d),"image"===d.type&&(d.img=a('<img class="mfp-img" />').on("load.mfploader",function(){d.hasSize=!0}).on("error.mfploader",function(){d.hasSize=!0,d.loadError=!0,y("LazyLoadError",d)}).attr("src",d.src)),d.preloaded=!0}}}});var U="retina";a.magnificPopup.registerModule(U,{options:{replaceSrc:function(a){return a.src.replace(/\.\w+$/,function(a){return"@2x"+a})},ratio:1},proto:{initRetina:function(){if(window.devicePixelRatio>1){var a=b.st.retina,c=a.ratio;c=isNaN(c)?c():c,c>1&&(w("ImageHasSize."+U,function(a,b){b.img.css({"max-width":b.img[0].naturalWidth/c,width:"100%"})}),w("ElementParse."+U,function(b,d){d.src=a.replaceSrc(d,c)}))}}}}),A()});$('.cart-items').magnificPopup({delegate:'div.image-popup-zoom',type:'image',gallery:{enabled:true,navigateByImgClick:true,preload:[0,1]}});$('.notification-container').magnificPopup({delegate:'a.image-popup-zoom',type:'image',gallery:{enabled:true,navigateByImgClick:true,preload:[0,1]}});$("body").on('submit',"#js_delete_all_albums",function(e){e.preventDefault();$(".loader_inner").fadeIn();$(".loader").delay(400).fadeIn("slow");$.ajax({url:window.location.href,data:{type:'ajax',action:'delete_all_albums'},method:'post',success:function(data){data=JSON.parse(data);$(".loader_inner").fadeOut();$(".loader").delay(400).fadeOut("slow");if(data.success){}else{}}});});$("body").on('click',".js_download_photo",function(e){e.preventDefault();var photoId=$(this).data('id');window.open('https://greenlight.ink/ajax/downloadphoto?id='+photoId);});$("body").on('click',".js_share_photo",function(e){e.preventDefault();var id=$(this).data('id');var image=$(this).data('bgimage');var url=$(this).data('url');$.ajax({url:window.location.href,data:{type:'ajax',action:'share_photo',id:id},method:'post',success:function(data){data=JSON.parse(data);if(data.success){$('#js_shred_photo_modal .social_share').attr('data-image',image);$('#js_shred_photo_modal .social_share').attr('data-url',location.origin+url);$('#js_shred_photo_modal .social_share').attr('data-count_url',location.origin+url);$('#js_shred_photo_modal .social_share').attr('data-text',data.output['text']);$('#js_shred_photo_modal .social_share').attr('data-title',data.output['title']);$('#js_shred_photo_modal').removeClass('blocked');$('#js_shred_photo_modal').addClass('active');$('body').addClass('muted');}else{}}});});$(document).on('click','.social_share',function(){Share.go(this);});$("body").on('click',"#js_hide_photos",function(e){e.preventDefault();$(".loader_inner").fadeIn();$(".loader").delay(400).fadeIn("slow");var photos=$(document).find('.gallery-wrap--selected');var ids={};let number=0;photos.each(function(){ids[number]=$(this).data('id');number++;});if(number>0){$.ajax({url:global.ajaxHandlerUrl,data:{type:'ajax',action:'hide_photos',photosIds:ids},method:'post',success:function(data){$(".loader_inner").fadeOut();$(".loader").delay(400).fadeOut("slow");data=JSON.parse(data);if(data.success){photos.each(function(){if($(this).hasClass("hide-elemet-photo-item")){$(this).removeClass("hide-elemet-photo-item");}else{$(this).addClass("hide-elemet-photo-item");}});$(document).trigger('feedbackPopup_showPopup',{type:'success',message:data.message});}else{$(document).trigger('feedbackPopup_showPopup',{type:'error',message:' ,     '});}}});}else{$(document).trigger('feedbackPopup_showPopup',{type:'error',message:'   !'});}});$(".js_hide_photo_client").hover(function(){if($('i',this).hasClass('fa-eye')){$('i',this).addClass('fa-eye-slash');$('i',this).removeClass('fa-eye');}else if($('i',this).hasClass('fa-eye-slash')){$('i',this).addClass('fa-eye');$('i',this).removeClass('fa-eye-slash');}});$("body").on('click',".js_hide_photo_client",function(e){e.preventDefault();var ids=$(this).data('id');var $this=$(this);$.ajax({url:window.location.href,data:{type:'ajax',action:'hide_photo_client',photoIds:ids},method:'post',success:function(data){data=JSON.parse(data);if(data.success){if(data.hide==1){$($this).closest('.thumbs_album').find('.js_hide_photo_client_item').css({'display':'block'});$($this).closest('.thumbs_album').find('.js_hide_photo_client i').addClass('fa-eye-slash');$($this).closest('.thumbs_album').find('.js_hide_photo_client i').removeClass('fa-eye');$($this).closest('.thumbs_album').find('.js_hide_photo_client').attr('title','');}else{$($this).closest('.thumbs_album').find('.js_hide_photo_client_item').css({'display':'none'});$($this).closest('.thumbs_album').find('.js_hide_photo_client i').addClass('fa-eye');$($this).closest('.thumbs_album').find('.js_hide_photo_client i').removeClass('fa-eye-slash');$($this).closest('.thumbs_album').find('.js_hide_photo_client').attr('title','');}}else{$(document).trigger('feedbackPopup_showPopup',{type:'error',message:' ,     '});}}});});$(".nav-about").on("click",function(){$([document.documentElement,document.body]).animate({scrollTop:$(".nav-about").offset().top-100},400);setTimeout(function(){if($('#for-who').hasClass("active")){$('.nav-about li:nth-child(1)').attr("class","active");$('.nav-about li:nth-child(2)').attr("class","");}else{$('.nav-about li:nth-child(2)').attr("class","active");$('.nav-about li:nth-child(1)').attr("class","")}},300)});setInterval(function(){if(typeof AOS==='undefined'||AOS===null){}else{AOS.refreshHard();}},1000);$("body").on('click',".js_send_contacts_message",function(e){e.preventDefault();var contacts=$('#contactList input[name="personal_contact"]:checked');var emails=[];let number=0;contacts.each(function(){emails.push($(this).val());number++;});if(number>0){$('#js_share_send_message_contacts input[name="emails"]').val(emails.join(','));$('#js_share_send_message_contacts').addClass('active');$('body').addClass('muted');}else{$(document).trigger('feedbackPopup_showPopup',{type:'error',message:'   !'});}});$("body").on('submit',"#js_send_message_contacts",function(e){e.preventDefault();$(".loader_inner").fadeIn();$(".loader").delay(400).fadeIn("slow");var emails=$("#js_send_message_contacts input[name='emails']").val();var text=$("#js_send_message_contacts textarea[name='text']").val();$.ajax({url:global.ajaxHandlerUrl,data:{type:'ajax',action:'send_message_contacts',emails:emails,text:text},method:'post',success:function(data){data=JSON.parse(data);if(data.success){$(".loader_inner").fadeOut();$(".loader").delay(400).fadeOut("slow");$('#contactList input[name="personal_contact"]').prop('checked',false);$("#js_send_message_contacts textarea[name='text']").val('');$('#js_share_send_message_contacts').removeClass('active');$('body').removeClass('muted');$(document).trigger('feedbackPopup_showPopup',{type:'success',message:data.output['message']});}else{$(".loader_inner").fadeOut();$(".loader").delay(400).fadeOut("slow");$(document).trigger('feedbackPopup_showPopup',{type:'error',message:' ,     '});}}});});$(function(){});$('.fotorama').on('fotorama:show',function(e,fotorama){var url=document.location.origin;var uri=document.location.pathname;var newUri='';var newUrl;var idPose=uri.lastIndexOf('/')+1;for(var i=0;i<idPose;i++){newUri+=uri[i];}
    newUri+=fotorama.activeFrame.id;newUrl=url+newUri;history.pushState('','',newUrl)});$('.fotorama').on('fotorama:ready',function(e,fotorama){});if($('#colorpicker').length>0){$("#colorpicker").spectrum({preferredFormat:"hex",});}
$('#studioSettings select[name="color_scheme"]').on('change',function(){if($('option:selected',this).val()==1){$('.js_colorpicker_wp').show();}else{$('.js_colorpicker_wp').hide();}});$(document).on('after_complete',function(event,response){var form=response.form;if(form.attr('id')=='js_auto_payment_form'){$(".loader_inner").fadeOut();$(".loader").delay(400).fadeOut("slow");$(document).trigger('feedbackPopup_showPopup',{type:'success',message:response.message});if(response.auto_payment==1){$('#js_auto_payment_form input[name="auto_payment"]').prop('checked',true);}else{$('#js_auto_payment_form input[name="auto_payment"]').prop('checked',false);}
    if(response.bindingid.length>0){$('#js_auto_payment_form input[value="'+response.bindingid+'"]').prop('checked',true);}}else if(form.attr('id')=='js_update_design'){if(response.success){$(document).trigger('feedbackPopup_showPopup',{type:'success',message:'  .'});document.location.href=window.location.origin+window.location.pathname+"?id="+response.data['id'];}}else if(form.attr('id')=='js_auto_payment_lk_form'){$(".loader_inner").fadeOut();$(".loader").delay(400).fadeOut("slow");$(document).trigger('feedbackPopup_showPopup',{type:'success',message:response.message});if(response.auto_payment_lk==1){$('input[name="auto_payment_lk"]',form).prop('checked',true);}else{$('input[name="auto_payment_lk"]',form).prop('checked',false);}}});$(".js-select2-tags").select2({tags:true});$("body").on('click',".js_design_dell",function(e){e.preventDefault();var $this=$(this);$.ajax({url:global.ajaxHandlerUrl,data:{type:'ajax',action:'design_dell',id:$(this).attr('data-id')},method:'post',success:function(data){data=JSON.parse(data);if(data.success){$this.closest('.gallery-wrap').remove();}else{}}});});$("body").on('click',".js_design_apply",function(e){e.preventDefault();$('.design .gallery').removeClass('active');$(this).closest('.gallery').addClass('active');$.ajax({url:global.ajaxHandlerUrl,data:{type:'ajax',action:'design_apply',id:$(this).attr('data-id')},method:'post',success:function(data){data=JSON.parse(data);if(data.success){$(document).trigger('feedbackPopup_showPopup',{type:'success',message:'  .'});}else{}}});});$("body").on('click',".js_default_template_apply",function(e){e.preventDefault();$('.design .gallery').removeClass('active');$(this).closest('.gallery').addClass('active');$.ajax({url:global.ajaxHandlerUrl,data:{type:'ajax',action:'default_template_apply',id:$(this).attr('data-id')},method:'post',success:function(data){data=JSON.parse(data);if(data.success){$(document).trigger('feedbackPopup_showPopup',{type:'success',message:'  .'});}else{}}});});$("body").on('click',".js_default_new_template_apply",function(e){e.preventDefault();$('.design .gallery').removeClass('active');$(this).closest('.gallery').addClass('active');$.ajax({url:global.ajaxHandlerUrl,data:{type:'ajax',action:'default_new_template_apply',id:$(this).attr('data-id')},method:'post',success:function(data){data=JSON.parse(data);if(data.success){$(document).trigger('feedbackPopup_showPopup',{type:'success',message:'  .'});}else{}}});});$("body").on('click',".js_open_up_balance",function(e){e.preventDefault();$('#js_up_balance_popup').addClass('active');});$(document).on('af_complete',function(event,response){var form=response.form;if(response.success){if(form.attr('id')=='js_up_balance_form'){window.location.href=response.data.redirect;}}});$('#js_update_design .js_change_template').on('select2:select',function(e){var design=$('option:selected',this).val();document.location.href=window.location.origin+window.location.pathname+"?id="+design;});$(function(){if(global.cultureKey!='en'){}
    appMakeBeCool.gateway.init();});